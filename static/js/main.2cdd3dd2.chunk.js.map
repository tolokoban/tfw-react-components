{"version":3,"sources":["data/words-list.txt","tfw/view/input.yaml","tfw/factory/dialog.yaml","tfw/color.ts","tfw/theme.ts","tfw/layout/stack.tsx","tfw/converter/array.ts","tfw/converter/string.ts","tfw/converter/boolean.ts","tfw/gesture/moves.ts","tfw/gesture.ts","tfw/converter/function.ts","tfw/behavior/touchable.ts","tfw/converter/integer.ts","tfw/converter/unit.ts","tfw/icons.ts","tfw/view/icon.tsx","tfw/escape-handler.ts","tfw/view/combo.tsx","tfw/converter/string-array.ts","tfw/view/button.tsx","tfw/layout/flex.tsx","tfw/debouncer.ts","tfw/view/list.tsx","tfw/view/checkbox.tsx","tfw/view/Fieldset.tsx","page/list/word.tsx","page/list.tsx","tfw/intl.ts","tfw/view/input.tsx","tfw/factory/dialog.tsx","page/icon.tsx","page/combo.tsx","page/button.tsx","page/checkbox.tsx","tfw/storage.ts","App.tsx","index.tsx"],"names":["module","exports","__webpack_require__","p","en","nan","fr","it","cancel","close","ok","Color","codeCSS","arguments","length","undefined","Object","classCallCheck","this","R","G","B","H","S","L","A","parse","input","trim","toUpperCase","parseHexa","call","parseRGB","parseRGBA","parseHSL","luminance","color","hexa2","concat","newColor","chroma","Math","abs","x","shift","min","max","delta","INV6","text","charAt","parseInt","INV15","substr","INV255","isNaN","m","RX_RGB","exec","clamp01","RX_RGBA","parseFloat","RX_HSL","INV359","INV99","hsl2rgb","color1","color2","alpha","beta","newRGBA","newRGB","red","green","blue","value","out","floor","toString","tfw_theme","register","registerTheme","apply","name","document","body","THEMES","css","console","error","current","classList","remove","add","isDark","colorName","vars","$isDark","bg0","bg1","bg2","bg3","average","mix","luminanceStep","isThemeGloballyDark","varName","COLOR","THEME_COLOR_NAMES","themeName","_style","style","has0","has1","has2","has3","rgb2hsl","stringify","darkenBackground","color0","r0","g0","b0","color3","r3","g3","b3","completeBackgrounds","bgP","bgPD","dark","bgPL","light","bgS","rotateHue","bgSD","bgSL","white","black","forEach","bg","completeWithDefaultValues","s","pen","codeVariables","codeBackground","elevationColor","addAlpha","keys","ELEVATIONS","elevationKey","elevation","codeElevation","_loop","depth","tail","fgColorName","bgColorName","styleFgColorName","styleBgColorName","bgClass","fgClass","position","piecesFG","piecesSVG","piecesBG","index","push","pop","join","codeText","styleElement","createElement","getElementsByTagName","appendChild","textContent","0","2","4","6","8","9","10","11","12","16","24","Stack","v","_this","children","props","Array","isArray","react_default","a","className","filter","elem","key","React","Component","castString","defaultValue","t","castBoolean","toLowerCase","num","Moves","y","_x0","_y0","_time0","_x","_y","_time","_cursor","init","now","fill","idx","Date","idx0","idx1","_index","time","time0","time1","time01","idx2","time12","x0","x1","y0","y1","SYMBOL","Symbol","ID","STANDARD_EVENTS","Gesture","_handlers","_elem","_pointer","isDown","moves","rect","left","top","width","height","type","id","_attachEvents","handlers","assign","eventName","indexOf","addEventListener","_len","gestureNames","_key","_arr","_i","gestureName","event","ptr","getBoundingClientRect","hasHandlerFor","preventDefault","stopPropagation","down","target","bind","up","elapsedTime","dx","startX","dy","startY","tap","log","_handlePanDown","sx","speedX","sy","speedY","pandown","evt","pointerType","_this2","_checkPointerType","_onDown","clientX","clientY","_onUp","_onGrab","_onMove","GestureTouch","_this3","possibleConstructorReturn","getPrototypeOf","info","gesture","window","PointerEvent","EMPTY_FUNCTION","Touchable","args","_element","_enabled","onTap","element","enabled","castFunction","handler","that","on","keydown","fire","getComputedStyle","screen","div","createScreen","borderRadius","getPropertyValue","w","h","radius","ceil","sqrt","ripple","Theme","background","setTimeout","removeChild","castInteger","defVal","startsWith","hexa","RX_CSS_UNIT","castUnit","scalar","unit","draw","d","stroke","iconsBook","android","bug","camera","center","child","code","copy","counter","delete","direction","down-double","edit","eraser","export","flag-jp","r","flag-fr","flag-it","flag-de","flag-en","font","format-align-center","format-align-justify","format-align-left","format-align-right","format-bold","format-italic","format-float-center","format-float-left","format-float-none","format-float-right","format-header","format-underline","fullscreen","gear","gps","hand","heart","hide","home","image","import","improvement","left-double","link","location","logout","mail","map","map-layer","menu","minus","minus-o","minus-small","pack","plug","plus","plus-o","plus-small","print","question","redo","refresh","right","right-double","run","search","select","sitemap","unselect","share","show","speaker","split-vertical","split-horizontal","star","stat","switch","tri-down","tri-left","tri-right","tri-up","twitter","undo","up-double","user","wait","zoom-in","zoom-out","warning","synonyms","back","help","save","_i2","_arr2","val","EnumPenColor","Icon","refIcon","visible","timeoutHandle","sort","elemIcon","clearTimeout","requestAnimationFrame","slot","onHide","animate","flipH","flipV","size","content","castContent","rotate","onClick","classes","svgContent","createSvgContent","transform","triggerVisibleAnimation","react","ref","viewBox","preserveAspectRatio","strokeWidth","strokeLinecap","strokeLinejoin","def","elementName","_parseDef","_ref","attributes","_ref2","slicedToArray","arg1","arg2","parseDef","attribs","split","attribName","attribValue","CLASSES","manageColors","escape_handler","listener","initialized","Combo","touchable","list","button","bigList","selectedKey","selectedIndex","handleClick","assertThisInitialized","expand","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","onChange","err","return","_list$getBoundingClie","innerHeight","innerHTML","items","querySelectorAll","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","item","scrollTop","_ensureSelectionVisible","EscapeHandler","_swapItems","_this$_computeDimensi","_computeDimensions","_this$_showList","_showList","handleKeyboard","_handleKeyboard","removeEventListener","scroll","label","wide","goodKeys","defaultArray","defaultString","castStringArray","minimalLength","k","ensureGoodKeys","getIndex","icon_Icon","Button","tag","icon","flat","small","disabled","Flex","dir","justifyContent","alignItems","flexWrap","wrap","debouncer","action","delay","timer","arg","List","refMain","refHead","refBody","refTail","lastFirstItemIndex","lastVisibleItemsCount","lastItemsArray","itemHeight","_pandown","onScroll","Debouncer","onPanDown","state","main","onRefresh","onRefreshAsked","head","animateRefresh","itemsCount","firstItemIndex","visibleItemsCount","tailCount","setState","slice","backgroundSize","clientWidth","mapper","Error","minHeight","maxHeight","ex","button_Button","Checkbox","handleChange","reverse","Fieldset","TYPES","Word","_this$props","occurences","types","PageButton","fetch","wordsListURL","then","response","json","wordsList","shuffle","wordMapper","catch","b","wa","wb","oa","ob","flex_Flex","list_List","word_Word","sortByName","sortByOccurences","checkbox_Checkbox","Fieldset_Fieldset","_item","arr","j","random","tmp","Mode","gCurrentLanguage","localStorage","getItem","navigator","language","Intl","translations","params","translation","addParams","lang","instance","translate","_value","setItem","output","mark","mode","Text","paramIndex","c","Escape","Placeholder","_","make","require","Input","timerId","onFocus","onBlur","setFocus","focus","setSelectionRange","checkValidity","validator","NUMBER_VALIDATOR","result","oldProps","globalId","header","htmlFor","tfw_factory_dialog","alert","onClose","dialog","Dialog","footer","options","_screen","_options","closeOnEscape","_hide","opt","title","ReactDOM","render","combo_Combo","input_Input","JSON","line","paddingLeft","countLeadingSpaces","showDetails","href","i","month","two","v1","v2","storage","local","makeStorage","session","sessionStorage","get","removeItem","set","del","App","handleThemeChange","Storage","page","theme","stack_Stack","combo_PageButton","button_PageButton","checkbox_PageButton","icon_PageButton","list_PageButton","App_App","getElementById"],"mappings":"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","file":"static/js/main.2cdd3dd2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/words-list.64432021.txt\";","module.exports = {\"en\":{\"nan\":\"Not a number!\"},\"fr\":{\"nan\":\"Ce n'est pas un nombre !\"},\"it\":{\"nan\":\"Non è un numero !\"}}","module.exports = {\"en\":{\"cancel\":\"Cancel\",\"close\":\"Close\",\"ok\":\"Ok\"},\"fr\":{\"cancel\":\"Annuler\",\"close\":\"Fermer\",\"ok\":\"OK\"}}","/**\r\n * @class Color\r\n * Fast color manipulations.\r\n * Attributes R  (red), G  (green), B  (blue), A  (alpha), H  (hue), S\r\n * (saturation), and L (luminance) are all floats between 0 and 1.\r\n */\r\nexport default class Color {\r\n    public R: number;\r\n    public G: number;\r\n    public B: number;\r\n    public H: number;\r\n    public S: number;\r\n    public L: number;\r\n    public A: number;\r\n\r\n    constructor(codeCSS: string = \"#000000\") {\r\n        this.R = 0;\r\n        this.G = 0;\r\n        this.B = 0;\r\n        this.H = 0;\r\n        this.S = 0;\r\n        this.L = 0;\r\n        this.A = 1;\r\n\r\n        this.parse(codeCSS);\r\n    }\r\n\r\n    static mix(color1: Color, color2: Color, alpha: number=.5) {\r\n        const beta = 1 - alpha;\r\n        return Color.newRGBA(\r\n            alpha * color2.R + beta * color1.R,\r\n            alpha * color2.G + beta * color1.G,\r\n            alpha * color2.B + beta * color1.B,\r\n            alpha * color2.A + beta * color1.A\r\n        );\r\n    }\r\n\r\n    static newBlack() {\r\n        return Color.newRGB(0, 0, 0);\r\n    }\r\n\r\n    static newWhite() {\r\n        return Color.newRGB(1, 1, 1);\r\n    }\r\n\r\n    /**\r\n     * Create a new Color instance base on R,G,B channels.\r\n     *\r\n     * @param   {number} red - Value between 0 and 1.\r\n     * @param   {number} green - Value between 0 and 1.\r\n     * @param   {number} blue - Value between 0 and 1.\r\n     * @returns {Color} New instance of Color.\r\n     */\r\n    static newRGB(red: number, green: number, blue: number) {\r\n        const color = new Color();\r\n        color.R = red;\r\n        color.G = green;\r\n        color.B = blue;\r\n        color.A = 1;\r\n        return color;\r\n    }\r\n\r\n    /**\r\n     * Create a new Color instance base on R,G,B,A channels.\r\n     *\r\n     * @param   {number} red - Value between 0 and 1.\r\n     * @param   {number} green - Value between 0 and 1.\r\n     * @param   {number} blue - Value between 0 and 1.\r\n     * @param   {number} alpha - Value between 0 and 1.\r\n     * @returns {Color} New instance of Color.\r\n     */\r\n    static newRGBA(red: number, green: number, blue: number, alpha: number) {\r\n        const color = new Color();\r\n        color.R = red;\r\n        color.G = green;\r\n        color.B = blue;\r\n        color.A = alpha;\r\n        return color;\r\n    }\r\n\r\n    /**\r\n     * Parse a color writtent in CSS syntax.\r\n     *\r\n     * @param   {string} code - CSS color.\r\n     * @returns {boolean} `true` if the color has valid syntax.\r\n     */\r\n    parse(code: string = \"#000000\"): boolean {\r\n        const input = code.trim().toUpperCase();\r\n        if (this.parseHexa.call(this, input)) return true;\r\n        if (this.parseRGB.call(this, input)) return true;\r\n        if (this.parseRGBA.call(this, input)) return true;\r\n        if (this.parseHSL.call(this, input)) return true;\r\n        // @TODO parseHSLA.\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * @see https://en.wikipedia.org/wiki/Grayscale\r\n     * @this Color\r\n     * @returns {undefined}\r\n     */\r\n    luminance(): number {\r\n        return (0.2126 * this.R) + (0.7152 * this.G) + (0.0722 * this.B);\r\n    }\r\n\r\n    /**\r\n     * @returns {integer} 0 if the color is dark and 1 if it is light.\r\n     */\r\n    luminanceStep(): number {\r\n        return this.luminance() < .6 ? 0 : 1;\r\n    }\r\n\r\n    /**\r\n     * @this Color\r\n     * @returns {string} String value of the color. `#fd45a7`.\r\n     */\r\n    stringify() {\r\n        let color = hexa2(this.R * 255) + hexa2(this.G * 255) + hexa2(this.B * 255);\r\n        if (this.A < 1) {\r\n            color += hexa2(this.A * 255);\r\n        }\r\n        return `#${color}`;\r\n    }\r\n\r\n    copy() {\r\n        const newColor = new Color();\r\n        newColor.R = this.R;\r\n        newColor.G = this.G;\r\n        newColor.B = this.B;\r\n        newColor.A = this.A;\r\n        newColor.H = this.H;\r\n        newColor.S = this.S;\r\n        newColor.L = this.L;\r\n        return newColor;\r\n    }\r\n\r\n    /**\r\n         * @see https://en.wikipedia.org/wiki/HSL_and_HSV#Converting_to_RGB\r\n         * @this Color\r\n         * @returns {undefined}\r\n         */\r\n    hsl2rgb() {\r\n        const\r\n            H = 6 * this.H,\r\n            S = this.S,\r\n            L = this.L,\r\n            chroma = (1 - Math.abs(2 * L - 1)) * S,\r\n            x = chroma * (1 - Math.abs(H % 2 - 1));\r\n\r\n        let R = 0, G = 0, B = 0;\r\n\r\n        if (H < 3) {\r\n            if (H < 1) {\r\n                R = chroma; G = x; B = 0;\r\n            } else if (H < 2) {\r\n                R = x; G = chroma; B = 0;\r\n            } else {\r\n                // H == 2.\r\n                R = 0; G = chroma; B = x;\r\n            }\r\n        } else if (H < 4) {\r\n            R = 0; G = x; B = chroma;\r\n        } else if (H < 5) {\r\n            R = x; G = 0; B = chroma;\r\n        } else {\r\n            R = chroma; G = 0; B = x;\r\n        }\r\n\r\n        const shift = L - chroma * 0.5;\r\n        this.R = R + shift;\r\n        this.G = G + shift;\r\n        this.B = B + shift;\r\n    }\r\n\r\n    rgb2hsl() {\r\n        const R = this.R;\r\n        const G = this.G;\r\n        const B = this.B;\r\n\r\n        const min = Math.min(R, G, B);\r\n        const max = Math.max(R, G, B);\r\n        const delta = max - min;\r\n\r\n        this.L = 0.5 * (max + min);\r\n\r\n        if (delta < 0.000001) {\r\n            this.H = 0;\r\n            this.S = 0;\r\n        }\r\n        else {\r\n            this.S = delta / (1 - Math.abs(2 * this.L - 1));\r\n            if (max === R) {\r\n                if (G >= B) {\r\n                    this.H = INV6 * ((G - B) / delta);\r\n                } else {\r\n                    this.H = 1 - INV6 * ((B - G) / delta);\r\n                }\r\n            }\r\n            else if (max === G) {\r\n                this.H = INV6 * (2 + (B - R) / delta);\r\n            }\r\n            else {\r\n                this.H = INV6 * (4 + (R - G) / delta);\r\n            }\r\n        }\r\n    }\r\n\r\n    private parseHexa(text: string) {\r\n        if (text.charAt(0) !== '#') return false;\r\n        let R = 0, G = 0, B = 0, A = 1;\r\n\r\n        switch (text.length) {\r\n            case 4:\r\n                R = parseInt(text.charAt(1), 16) * INV15;\r\n                G = parseInt(text.charAt(2), 16) * INV15;\r\n                B = parseInt(text.charAt(3), 16) * INV15;\r\n                break;\r\n            case 5:\r\n                R = parseInt(text.charAt(1), 16) * INV15;\r\n                G = parseInt(text.charAt(2), 16) * INV15;\r\n                B = parseInt(text.charAt(3), 16) * INV15;\r\n                A = parseInt(text.charAt(4), 16) * INV15;\r\n                break;\r\n            case 7:\r\n                R = parseInt(text.substr(1, 2), 16) * INV255;\r\n                G = parseInt(text.substr(3, 2), 16) * INV255;\r\n                B = parseInt(text.substr(5, 2), 16) * INV255;\r\n                break;\r\n            case 9:\r\n                R = parseInt(text.substr(1, 2), 16) * INV255;\r\n                G = parseInt(text.substr(3, 2), 16) * INV255;\r\n                B = parseInt(text.substr(5, 2), 16) * INV255;\r\n                A = parseInt(text.substr(7, 2), 16) * INV255;\r\n                break;\r\n            default:\r\n        }\r\n\r\n        if (isNaN(R) || isNaN(G) || isNaN(B) || isNaN(A)) {\r\n            this.R = this.G = this.B = this.A = 0;\r\n        } else {\r\n            this.R = R;\r\n            this.G = G;\r\n            this.B = B;\r\n            this.A = A;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @param   {string} text - `rgb(200, 140, 50)`\r\n     * @returns {boolean} `true` if `text` is a valid `rgb()` syntax.\r\n     */\r\n    private parseRGB(text: string) {\r\n        const m = RX_RGB.exec(text);\r\n        if (!m) return false;\r\n        this.R = clamp01(parseInt(m[1], 10) * INV255);\r\n        this.G = clamp01(parseInt(m[2], 10) * INV255);\r\n        this.B = clamp01(parseInt(m[3], 10) * INV255);\r\n        this.A = 1;\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @param   {string} text - `rgba(200, 140, 50, 0.5)`\r\n     * @returns {boolean} `true` if `text` is a valid `rgba()` syntax.\r\n     */\r\n    private parseRGBA(text: string) {\r\n        const m = RX_RGBA.exec(text);\r\n        if (!m) return false;\r\n        this.R = clamp01(parseInt(m[1], 10) * INV255);\r\n        this.G = clamp01(parseInt(m[2], 10) * INV255);\r\n        this.B = clamp01(parseInt(m[3], 10) * INV255);\r\n        this.A = clamp01(parseFloat(m[4]));\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @param   {string} text - `hsl(200, 140, 50)`\r\n     * @returns {boolean} `true` if `text` is a valid `hsl()` syntax.\r\n     */\r\n    private parseHSL(text: string) {\r\n        const m = RX_HSL.exec(text);\r\n        if (!m) return false;\r\n        this.H = clamp01(parseInt(m[1], 10) * INV359);\r\n        this.S = clamp01(parseInt(m[2], 10) * INV99);\r\n        this.L = clamp01(parseInt(m[3], 10) * INV99);\r\n        this.A = 1;\r\n        this.hsl2rgb();\r\n        return true;\r\n    }\r\n}\r\n\r\nconst\r\n    INV6 = 1 / 6,\r\n    INV15 = 1 / 15,\r\n    INV99 = 1 / 99,\r\n    INV255 = 1 / 255,\r\n    INV359 = 1 / 359;\r\n\r\nconst RX_RGB = /^RGB[\\s\\(]+([0-9]+)[^0-9]+([0-9]+)[^0-9]+([0-9]+)/;\r\nconst RX_RGBA = /^RGBA[\\s\\(]+([0-9]+)[^0-9]+([0-9]+)[^0-9]+([0-9]+)[^0-9\\.]+([0-9\\.]+)/;\r\nconst RX_HSL = /^HSL[\\s\\(]+([0-9]+)[^0-9]+([0-9]+)[^0-9]+([0-9]+)/;\r\n\r\nfunction clamp01(value: number): number {\r\n    if (value < 0) return 0;\r\n    if (value > 1) return 1;\r\n    return value;\r\n}\r\n\r\nfunction hexa2(value: number) {\r\n    let out = Math.floor(value).toString(16);\r\n    if (out.length < 2) out = \"0\" + out;\r\n    return out;\r\n}\r\n","/**\r\n * Manage CSS styles.\r\n */\r\nexport default {\r\n    register: registerTheme,\r\n    apply: applyTheme,\r\n    isDark\r\n};\r\n\r\ninterface IStyle {\r\n    bg0?: string;\r\n    bg1?: string;\r\n    bg2?: string;\r\n    bg3?: string;\r\n    bgP?: string;\r\n    bgPD?: string;\r\n    bgPL?: string;\r\n    bgS?: string;\r\n    bgSD?: string;\r\n    bgSL?: string;\r\n    fg0?: string;\r\n    fg1?: string;\r\n    fg2?: string;\r\n    fg3?: string;\r\n    fgP?: string;\r\n    fgPD?: string;\r\n    fgPL?: string;\r\n    fgS?: string;\r\n    fgSD?: string;\r\n    fgSL?: string;\r\n    black?: string;\r\n    white?: string;\r\n    [key: string]: string | undefined;\r\n};\r\n\r\n\r\n//################################################################################\r\n\r\nimport \"./theme.css\"\r\nimport Color from \"./color\"\r\n\r\ninterface IThemes {\r\n    css: { [name: string]: HTMLStyleElement };\r\n    vars: { [name: string]: IStyle }\r\n    current: string | null;\r\n}\r\n\r\n// Used for luminance computations. Because we need to know which text color\r\n// can be used based on the background's luminance.\r\nconst COLOR = new Color();\r\n\r\nconst THEME_COLOR_NAMES = [\"0\", \"1\", \"2\", \"3\", \"P\", \"PD\", \"PL\", \"S\", \"SD\", \"SL\"];\r\nconst THEMES: IThemes = {\r\n    css: {},\r\n    vars: {},\r\n    current: null\r\n};\r\n\r\nfunction registerTheme(themeName: string, _style: IStyle) {\r\n    const style = completeWithDefaultValues(_style);\r\n    THEMES.vars[themeName] = style;\r\n\r\n    let codeCSS = codeVariables(themeName, style);\r\n    codeCSS += codeBackground(themeName, style);\r\n    codeCSS += codeElevation(themeName, style);\r\n    codeCSS += codeText(themeName, style);\r\n\r\n    let styleElement = THEMES.css[themeName];\r\n    if (!styleElement) {\r\n        styleElement = document.createElement(\"style\");\r\n        document.getElementsByTagName('head')[0].appendChild(styleElement);\r\n        THEMES.css[themeName] = styleElement;\r\n    }\r\n\r\n    styleElement.textContent = codeCSS;\r\n}\r\n\r\nfunction codeText(themeName: string, style: IStyle) {\r\n    let codeCSS = '';\r\n    for (let depth = 1; depth <= 10; depth++) {\r\n        THEME_COLOR_NAMES.forEach(function(colorName) {\r\n            const fgColorName = `fg${colorName}`;\r\n            const bgColorName = `bg${colorName}`;\r\n            const styleFgColorName: string = style[fgColorName] as string;\r\n            const styleBgColorName: string = style[bgColorName] as string;\r\n            const bgClass = \".thm-bg\" + colorName;\r\n            const fgClass = \".thm-fg\" + colorName;\r\n            for (let position = 1; position <= depth; position++) {\r\n                const piecesFG = [];\r\n                const piecesSVG = [];\r\n                const piecesBG = [];\r\n                for (let index = 1; index <= depth; index++) {\r\n                    piecesBG.push(position === index ? bgClass : '*');\r\n                    piecesSVG.push(position === index ? bgClass : '*');\r\n                    piecesFG.push(position === index ? fgClass : '*');\r\n                    if (index === depth) {\r\n                        piecesBG.push(piecesBG.pop() + \".thm-fg\");\r\n                        piecesFG.push(piecesFG.pop() + fgClass);\r\n                    }\r\n                }\r\n                codeCSS += \"body.dom-theme-\" + themeName + \" \"\r\n                    + piecesBG.join(\" > \")\r\n                    + \" { color: \" + styleFgColorName + \" }\\n\";\r\n                codeCSS += \"body.dom-theme-\" + themeName + \" \"\r\n                    + removeTail(piecesBG.join(\" > \"), \".thm-fg\")\r\n                    + \" { color: \" + styleFgColorName + \" }\\n\";\r\n                codeCSS += \"body.dom-theme-\" + themeName + \" \"\r\n                    + piecesFG.join(\" > \")\r\n                    + \" { color: \" + styleBgColorName + \" }\\n\";\r\n                codeCSS += \"body.dom-theme-\" + themeName + \" \"\r\n                    + piecesSVG.join(\" > \")\r\n                    + \" .thm-svg-fill0\"\r\n                    + \" { fill: \" + styleFgColorName + \" }\\n\";\r\n                codeCSS += \"body.dom-theme-\" + themeName + \" \"\r\n                    + piecesSVG.join(\" > \")\r\n                    + \" .thm-svg-stroke0\"\r\n                    + \" { stroke: \" + styleFgColorName + \" }\\n\";\r\n            }\r\n        });\r\n    }\r\n    return codeCSS;\r\n}\r\n\r\nfunction codeVariables(themeName: string, style: IStyle) {\r\n    let codeCSS = \"body.dom-theme-\" + themeName + '{\\n';\r\n    THEME_COLOR_NAMES.forEach(function(colorName) {\r\n        const s = style[`bg${colorName}`] as string;\r\n        codeCSS += `  --thm-bg${colorName}: ${s};\\n`;\r\n        COLOR.parse(s);\r\n        const pen = COLOR.luminanceStep() ? style.black : style.white;\r\n        codeCSS += `  --thm-fg${colorName}: ${pen};\\n`;\r\n    });\r\n    codeCSS += `  --thm-white: ${style.white};\\n`;\r\n    codeCSS += `  --thm-black: ${style.black};\\n`;\r\n    codeCSS += \"}\\n\";\r\n    return codeCSS;\r\n}\r\n\r\n\r\nfunction codeBackground(themeName: string, style: IStyle) {\r\n    var codeCSS = '';\r\n    THEME_COLOR_NAMES.forEach(function(colorName) {\r\n        codeCSS += \"body.dom-theme-\" + themeName + \".thm-bg\" + colorName\r\n            + \" { background-color: \" + style[`bg${colorName}`] + \" }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-fg\" + colorName\r\n            + \" { color: \" + style[`fg${colorName}`] + \" }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName\r\n            + \" { background-color: \" + style[`bg${colorName}`] + \" }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-bottom\"\r\n            + \" { background: linear-gradient(to top,\"\r\n            + style[`bg${colorName}`] + \",transparent) }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-top\"\r\n            + \" { background: linear-gradient(to bottom,\"\r\n            + style[`bg${colorName}`] + \",transparent) }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-left\"\r\n            + \" { background: linear-gradient(to right,\"\r\n            + style[`bg${colorName}`] + \",transparent) }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-right\"\r\n            + \" { background: linear-gradient(to left,\"\r\n            + style[`bg${colorName}`] + \",transparent) }\\n\";\r\n\r\n        if (!isNaN(parseInt(colorName))) return;\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-svg-fill\" + colorName\r\n            + \" { fill: \"\r\n            + style[`bg${colorName}`] + \" }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-svg-stroke\" + colorName\r\n            + \" { stroke: \"\r\n            + style[`bg${colorName}`] + \" }\\n\";\r\n    });\r\n    return codeCSS;\r\n}\r\n\r\nconst ELEVATIONS: { [ele: string]: string[] } = {\r\n    \"0\": [\"none\"],\r\n    \"2\": [\"button\", \"card\"],\r\n    \"4\": [\"bar\"],\r\n    \"6\": [\"floating\"],\r\n    \"8\": [\"button:active\", \"button-raised\", \"card-raised\"],\r\n    \"9\": [\"sunmenu-0\"],\r\n    \"10\": [\"sunmenu-1\"],\r\n    \"11\": [\"sunmenu-2\"],\r\n    \"12\": [\"floating:active\"],\r\n    \"16\": [\"nav\"],\r\n    \"24\": [\"dialog\"]\r\n};\r\nfunction codeElevation(themeName: string, style: IStyle) {\r\n    COLOR.parse(style.bg2);\r\n    const luminance = COLOR.luminance();\r\n    var elevationColor = luminance < .6\r\n        ? addAlpha(style.white, 4)\r\n        : addAlpha(style.black, 6);\r\n    var codeCSS = '';\r\n    const elevationKeys = Object.keys(ELEVATIONS);\r\n    elevationKeys.forEach(function(elevationKey) {\r\n        const elevation = parseInt(elevationKey, 10);\r\n        ELEVATIONS[elevationKey].forEach(name => {\r\n            codeCSS += `body.dom-theme-${themeName} .thm-ele-${name} {\r\n  box-shadow: 0 ${elevation}px ${2 * elevation}px ${elevationColor}\r\n}\\n`;\r\n        })\r\n    });\r\n    return codeCSS;\r\n}\r\n\r\nfunction applyTheme(name: string, target: HTMLElement = document.body) {\r\n    if (!THEMES.css[name]) {\r\n        console.error(\"This theme has not been registered: \", name);\r\n        return;\r\n    }\r\n    var body = document.body;\r\n    if (typeof THEMES.current === 'string') {\r\n        body.classList.remove(`dom-theme-${THEMES.current}`);\r\n    }\r\n    THEMES.current = name;\r\n    body.classList.add(`dom-theme-${THEMES.current}`);\r\n}\r\n\r\nfunction completeBackgrounds(style: IStyle) {\r\n    let has0 = typeof style.bg0 === 'string';\r\n    const has1 = typeof style.bg1 === 'string';\r\n    const has2 = typeof style.bg2 === 'string';\r\n    let has3 = typeof style.bg3 === 'string';\r\n\r\n    if (has0 && has1 && has2 && has3) return\r\n\r\n    if (!has0 && !has1 && !has2 && !has3) {\r\n        style.bg0 = \"#E0E0E0\";\r\n        style.bg1 = \"#F5F5F5\";\r\n        style.bg2 = \"#FAFAFA\";\r\n        style.bg3 = \"#FFF\";\r\n        return;\r\n    }\r\n    if (has0 && !has1 && !has2 && !has3) {\r\n        style.bg3 = lightenBackground(style.bg0 as string);\r\n        has3 = true;\r\n    }\r\n    if (!has0 && !has1 && !has2 && has3) {\r\n        style.bg0 = darkenBackground(style.bg3 as string);\r\n        has3 = true;\r\n    }\r\n    const color0 = new Color(style.bg0);\r\n    const r0 = color0.R;\r\n    const g0 = color0.G;\r\n    const b0 = color0.B;\r\n    const color3 = new Color(style.bg3);\r\n    const r3 = color3.R;\r\n    const g3 = color3.G;\r\n    const b3 = color3.B;\r\n    const color1 = Color.newRGB((2 * r0 + r3) / 3, (2 * g0 + g3) / 3, (2 * b0 + b3) / 3);\r\n    const color2 = Color.newRGB((r0 + 2 * r3) / 3, (g0 + 2 * g3) / 3, (b0 + 2 * b3) / 3);\r\n    style.bg1 = color1.stringify();\r\n    style.bg2 = color2.stringify();\r\n}\r\n\r\nfunction completeWithDefaultValues(style: IStyle) {\r\n    if (typeof style === 'undefined') style = {};\r\n\r\n    completeBackgrounds(style);\r\n\r\n    if (typeof style.bgP !== 'string') style.bgP = \"#3E50B4\";\r\n    if (typeof style.bgPD !== 'string') style.bgPD = dark(style.bgP);\r\n    if (typeof style.bgPL !== 'string') style.bgPL = light(style.bgP);\r\n    if (typeof style.bgS !== 'string') style.bgS = rotateHue(style.bgP);\r\n    if (typeof style.bgSD !== 'string') style.bgSD = dark(style.bgS);\r\n    if (typeof style.bgSL !== 'string') style.bgSL = light(style.bgS);\r\n\r\n    if (typeof style.white !== 'string') style.white = '#fff';\r\n    if (typeof style.black !== 'string') style.black = '#000';\r\n\r\n    THEME_COLOR_NAMES.forEach(function(name) {\r\n        const bg: string = style[`bg${name}`] || '#000';\r\n        COLOR.parse(bg);\r\n        var luminance = COLOR.luminance();\r\n        style[`fg${name}`] = luminance < .6 ? style.white : style.black;\r\n    });\r\n\r\n    return style;\r\n}\r\n\r\nfunction dark(color: string) {\r\n    const percent = .25;\r\n    COLOR.parse(color);\r\n    COLOR.rgb2hsl();\r\n    COLOR.L *= 1 - percent;\r\n    COLOR.hsl2rgb();\r\n    return COLOR.stringify();\r\n}\r\n\r\nfunction darkenBackground(color: string) {\r\n    COLOR.parse(color);\r\n    COLOR.rgb2hsl();\r\n    COLOR.L = Math.max(0, COLOR.L - 0.15);\r\n    COLOR.hsl2rgb();\r\n    return COLOR.stringify();\r\n}\r\n\r\nfunction light(color: string) {\r\n    var percent = .4;\r\n    COLOR.parse(color);\r\n    COLOR.rgb2hsl();\r\n    COLOR.L = percent + (1 - percent) * COLOR.L;\r\n    COLOR.hsl2rgb();\r\n    return COLOR.stringify();\r\n}\r\n\r\nfunction lightenBackground(color: string) {\r\n    COLOR.parse(color);\r\n    COLOR.rgb2hsl();\r\n    COLOR.L = Math.min(1, COLOR.L + 0.3);\r\n    COLOR.hsl2rgb();\r\n    return COLOR.stringify();\r\n}\r\n\r\nfunction rotateHue(color: string): string {\r\n    COLOR.parse(color);\r\n    COLOR.rgb2hsl();\r\n    COLOR.H = COLOR.H + .5;\r\n    if (COLOR.H > 1) COLOR.H--;\r\n    COLOR.hsl2rgb();\r\n    return COLOR.stringify();\r\n}\r\n\r\n/**\r\n * @param {string} color - RGB color in format #xxx or #xxxxxx.\r\n * @param {string} alpha - Single char between 0 and F.\r\n */\r\nfunction addAlpha(color: string, alpha: string) {\r\n    if (color.length < 5) return color + alpha;\r\n    return color + alpha + alpha;\r\n}\r\n\r\nfunction removeTail(text: string, tail: string) {\r\n    return text.substr(0, text.length - tail.length);\r\n}\r\n\r\nfunction isDark(colorName: string = \"\"): boolean {\r\n    if (colorName === \"\") return isThemeGloballyDark();\r\n\r\n    const vars = THEMES.vars[THEMES.current || \"default\"];\r\n    const varName = `$isDark/${colorName}`;\r\n    let isDark = vars[varName];\r\n    if (typeof isDark === 'boolean') return isDark;\r\n\r\n    const color = new Color(vars[colorName]);\r\n    vars[varName] = !color.luminanceStep();\r\n    return vars[varName];\r\n}\r\n\r\nfunction isThemeGloballyDark(): boolean {\r\n    const vars = THEMES.vars[THEMES.current || \"default\"];\r\n    let isDark = vars.$isDark;\r\n    if (typeof isDark === 'boolean') return isDark;\r\n\r\n    const bg0 = new Color(vars.bg0);\r\n    const bg1 = new Color(vars.bg1);\r\n    const bg2 = new Color(vars.bg2);\r\n    const bg3 = new Color(vars.bg3);\r\n    const average = Color.mix(\r\n        Color.mix(bg0, bg1),\r\n        Color.mix(bg2, bg3)\r\n    );\r\n    vars.$isDark = !average.luminanceStep();\r\n    return vars.$isDark;\r\n}\r\n\r\nregisterTheme(\"default\", { bgP: \"#1e90ff\" });\r\n","import React from \"react\"\r\nimport castArray from \"../converter/array\"\r\nimport \"./stack.css\"\r\n\r\ninterface IStackProps {\r\n    value: string;\r\n    children: React.ReactElement<any>[]\r\n}\r\n\r\nexport default class Stack extends React.Component<IStackProps, {}> {\r\n    render() {\r\n        const children = castArray(this.props.children);\r\n        return (\r\n            <div className=\"tfw-layout-stack\">{\r\n                children.filter(elem => elem.key == this.props.value)\r\n            }</div>\r\n        );\r\n    }\r\n}\r\n","export default function castArray(v: any): any[] {\r\n    if( Array.isArray(v)) return v;\r\n    return [v];\r\n}\r\n","export default function castString(value: any, defaultValue: string): string {\r\n    const t = typeof value;\r\n    if (t === 'number' && !isNaN(value)) {\r\n        return `${value}`;\r\n    }\r\n    if (t === 'string') return value;\r\n    return defaultValue;\r\n}\r\n","export default function castBoolean(v: any, defaultValue = false): boolean {\r\n    switch (typeof v) {\r\n        case \"undefined\":\r\n            return defaultValue;\r\n        case \"boolean\":\r\n            return v;\r\n        case \"number\":\r\n            return v != 0;\r\n        case \"string\":\r\n            const text = v.trim().toLowerCase();\r\n            if (text === 'true' || text === 'yes') return true;\r\n            const num = parseInt(text);\r\n            if (!isNaN(num)) return num !== 0;\r\n            return false;\r\n        default:\r\n            return false;\r\n    }\r\n}\r\n","const CAPACITY = 3;\r\n\r\n/**\r\n * Helper to manage a pointer move.\r\n * It gives you the location, the speed and the acceleration of your pointer.\r\n *\r\n * @type {[type]}\r\n */\r\nexport default class Moves {\r\n    private _x0: number;\r\n    private _y0: number;\r\n    private _time0: number;\r\n    private _x: number[] = [];\r\n    private _y: number[] = [];\r\n    private _time: number[] = [];\r\n    private _cursor: number = 0;\r\n\r\n    constructor(x: number = 0, y: number = 0) {\r\n        this.init(x, y);\r\n    }\r\n\r\n    init(x: number, y: number) {\r\n        this._time0 = this.now;\r\n        this._x0 = x;\r\n        this._y0 = y;\r\n        this._x = this._x.fill(this._x0, 0, CAPACITY);\r\n        this._y = this._y.fill(this._y0, 0, CAPACITY);\r\n        this._time = this._time.fill(this._time0, 0, CAPACITY);\r\n    }\r\n\r\n    _index(shift: number) {\r\n        return (this._cursor + shift) % CAPACITY;\r\n    }\r\n\r\n    get now() { return Date.now(); }\r\n\r\n    add(x: number, y: number) {\r\n        const idx = (this._cursor + CAPACITY - 1) % CAPACITY;\r\n        this._time[idx] = this.now;\r\n        this._x[idx] = x;\r\n        this._y[idx] = y;\r\n        this._cursor = idx;\r\n    }\r\n\r\n    get elapsedTime() { return this.now - this._time0; }\r\n\r\n    get x() { return this._x[this._cursor]; }\r\n    get y() { return this._y[this._cursor]; }\r\n\r\n    get startX() { return this._x0; }\r\n    get startY() { return this._y0; }\r\n\r\n    get speedX() {\r\n        const idx0 = this._cursor;\r\n        const idx1 = this._index(1);\r\n        const time = this._time[idx0] - this._time[idx1];\r\n        if (time <= 0) return 0;\r\n        return (this._x[idx0] - this._x[idx1]) / time;\r\n    }\r\n\r\n    get speedY() {\r\n        const idx0 = this._cursor;\r\n        const idx1 = this._index(1);\r\n        const time = this._time[idx0] - this._time[idx1];\r\n        if (time <= 0) return 0;\r\n        return (this._y[idx0] - this._y[idx1]) / time;\r\n    }\r\n\r\n    get accelX() {\r\n        const idx0 = this._index(0);\r\n        const time0 = this._time[idx0];\r\n\r\n        const idx1 = this._index(1);\r\n        const time1 = this._time[idx1];\r\n\r\n        const time01 = time0 - time1;\r\n\r\n        if (time01 <= 0) return 0;\r\n\r\n        const idx2 = this._index(2);\r\n        const time2 = this._time[idx2];\r\n\r\n        const time12 = time1 - time2;\r\n\r\n        if (time12 <= 0) return 0;\r\n\r\n        const x0 = this._x[idx0];\r\n        const x1 = this._x[idx1];\r\n        const x2 = this._x[idx2];\r\n\r\n        const speed01 = (x0 - x1) / time01;\r\n        const speed12 = (x1 - x2) / time12;\r\n\r\n        return (speed01 - speed12) / time01;\r\n    }\r\n\r\n    get accelY() {\r\n        const idx0 = this._index(0);\r\n        const time0 = this._time[idx0];\r\n\r\n        const idx1 = this._index(1);\r\n        const time1 = this._time[idx1];\r\n\r\n        const time01 = time0 - time1;\r\n\r\n        if (time01 <= 0) return 0;\r\n\r\n        const idx2 = this._index(2);\r\n        const time2 = this._time[idx2];\r\n\r\n        const time12 = time1 - time2;\r\n\r\n        if (time12 <= 0) return 0;\r\n\r\n        const y0 = this._y[idx0];\r\n        const y1 = this._y[idx1];\r\n        const y2 = this._y[idx2];\r\n\r\n        const speed01 = (y0 - y1) / time01;\r\n        const speed12 = (y1 - y2) / time12;\r\n\r\n        return (speed01 - speed12) / time01;\r\n    }\r\n}\r\n","import Moves from \"./gesture/moves\"\r\n\r\nconst SYMBOL = Symbol(\"gesture\");\r\n\r\nlet ID = 0;\r\n\r\ntype TGestureName = \"tap\" | \"down\" | \"up\" | \"pandown\" | \"swipedown\";\r\ntype TEventName = \"keydown\" | \"keyup\";\r\n\r\ntype THandlers = {\r\n    [key: TGestureName | TEventName]: (event: IEvent) => void;\r\n};\r\n\r\ninterface IEvent {\r\n    preventDefault: () => void;\r\n    stopPropagation: () => void;\r\n    target: HTMLElement;\r\n    x?: number;\r\n    y?: number;\r\n}\r\n\r\ninterface IInternalEvent {\r\n    x?: number;\r\n    y?: number;\r\n    event: PointerEvent;\r\n}\r\n\r\ninterface IPointer {\r\n    isDown: boolean;\r\n    moves: Moves;\r\n    rect: {\r\n        left: number;\r\n        top: number;\r\n        width: number;\r\n        height: number;\r\n    };\r\n    type: \"mouse\" | \"pen\" | \"touch\" | null;\r\n    id: number;\r\n}\r\n\r\nconst STANDARD_EVENTS = [\"keydown\", \"keyup\"];\r\n\r\nclass Gesture {\r\n    _handlers: THandlers;\r\n    _elem: HTMLElement;\r\n    _pointer: IPointer = {\r\n        isDown: false,\r\n        moves: new Moves(0, 0),\r\n        rect: { left: 0, top: 0, width: 0, height: 0 },\r\n        type: null,\r\n        id: ID++\r\n    };\r\n\r\n    constructor(private elem: HTMLElement) {\r\n        elem[SYMBOL] = this;\r\n        this._elem = elem;\r\n        this._handlers = {};\r\n        this._attachEvents();\r\n    }\r\n\r\n    on(handlers: THandlers) {\r\n        this._handlers = Object.assign(this._handlers, handlers);\r\n        Object.keys(this._handlers).forEach(eventName => {\r\n            if (STANDARD_EVENTS.indexOf(eventName) === -1) return;\r\n            this._elem.addEventListener(eventName, this._handlers[eventName], false);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Check if a gesture has an handler attached.\r\n     *\r\n     * @param   {TGestureName[]}  gestureNames - Name of the gesture.\r\n     * @returns {boolean} true if the gesture is mapped to a handler.\r\n     */\r\n    hasHandlerFor(...gestureNames: TGestureName[]): boolean {\r\n        for (const gestureName of gestureNames) {\r\n            if (typeof this._handlers[gestureName] === 'function') return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    _onDown(event: IInternalEvent) {\r\n        const elem = this._elem;\r\n        const ptr = this._pointer;\r\n        ptr.isDown = true;\r\n        ptr.rect = elem.getBoundingClientRect();\r\n        const x = event.x - ptr.rect.left;\r\n        const y = event.y - ptr.rect.top;\r\n        ptr.moves.init(x, y);\r\n\r\n        if (this.hasHandlerFor(\"down\")) {\r\n            event.event.preventDefault();\r\n            event.event.stopPropagation();\r\n            this._handlers.down({\r\n                target: elem,\r\n                preventDefault: event.event.preventDefault.bind(event.event),\r\n                stopPropagation: event.event.stopPropagation.bind(event.event),\r\n                x, y\r\n            })\r\n        }\r\n\r\n        if (this.hasHandlerFor(\"tap\")) {\r\n            event.event.preventDefault();\r\n            event.event.stopPropagation();\r\n        }\r\n    }\r\n\r\n    _onUp(event: IInternalEvent) {\r\n        const elem = this._elem;\r\n        const ptr = this._pointer;\r\n        const moves = ptr.moves;\r\n        ptr.isDown = false;\r\n        if (typeof event.x === 'undefined') event.x = moves.x;\r\n        if (typeof event.y === 'undefined') event.y = moves.y;\r\n        const x = event.x - ptr.rect.left;\r\n        const y = event.y - ptr.rect.top;\r\n        moves.add(x, y);\r\n\r\n        if (this.hasHandlerFor(\"up\")) {\r\n            this._handlers.up({\r\n                target: elem,\r\n                preventDefault: event.event.preventDefault.bind(event.event),\r\n                stopPropagation: event.event.stopPropagation.bind(event.event),\r\n                x, y\r\n            })\r\n        }\r\n\r\n        if (this.hasHandlerFor(\"tap\")) {\r\n            // Ensure there is less than 300 milliseconds between down and up events.\r\n            if (moves.elapsedTime < 300) {\r\n                const dx = moves.startX - moves.x;\r\n                const dy = moves.startY - moves.y;\r\n                const dist = dx * dx + dy * dy;\r\n                // Ensure we don't have moves too much.\r\n                if (dist < 12 * 12) {\r\n                    event.event.preventDefault();\r\n                    event.event.stopPropagation();\r\n                    this._handlers.tap({\r\n                        target: elem,\r\n                        preventDefault: event.event.preventDefault.bind(event.event),\r\n                        stopPropagation: event.event.stopPropagation.bind(event.event),\r\n                        x, y\r\n                    })\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    _onGrab(event: IInternalEvent) {\r\n        console.log(\"_onGrab()\", event);\r\n        const ptr = this._pointer;\r\n        const x = event.x - ptr.rect.left;\r\n        const y = event.y - ptr.rect.top;\r\n        ptr.moves.add(x, y);\r\n\r\n        this._handlePanDown(event);\r\n    }\r\n\r\n    _handlePanDown(event: IInternalEvent) {\r\n        if (!this.hasHandlerFor(\"pandown\")) return;\r\n\r\n        const moves = this._pointer.moves;\r\n        const sx = Math.abs(moves.speedX);\r\n        const sy = moves.speedY;\r\n        console.log({ sx, sy });\r\n        if (sy < sx) return;\r\n\r\n        const dx = Math.abs(moves.x - moves.startX);\r\n        const dy = moves.y - moves.startY;\r\n        console.log({ dx, dy });\r\n        if (dy < dx) return;\r\n\r\n        this._handlers.pandown({\r\n            target: this._elem,\r\n            preventDefault: event.event.preventDefault.bind(event.event),\r\n            stopPropagation: event.event.stopPropagation.bind(event.event),\r\n            x: moves.x,\r\n            y: moves.y\r\n        })\r\n    }\r\n\r\n    _onMove(event: IInternalEvent) {\r\n        //console.log(\"_onMove()\", event);\r\n    }\r\n\r\n    _checkPointerType(evt: React.PointerEvent) {\r\n        if (!this._pointer.type) {\r\n            this._pointer.type = evt.pointerType;\r\n            return true;\r\n        }\r\n        if (this._pointer.type !== evt.pointerType) {\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    _attachEvents() {\r\n        const elem = this._elem;\r\n        elem.addEventListener(\"pointerdown\", evt => {\r\n            console.log(\"DOWN!\", evt.pointerType);\r\n            if (!this._checkPointerType(evt)) return;\r\n            this._onDown({\r\n                x: evt.clientX,\r\n                y: evt.clientY,\r\n                event: evt\r\n            });\r\n        }, false);\r\n        elem.addEventListener(\"pointerup\", evt => {\r\n            console.log(\"UP!\", evt.pointerType);\r\n            if (!this._checkPointerType(evt)) return;\r\n            this._onUp({\r\n                x: evt.clientX,\r\n                y: evt.clientY,\r\n                event: evt\r\n            });\r\n        }, false);\r\n        elem.addEventListener(\"pointercancel\", evt => {\r\n            console.log(\"CANCEL!\", evt.pointerType);\r\n            if (!this._checkPointerType(evt)) return;\r\n            this._onUp({ event: evt });\r\n        }, false);\r\n        elem.addEventListener(\"pointermove\", evt => {\r\n            if (!this._checkPointerType(evt)) return;\r\n            console.log(\"MOVE!\", evt.pointerType);\r\n            if (this._pointer.isDown) {\r\n                this._onGrab({\r\n                    x: evt.clientX,\r\n                    y: evt.clientY,\r\n                    event: evt\r\n                });\r\n            } else {\r\n                this._onMove({\r\n                    x: evt.clientX,\r\n                    y: evt.clientY,\r\n                    event: evt\r\n                });\r\n            }\r\n        }, false);\r\n    }\r\n}\r\n\r\nclass GestureTouch extends Gesture {\r\n    constructor(elem: HTMLElement) {\r\n        super(elem);\r\n        console.info(\"GESTURE TOUCH!!!\");\r\n    }\r\n}\r\n\r\nexport default function(elem: HTMLElement): Gesture {\r\n    if (!elem[SYMBOL]) {\r\n        elem[SYMBOL] = window.PointerEvent\r\n            ? new Gesture(elem)\r\n            : new GestureTouch(elem);\r\n    }\r\n    return elem[SYMBOL];\r\n}\r\n","const EMPTY_FUNCTION = () => { };\r\n\r\ntype TFunction = () => void;\r\n\r\n\r\nexport default function castBoolean(value: any, defaultValue: TFunction = EMPTY_FUNCTION): TFunction {\r\n    if (typeof value === 'function') return value;\r\n    return defaultValue;\r\n}\r\n","import Gesture from \"../gesture\"\r\nimport Theme from \"../theme\"\r\nimport castString from \"../converter/string\"\r\nimport castBoolean from \"../converter/boolean\"\r\nimport castFunction from \"../converter/function\"\r\nimport \"./touchable.css\"\r\n\r\ninterface IArgs {\r\n    element?: HTMLElement;\r\n    enabled?: boolean;\r\n    color?: string;\r\n    onTap?: () => void;\r\n}\r\n\r\ninterface IRect {\r\n    left: number;\r\n    top: number;\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\nexport default class Touchable {\r\n    _element: HTMLElement | undefined;\r\n    _enabled: boolean = true;\r\n    color: string = \"#000\";\r\n    onTap: () => void;\r\n\r\n    constructor(args: IArgs) {\r\n        this.element = args.element;\r\n        this.enabled = castBoolean(args.enabled, true);\r\n        this.color = castString(args.color, \"#000\");\r\n        this.onTap = castFunction(args.onTap);\r\n    }\r\n\r\n    fire() {\r\n        if (!this.enabled) return;\r\n\r\n        const handler = this.onTap;\r\n        if (typeof handler === 'function') {\r\n            handler();\r\n        }\r\n    }\r\n\r\n    get enabled() { return this._enabled; }\r\n    set enabled(value: boolean) { this._enabled = value; }\r\n\r\n    get element() { return this._element; }\r\n    set element(element: HTMLElement | undefined) {\r\n        const that = this;\r\n        if (typeof element === 'undefined') return;\r\n        Gesture(element).on({\r\n            keydown(evt) {\r\n                if (!that.enabled) return;\r\n\r\n                const key = evt.key;\r\n                if (key === \" \" || key === \"Enter\") {\r\n                    evt.preventDefault();\r\n                    evt.stopPropagation();\r\n                    that.fire();\r\n                }\r\n            },\r\n\r\n            down(evt) {\r\n                if (!that.enabled) return;\r\n\r\n                const rect = element.getBoundingClientRect();\r\n                const style = window.getComputedStyle(element);\r\n                const screen = createScreen(rect);\r\n                screen.style.borderRadius = style.getPropertyValue(\"border-radius\");\r\n                const x = evt.x || 0;\r\n                const y = evt.y || 0;\r\n                const w = Math.max(x, rect.width - x);\r\n                const h = Math.max(y, rect.height - y);\r\n                const radius = Math.ceil(1.1 * Math.sqrt(w * w + h * h));\r\n                const ripple = document.createElement(\"div\");\r\n                screen.appendChild(ripple);\r\n                ripple.style.left = `${x - radius}px`;\r\n                ripple.style.top = `${y - radius}px`;\r\n                ripple.style.width = `${2 * radius}px`;\r\n                ripple.style.height = `${2 * radius}px`;\r\n                that.color = Theme.isDark() ? \"#fff\" : \"#000\";\r\n                ripple.style.background = that.color;\r\n                window.setTimeout(() => ripple.className = \"open\");\r\n                window.setTimeout(() => document.body.removeChild(screen), 500);\r\n            },\r\n            tap() {\r\n                that.fire();\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n\r\nfunction createScreen(rect: IRect) {\r\n    const div = document.createElement(\"div\");\r\n    div.className = \"tfw-behavior-touchable\";\r\n    div.style.left = `${rect.left}px`;\r\n    div.style.top = `${rect.top}px`;\r\n    div.style.width = `${rect.width}px`;\r\n    div.style.height = `${rect.height}px`;\r\n    document.body.appendChild(div);\r\n    return div;\r\n}\r\n","export default function castInteger(v: any, defaultValue = 0): number {\r\n    const defVal = Math.floor(.5 + defaultValue);\r\n\r\n    switch (typeof v) {\r\n        case \"boolean\":\r\n            return v ? 1 : 0;\r\n        case \"number\":\r\n            return Math.floor(.5 + v);\r\n        case \"string\":\r\n            const text = v.trim().toLowerCase();\r\n            if (text.startsWith(\"0x\")) {\r\n                const hexa = parseInt(text.substr(2), 16);\r\n                return isNaN(hexa) ? defVal : hexa;\r\n            }\r\n            if (text.startsWith(\"0b\")) {\r\n                const hexa = parseInt(text.substr(2), 2);\r\n                return isNaN(hexa) ? defVal : hexa;\r\n            }\r\n            if (text.startsWith(\"0o\")) {\r\n                const hexa = parseInt(text.substr(2), 8);\r\n                return isNaN(hexa) ? defVal : hexa;\r\n            }\r\n            const num = parseFloat(text);\r\n            if (isNaN(num)) return defVal;\r\n            return Math.floor(.5 + num);\r\n        default:\r\n            return defVal;\r\n    }\r\n}\r\n","\"use strict\";\r\n\r\nconst RX_CSS_UNIT = /^(-?[.0-9]+)[ \\n\\r]*([a-z%]*)/;\r\n\r\nexport default function castUnit(v: any, defaultValue: string = \"100%\") {\r\n    if (typeof v === 'number') return `${v}px`;\r\n    if (typeof v !== 'string') return defaultValue;\r\n    const text = `${v}`.trim().toLowerCase();\r\n    if (text === 'auto' || text === 'inherit') return text;\r\n    if (text.startsWith(\"calc(\")) return text;\r\n    const m = RX_CSS_UNIT.exec(text);\r\n    if (!m) return defaultValue;\r\n    const scalar = parseFloat(m[1]);\r\n    if (isNaN(scalar) || scalar === 0) return \"0\";\r\n    const unit = m[2].length < 1 ? \"px\" : m[2];\r\n    return `${scalar}${unit}`;\r\n}\r\n","\"use strict\";\r\n\r\n/**\r\n * @module\r\n * This module provides a list of SVG icons definitions.\r\n * You can register new one if you wish.\r\n */\r\n\r\n\r\nexport type TIconDefinition =\r\n    [string, {}] |\r\n    [string, TIconDefinitionArray] |\r\n    [string, {}, TIconDefinitionArray] |\r\n    [string, TIconDefinitionArray, {}];\r\n\r\ninterface TIconDefinitionArray extends Array<TIconDefinition> { }\r\n\r\nexport interface IIconsDefinition {\r\n    [name: string]: TIconDefinition\r\n}\r\n\r\n\r\n\r\n/**\r\n * Register new icons.\r\n * @param {object}  icons - The  keys are the  name of the  icons, the\r\n * value is the object representing an SVG image.\r\n * @returns {undefined}\r\n */\r\nexport function register(icons: IIconsDefinition): void {\r\n    for (const key of Object.keys(icons)) {\r\n        const val: TIconDefinition = icons[key];\r\n        iconsBook[key] = val;\r\n    }\r\n};\r\n\r\n/**\r\n * @param {string} d - Path definition, as in the attribute `d` of the\r\n * SVG tag `path`.\r\n * @returns {array} SVG description.\r\n */\r\nfunction draw(d: string): TIconDefinition {\r\n    return ['path', { d, stroke: 'none', fill: 0 }];\r\n}\r\n\r\n\r\nexport const iconsBook: IIconsDefinition = {\r\n    android: draw('M15,-35H10V-40H15M-10,-35H-15V-40H-10M18,-49L24,-56C25,-57,25,-58,24,-59C23,-60,22,-60,21,-59L13,-52C9,-54,5,-55,0,-55C-5,-55,-9,-54,-13,-52L-21,-59C-22,-60,-23,-60,-24,-59C-25,-58,-25,-57,-24,-56L-18,-49C-25,-44,-30,-35,-30,-25H30C30,-35,25,-44,18,-49M43,-20A8,8,0,0,0,35,-12V23A8,8,0,0,0,43,30A8,8,0,0,0,50,23V-12A8,8,0,0,0,43,-20M-42,-20A8,8,0,0,0,-50,-12V23A8,8,0,0,0,-42,30A8,8,0,0,0,-35,23V-12A8,8,0,0,0,-42,-20M-30,30A5,5,0,0,0,-25,35H-20V53A8,8,0,0,0,-12,60A8,8,0,0,0,-5,53V35H5V53A8,8,0,0,0,13,60A8,8,0,0,0,20,53V35H25A5,5,0,0,0,30,30V-20H-30V30Z'),\r\n    bug: draw(\"M10,0H-10V-10H10M10,20H-10V10H10M40,-20H26C24,-24 21,-27 17,-30L25,-38L18,-45L7,-34C5,-35 3,-35 0,-35C-2,-35 -5,-35 -7,-34L-18,-45L-25,-38L-17,-30C-21,-27 -24,-24 -26,-20H-40V-10H-30C-30,-8 -30,-7 -30,-5V0H-40V10H-30V15C-30,17 -30,18 -30,20H-40V30H-26C-21,39 -11,45 0,45C11,45 21,39 26,30H40V20H30C30,18 30,17 30,15V10H40V0H30V-5C30,-7 30,-8 30,-10H40V-20Z\"),\r\n    camera: draw('M-40,-40H-25L-15,-50H15L25,-40H40A10,10,0,0,1,50,-30V30A10,10,0,0,1,40,40H-40A10,10,0,0,1,-50,30V-30A10,10,0,0,1,-40,-40M0,-25A25,25,0,0,0,-25,0A25,25,0,0,0,0,25A25,25,0,0,0,25,0A25,25,0,0,0,0,-25M0,-15A15,15,0,0,1,15,0A15,15,0,0,1,0,15A15,15,0,0,1,-15,0A15,15,0,0,1,0,-15Z'),\r\n    cancel: draw('M7,0L35,28V35H28L0,7L-28,35H-35V28L-7,0L-35,-28V-35H-28L0,-7L28,-35H35V-28L7,0Z'),\r\n    center: draw(\r\n        'M0,-15A15,15,0,0,0,-15,0A15,15,0,0,0,0,15A15,15,0,0,0,15,0A15,15,0,0,0,0,-15M35,35H15V45H35A10,10,0,0,0,45,35V15H35M35,-45H15V-35H35V-15H45V-35A10,10,0,0,0,35,-45M-35,-35H-15V-45H-35A10,10,0,0,0,-45,-35V-15H-35M-35,15H-45V35A10,10,0,0,0,-35,45H-15V35H-35V15Z'\r\n    ),\r\n    child: draw('M5,-50V-10H45A40,40,0,0,0,5,-50M37,19C42,13,45,4,45,-5H-28L-32,-15H-50V-5H-39C-39,-5,-29,15,-28,17C-34,20,-37,26,-37,33A18,18,0,0,0,-20,50C-11,50,-4,44,-3,35H8C9,44,16,50,25,50A18,18,0,0,0,43,33C43,27,40,23,37,19M-20,40A8,8,0,0,1,-27,33A8,8,0,0,1,-20,25A8,8,0,0,1,-12,33A8,8,0,0,1,-20,40M25,40A8,8,0,0,1,18,33A8,8,0,0,1,25,25A8,8,0,0,1,33,33A8,8,0,0,1,25,40Z'),\r\n    close: draw('M0,-50C28,-50,50,-28,50,0C50,28,28,50,0,50C-28,50,-50,28,-50,0C-50,-28,-28,-50,0,-50M18,-25L0,-7L-18,-25L-25,-18L-7,0L-25,18L-18,25L0,7L18,25L25,18L7,0L25,-18L18,-25Z'),\r\n    code: draw('M13,23L36,0L13,-23L20,-30L50,0L20,30L13,23M-13,23L-36,0L-13,-23L-20,-30L-50,0L-20,30L-13,23Z'),\r\n    copy: draw('M35,45H-20V-25H35M35,-35H-20A10,10,0,0,0,-30,-25V45A10,10,0,0,0,-20,55H35A10,10,0,0,0,45,45V-25A10,10,0,0,0,35,-35M20,-55H-40A10,10,0,0,0,-50,-45V25H-40V-45H20V-55Z'),\r\n    counter: draw('M-40,-40H40A10,10,0,0,1,50,-30V30A10,10,0,0,1,40,40H-40A10,10,0,0,1,-50,30V-30A10,10,0,0,1,-40,-40M-40,-30V30H-5V-30H-40M40,30V-30H34C35,-27,35,-25,35,-24C34,-21,32,-17,31,-16L20,-3L36,-4L36,3L10,2L10,-3C10,-3,25,-19,26,-20C27,-22,30,-30,23,-30C16,-30,17,-23,17,-23L9,-23C9,-23,9,-27,11,-30H5V30H18L18,26L23,26C23,26,27,25,27,20C28,15,23,15,23,15C22,15,17,16,17,20H10C10,20,10,9,23,9C36,9,35,20,35,20C35,20,35,26,29,28L32,30H40M-15,20H-23V-9L-32,-6V-12L-16,-18H-15V20Z'),\r\n    delete: draw(\r\n        'M35,-40H18L13,-45H-12L-17,-40H-35V-30H35M-30,35A10,10,0,0,0,-20,45H20A10,10,0,0,0,30,35V-25H-30V35Z'),\r\n    direction: draw('M10,13V0H-10V15H-20V-5A5,5,0,0,1,-15,-10H10V-22L28,-5M49,-4L4,-49H3C2,-50,-2,-50,-4,-49L-49,-4C-50,-2,-50,2,-49,4L-4,49C-2,50,2,51,4,49L49,4C51,2,51,-2,49,-4Z'),\r\n    down: draw('M-30,-30L0,30,30,-30'),\r\n    'down-double': draw('M-30,-40L0,-10,30,-40M-30,10L0,40,30,10'),\r\n    edit: draw(\r\n        \"M24,-46C22,-46,20,-46,19,-44L8,-34L35,-7L45,-17C48,-21,48,-25,45,-28L29,-44C28,-46,26,-46,24,-46M5,-30L-36,11L-23,12L-22,23L-11,24L-9,37L31,-3M-39,15L-47,49L-14,40L-15,29L-27,28L-28,16\"\r\n    ),\r\n    eraser: draw('M21,-42L46,-17C50,-14,50,-7,46,-3L0,43C-8,50,-20,50,-28,43L-46,25C-50,21,-50,15,-46,11L7,-42C11,-46,17,-46,21,-42M-39,18L-21,36C-17,39,-11,39,-7,36L11,18L-14,-7L-39,18Z'),\r\n    'export': draw('M-35,40H35V30H-35M35,-15H15V-45H-15V-15H-35L0,20L35,-15Z'),\r\n    \"flag-jp\": [\"g\", {\r\n        stroke: \"none\"\r\n    },\r\n        [\r\n            [\"path\", {\r\n                fill: \"#000\",\r\n                d: \"M-65,50h130v-100h-130z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#fff\",\r\n                d: \"M-60,45h120v-90h-120z\"\r\n            }],\r\n            [\"circle\", {\r\n                fill: \"#bc002d\",\r\n                r: 24\r\n            }]\r\n        ]\r\n    ],\r\n    \"flag-fr\": [\"g\", {\r\n        stroke: \"none\"\r\n    },\r\n        [\r\n            [\"path\", {\r\n                fill: \"#000\",\r\n                d: \"M-65,50h130v-100h-130z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#002395\",\r\n                d: \"M-60,45h40v-90h-40z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#fff\",\r\n                d: \"M-20,45h40v-90h-40z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#ed2939\",\r\n                d: \"M20,45h40v-90h-40z\"\r\n            }]\r\n        ]\r\n    ],\r\n    \"flag-it\": [\"g\", {\r\n        stroke: \"none\"\r\n    },\r\n        [\r\n            [\"path\", {\r\n                fill: \"#000\",\r\n                d: \"M-65,50h130v-100h-130z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#009246\",\r\n                d: \"M-60,45h40v-90h-40z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#fff\",\r\n                d: \"M-20,45h40v-90h-40z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#ce2b37\",\r\n                d: \"M20,45h40v-90h-40z\"\r\n            }]\r\n        ]\r\n    ],\r\n    \"flag-de\": [\"g\", {\r\n        stroke: \"none\"\r\n    },\r\n        [\r\n            [\"path\", {\r\n                fill: \"#000\",\r\n                d: \"M-65,41h130v-82h-130z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#ffce00\",\r\n                d: \"M-60,36h120v-24h-120z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#dd0000\",\r\n                d: \"M-60,12h120v-24h-120z\"\r\n            }]\r\n        ]\r\n    ],\r\n    \"flag-en\": [\"g\", {\r\n        stroke: \"none\"\r\n    },\r\n        [\r\n            [\"path\", {\r\n                fill: \"#000\",\r\n                d: \"M-65,37h130v-75h-130z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#bb133e\",\r\n                d: \"M-60,32h120v-65h-120z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#fff\",\r\n                d: \"M-60,22h120v5h-120z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#fff\",\r\n                d: \"M-60,12h120v5h-120z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#fff\",\r\n                d: \"M-60,2h120v5h-120z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#fff\",\r\n                d: \"M-60,-8h120v5h-120z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#fff\",\r\n                d: \"M-60,-18h120v5h-120z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#fff\",\r\n                d: \"M-60,-28h120v5h-120z\"\r\n            }],\r\n            [\"path\", {\r\n                fill: \"#002664\",\r\n                d: \"M-60,-33h48v35h-48z\"\r\n            }],\r\n\r\n        ]\r\n    ],\r\n    font: draw('M25,-20H40V40H45V45H25V40H30V25H10L3,40H10V45H-10V40H-5L25,-20M30,-15L13,20H30V-15M-35,-45H-10C-4,-45,0,-41,0,-35V20H-15V-5H-30V20H-45V-35C-45,-41,-41,-45,-35,-45M-30,-35V-15H-15V-35H-30Z'),\r\n    'format-align-center': draw('M-45,-45H45V-35H-45V-45M-25,-25H25V-15H-25V-25M-45,-5H45V5H-45V-5M-25,15H25V25H-25V15M-45,35H45V45H-45V35Z'),\r\n    'format-align-justify': draw('M-45,-45H45V-35H-45V-45M-45,-25H45V-15H-45V-25M-45,-5H45V5H-45V-5M-45,15H45V25H-45V15M-45,35H45V45H-45V35Z'),\r\n    'format-align-left': draw('M-45,-45H45V-35H-45V-45M-45,-25H15V-15H-45V-25M-45,-5H45V5H-45V-5M-45,15H15V25H-45V15M-45,35H45V45H-45V35Z'),\r\n    'format-align-right': draw(' M-45,-45H45V-35H-45V-45M-15,-25H45V-15H-15V-25M-45,-5H45V5H-45V-5M-15,15H45V25H-15V15M-45,35H45V45H-45V35Z '),\r\n    'format-bold': draw('M8,18H-10V3H8A8,8,0,0,1,15,10A8,8,0,0,1,8,18M-10,-27H5A8,8,0,0,1,13,-20A8,8,0,0,1,5,-12H-10M18,-6C23,-9,26,-15,26,-20C26,-31,18,-40,6,-40H-25V30H10C21,30,29,22,29,11C29,3,24,-3,18,-6Z'),\r\n    'format-italic': draw('M-10,-40V-25H1L-16,15H-30V30H10V15H-1L16,-25H30V-40H-10Z'),\r\n    'format-float-center': draw('M-15,-25H15V5H-15V-25M-45,-45H45V-35H-45V-45M-45,15H45V25H-45V15M-45,35H25V45H-45V35Z'),\r\n    'format-float-left': draw('M-45,-25H-15V5H-45V-25M-45,-45H45V-35H-45V-45M45,-25V-15H-5V-25H45M45,-5V5H-5V-5H45M-45,15H25V25H-45V15M-45,35H45V45H-45V35Z'),\r\n    'format-float-none': draw('M-45,-25H-15V5H-45V-25M-45,-45H45V-35H-45V-45M45,-5V5H-5V-5H45M-45,15H25V25H-45V15M-45,35H45V45H-45V35Z'),\r\n    'format-float-right': draw('M15,-25H45V5H15V-25M-45,-45H45V-35H-45V-45M5,-25V-15H-45V-25H5M-15,-5V5H-45V-5H-15M-45,15H25V25H-45V15M-45,35H45V45H-45V35Z'),\r\n    'format-header': draw('M-40,-40H-30V-10H-10V-40H0V30H-10V0H-30V30H-40V-40M13,-23L31,-5L13,13L20,20L45,-5L20,-30L13,-23Z'),\r\n    'format-underline': draw(\r\n        'M-35,45H35V35H-35V45M0,25A30,30,0,0,0,30,-5V-45H18V-5A18,18,0,0,1,0,13A18,18,0,0,1,-17,-5V-45H-30V-5A30,30,0,0,0,0,25Z'\r\n    ),\r\n    fullscreen: draw('M-35,-35H-10V-25H-25V-10H-35V-35M10,-35H35V-10H25V-25H10V-35M25,10H35V35H10V25H25V10M-10,25V35H-35V10H-25V25H-10Z'),\r\n    gear: draw(\r\n        'M0,18A18,18,0,0,1,-17,0A18,18,0,0,1,0,-17A18,18,0,0,1,18,0A18,18,0,0,1,0,18M37,5C37,3,38,2,38,0C38,-2,37,-3,37,-5L48,-13C49,-14,49,-15,48,-16L38,-34C38,-35,36,-35,35,-35L23,-30C20,-32,18,-33,14,-35L13,-48C12,-49,11,-50,10,-50H-10C-11,-50,-12,-49,-12,-48L-14,-35C-17,-33,-20,-32,-23,-30L-35,-35C-36,-35,-38,-35,-38,-34L-48,-16C-49,-15,-49,-14,-48,-13L-37,-5C-37,-3,-37,-2,-37,0C-37,2,-37,3,-37,5L-48,13C-49,14,-49,15,-48,16L-38,34C-38,35,-36,35,-35,35L-23,30C-20,32,-17,33,-14,35L-12,48C-12,49,-11,50,-10,50H10C11,50,12,49,13,48L14,35C18,33,20,32,23,30L35,35C36,35,38,35,38,34L48,16C49,15,49,14,48,13L37,5Z'\r\n    ),\r\n    gps: draw(\r\n        'M0,-20A20,20,0,0,1,20,0A20,20,0,0,1,0,20A20,20,0,0,1,-20,0A20,20,0,0,1,0,-20M-45,5H-55V-5H-45C-42,-26,-26,-42,-5,-45V-55H5V-45C26,-42,43,-26,45,-5H55V5H45C43,26,26,43,5,45V55H-5V45C-26,43,-42,26,-45,5M0,-35A35,35,0,0,0,-35,0A35,35,0,0,0,0,35A35,35,0,0,0,35,0A35,35,0,0,0,0,-35Z'\r\n    ),\r\n    hand: draw(\r\n        \"M-10,-50A10,10,0,0,1,0,-40V-17C0,-17,10,-19,10,-14C10,-14,20,-15,20,-10C20,-10,30,-11,30,-6C30,-6,40,-7,40,-2V15C40,20,25,45,25,50H-15C-15,50,-25,15,-40,5C-40,5,-45,-25,-20,0V-40A10,10,0,0,1,-10,-50Z\"\r\n    ),\r\n    heart: draw('M0,47L-7,40C-33,17,-50,1,-50,-17C-50,-33,-38,-45,-22,-45C-14,-45,-5,-41,0,-35C5,-41,14,-45,23,-45C38,-45,50,-33,50,-17C50,1,33,17,7,40L0,47Z'),\r\n    hide: draw(\r\n        'M-1,-15L15,1C15,1,15,0,15,0A15,15,0,0,0,0,-15C0,-15,-1,-15,-1,-15M-22,-11L-15,-3C-15,-2,-15,-1,-15,0A15,15,0,0,0,0,15C1,15,2,15,3,15L11,22C8,24,4,25,0,25A25,25,0,0,1,-25,0C-25,-4,-24,-8,-22,-11M-50,-39L-39,-27L-36,-25C-45,-18,-51,-10,-55,0C-46,22,-25,38,0,38C8,38,15,36,22,33L24,35L39,50L45,44L-44,-45M0,-25A25,25,0,0,1,25,0C25,3,24,6,23,9L38,24C45,18,51,9,55,0C46,-22,25,-37,0,-37C-7,-37,-14,-36,-20,-34L-9,-23C-6,-24,-3,-25,0,-25Z'\r\n    ),\r\n    home: draw('M-10,40V10H10V40H35V0H50L0,-45L-50,0H-35V40H-10Z'),\r\n    image: draw('M5,-15H33L5,-42V-15M-30,-50H10L40,-20V40A10,10,0,0,1,30,50H-30C-36,50,-40,46,-40,40V-40C-40,-46,-36,-50,-30,-50M-30,40H15L30,40V0L10,20L0,10L-30,40M-20,-15A10,10,0,0,0,-30,-5A10,10,0,0,0,-20,5A10,10,0,0,0,-10,-5A10,10,0,0,0,-20,-15Z'),\r\n    import: draw('M-15,20V-10H-35L0,-45L35,-10H15V20H-15M-35,40V30H35V40H-35Z'),\r\n    improvement: draw(\"M0,50A50,50,0,0,1,-50,0A50,50,0,0,1,0,-50A50,50,0,0,1,50,0A50,50,0,0,1,0,50M0,-25L-25,0H-10V20H10V0H25L0,-25Z\"),\r\n    info: draw('M8,-40A8,8,0,0,0,0,-32A8,8,0,0,0,8,-25A8,8,0,0,0,15,-32A8,8,0,0,0,8,-40M6,-16C0,-16,-17,-3,-17,-3C-17,-2,-17,-2,-16,-1C-16,1,-16,1,-15,0C-14,0,-12,-2,-9,-3C1,-10,-8,6,-12,32C-14,45,-2,39,1,37C4,35,12,29,13,28C14,28,13,27,12,26C12,25,11,26,11,26C8,28,2,32,1,29C0,27,6,7,9,-6C10,-10,12,-17,6,-16Z'),\r\n    left: ['path', { fill: 0, d: 'M40,-5V5H-20L8,33L0,40L-39,0L0,-40L8,-32L-20,-5H40Z' }],\r\n    'left-double': draw('M-10,-30L-40,0,-10,30M40,-30L10,0,40,30'),\r\n    link: draw('M-7,7C-5,9,-5,12,-7,14C-9,16,-12,16,-14,14C-24,4,-24,-11,-14,-21V-21L4,-39C13,-49,29,-49,39,-39C49,-29,49,-13,39,-4L31,4C32,0,31,-4,29,-8L32,-11C38,-16,38,-26,32,-32C26,-38,16,-38,11,-32L-7,-14C-13,-8,-13,1,-7,7M7,-14C9,-16,12,-16,14,-14C24,-4,24,11,14,21V21L-4,39C-13,49,-29,49,-39,39C-49,29,-49,13,-39,4L-31,-4C-31,0,-31,4,-29,8L-32,11C-38,16,-38,26,-32,32C-26,38,-16,38,-11,32L7,14C13,8,13,-1,7,-7C5,-9,5,-12,7,-14Z'),\r\n    location: draw('M0,-2A13,13,0,0,1,-12,-15A13,13,0,0,1,0,-27A13,13,0,0,1,13,-15A13,13,0,0,1,0,-2M0,-50A35,35,0,0,0,-35,-15C-35,11,0,50,0,50C0,50,35,11,35,-15A35,35,0,0,0,0,-50Z'),\r\n    logout: draw(\r\n        \"M25,26V10H-10V-10H25V-26L51,0L25,26M5,-50A10,10,0,0,1,15,-40V-20H5V-40H-40V40H5V20H15V40A10,10,0,0,1,5,50H-40A10,10,0,0,1,-50,40V-40A10,10,0,0,1,-40,-50H5Z\"\r\n    ),\r\n    mail: draw(\r\n        'M40,-40H-40A10,10,0,0,0,-50,-30V30A10,10,0,0,0,-40,40H40A10,10,0,0,0,50,30V-30A10,10,0,0,0,40,-40M40,30H-40V-20L0,5L40,-20V30M40,-30L0,-5L-40,-30V-30H40V-30Z'\r\n    ),\r\n    map: draw('M15,35L-15,24V-35L15,-24M43,-45C42,-45,42,-45,42,-45L15,-34L-15,-45L-43,-35C-44,-35,-45,-34,-45,-33V43A3,3,0,0,0,-42,45C-42,45,-42,45,-42,45L-15,34L15,45L43,36C44,35,45,34,45,33V-42A3,3,0,0,0,43,-45Z'),\r\n    \"map-layer\": draw('M0,20L37,-9L45,-15L0,-50L-45,-15L-37,-9M0,33L-37,4L-45,10L0,45L45,10L37,4L0,33Z'),\r\n    menu: draw('M-45,-30H45V-20H-45V-30M-45,-5H45V5H-45V-5M-45,20H45V30H-45V20Z'),\r\n    minus: draw('M35,5H-35V-5H35V5Z'),\r\n    \"minus-o\": draw('M0,40C-22,40,-40,22,-40,0C-40,-22,-22,-40,0,-40C22,-40,40,-22,40,0C40,22,22,40,0,40M0,-50A50,50,0,0,0,-50,0A50,50,0,0,0,0,50A50,50,0,0,0,50,0A50,50,0,0,0,0,-50M-25,5H25V-5H-25'),\r\n    \"minus-small\": draw('M35,35V-35H-35V35H35M35,-45A10,10,0,0,1,45,-35V35A10,10,0,0,1,35,45H-35A10,10,0,0,1,-45,35V-35C-45,-41,-40,-45,-35,-45H35M25,-5V5H-25V-5H25Z'),\r\n    ok: draw('M45,-25L-15,35L-42,8L-35,0L-15,21L38,-32L45,-25Z'),\r\n    pack: ['path', { fill: 0, d: 'M45,23C45,24,44,26,42,27L3,49C2,50,1,50,0,50C-1,50,-2,50,-3,49L-42,27C-44,26,-45,24,-45,23V-22C-45,-24,-44,-26,-42,-27L-3,-49C-2,-50,-1,-50,0,-50C1,-50,2,-50,3,-49L42,-27C44,-26,45,-24,45,-22V23M0,-39L-35,-20V20L0,39L35,20V-20L0,-39M0,-29L24,-15L0,-1L-24,-15L0,-29M25,14L5,26V8L25,-3V14M-5,26L-25,14V-3L-5,8V26Z' }],\r\n    plug: draw('M20,-25V-45H10V-25H-10V-45H-20V-25H-20C-25,-25,-30,-20,-30,-15V13L-12,30V45H13V30L30,13V-15C30,-20,25,-25,20,-25Z'),\r\n    plus: draw('M35,5H5V35H-5V5H-35V-5H-5V-35H5V-5H35V5Z'),\r\n    \"plus-o\": draw('M0,40C-22,40,-40,22,-40,0C-40,-22,-22,-40,0,-40C22,-40,40,-22,40,0C40,22,22,40,0,40M0,-50A50,50,0,0,0,-50,0A50,50,0,0,0,0,50A50,50,0,0,0,50,0A50,50,0,0,0,0,-50M5,-25H-5V-5H-25V5H-5V25H5V5H25V-5H5V-25Z'),\r\n    \"plus-small\": draw('M35,35V-35H-35V35H35M35,-45A10,10,0,0,1,45,-35V35A10,10,0,0,1,35,45H-35A10,10,0,0,1,-45,35V-35C-45,-41,-40,-45,-35,-45H35M-5,-25H5V-5H25V5H5V25H-5V5H-25V-5H-5V-25Z'),\r\n    print: ['path', {\r\n        fill: 0,\r\n        d: 'M30,-45H-30V-25H30M35,0A5,5,0,0,1,30,-5A5,5,0,0,1,35,-10A5,5,0,0,1,40,-5A5,5,0,0,1,35,0M20,35H-20V10H20M35,-20H-35A15,15,0,0,0,-50,-5V25H-30V45H30V25H50V-5A15,15,0,0,0,35,-20Z'\r\n    }],\r\n    question: draw(\"M-10,35H5V50H-10V35M0,-50C27,-49,38,-22,23,-2C18,3,12,7,8,11C5,15,5,20,5,25H-10C-10,17,-10,10,-7,5C-3,0,3,-3,8,-7C20,-18,17,-34,0,-35A15,15,0,0,0,-15,-20H-30A30,30,0,0,1,0,-50Z\"),\r\n    redo: draw('M32,-7C23,-15,11,-20,-2,-20C-26,-20,-45,-5,-52,16L-40,20C-35,4,-20,-7,-2,-7C7,-7,16,-4,23,2L5,20H50V-25L32,-7Z'),\r\n    refresh: draw('M28,-28C21,-35,11,-40,0,-40A40,40,0,0,0,-40,0A40,40,0,0,0,0,40C19,40,34,27,39,10H28C24,22,13,30,0,30A30,30,0,0,1,-30,0A30,30,0,0,1,0,-30C8,-30,16,-27,21,-21L5,-5H40V-40L28,-28Z'),\r\n    right: ['path', { fill: 0, d: 'M-40,-5V5H20L-7,33L0,40L39,0L0,-40L-7,-32L20,-5H-40Z' }],\r\n    'right-double': draw('M10,-30L40,0,10,30M-40,-30L-10,0,-40,30'),\r\n    run: draw('M23,-32A10,10,0,0,0,33,-42A10,10,0,0,0,23,-52A10,10,0,0,0,13,-42A10,10,0,0,0,23,-32M5,37L10,15L20,25V55H30V18L20,8L23,-7C29,0,39,5,50,5V-5C41,-5,33,-9,28,-17L23,-25C22,-28,18,-30,15,-30C13,-30,13,-29,11,-29L-15,-18V5H-5V-12L4,-15L-4,25L-28,20L-30,30L5,37M-40,-15A5,5,0,0,1,-45,-20A5,5,0,0,1,-40,-25H-25V-15H-40M-35,-35A5,5,0,0,1,-40,-40A5,5,0,0,1,-35,-45H-10V-35H-35M-45,5A5,5,0,0,1,-50,0A5,5,0,0,1,-45,-5H-25V5H-45Z'),\r\n    search: draw('M-12,-45A33,33,0,0,1,20,-12C20,-4,17,3,12,9L14,10H18L43,35L35,43L10,18V14L9,12C3,17,-4,20,-12,20A33,33,0,0,1,-45,-12A33,33,0,0,1,-12,-45M-12,-35C-25,-35,-35,-25,-35,-12C-35,0,-25,10,-12,10C0,10,10,0,10,-12C10,-25,0,-35,-12,-35Z'),\r\n    select: draw('M35,35H-35V-35H15V-45H-35C-41,-45,-45,-41,-45,-35V35A10,10,0,0,0,-35,45H35A10,10,0,0,0,45,35V-5H35M-20,-10L-27,-2L-5,20L45,-30L38,-37L-5,6L-20,-10Z'),\r\n    sitemap: draw('M-15,-50V-20H-5V-5H-35C-41,-5,-45,-1,-45,5V20H-55V50H-25V20H-35V5H-5V20H-15V50H15V20H5V5H35V20H25V50H55V20H45V5C45,-1,41,-5,35,-5H5V-20H15V-50H-15Z'),\r\n    unselect: draw('M35,-45H-35C-41,-45,-45,-41,-45,-35V35A10,10,0,0,0,-35,45H35A10,10,0,0,0,45,35V-35C45,-41,41,-45,35,-45M35,-35V35H-35V-35H35Z'),\r\n    share: draw('M30,20C26,20,23,22,20,24L-15,3C-15,2,-15,1,-15,0C-15,-1,-15,-2,-15,-3L20,-24C23,-22,26,-20,30,-20A15,15,0,0,0,45,-35A15,15,0,0,0,30,-50A15,15,0,0,0,15,-35C15,-34,15,-33,15,-31L-20,-11C-22,-13,-26,-15,-30,-15A15,15,0,0,0,-45,0A15,15,0,0,0,-30,15C-26,15,-22,13,-20,11L16,32C16,33,15,34,15,35C15,43,22,50,30,50C38,50,45,43,45,35A15,15,0,0,0,30,20Z'),\r\n    show: draw('M0,-15A15,15,0,0,0,-15,0A15,15,0,0,0,0,15A15,15,0,0,0,15,0A15,15,0,0,0,0,-15M0,25A25,25,0,0,1,-25,0A25,25,0,0,1,0,-25A25,25,0,0,1,25,0A25,25,0,0,1,0,25M0,-37C-25,-37,-46,-22,-55,0C-46,22,-25,38,0,38C25,38,46,22,55,0C46,-22,25,-37,0,-37Z'),\r\n    speaker: draw('M40,35L33,28C41,21,45,11,45,0C45,-11,41,-21,33,-28L40,-35C49,-26,55,-14,55,0C55,14,49,26,40,35M26,21L19,14C23,11,25,6,25,0C25,-6,23,-11,19,-14L26,-21C32,-16,35,-8,35,0C35,8,32,16,26,21M-40,-45H0A10,10,0,0,1,10,-35V35A10,10,0,0,1,0,45H-40A10,10,0,0,1,-50,35V-35A10,10,0,0,1,-40,-45M-20,-35A10,10,0,0,0,-30,-25A10,10,0,0,0,-20,-15A10,10,0,0,0,-10,-25A10,10,0,0,0,-20,-35M-20,-5A20,20,0,0,0,-40,15A20,20,0,0,0,-20,35A20,20,0,0,0,0,15A20,20,0,0,0,-20,-5M-20,5A10,10,0,0,1,-10,15A10,10,0,0,1,-20,25A10,10,0,0,1,-30,15A10,10,0,0,1,-20,5Z'),\r\n    \"split-vertical\": draw('M30,20V5H15V50H5V-50H15V-5H30V-20L50,0L30,20M-50,0L-30,20V5H-15V50H-5V-50H-15V-5H-30V-20L-50,0Z'),\r\n    \"split-horizontal\": draw('M-20,30H-5V15H-50V5H50V15H5V30H20L0,50L-20,30M0,-50L-20,-30H-5V-15H-50V-5H50V-15H5V-30H20L0,-50Z'),\r\n    star: draw('M0,26L31,45L23,10L50,-14L14,-17L0,-50L-14,-17L-50,-14L-23,10L-31,45L0,26Z'),\r\n    stat: draw('M-45,50V-20H-25V50H-45M-10,50V-50H10V50H-10M25,50V10H45V50H25Z'),\r\n    'switch': draw('M-45,-40V3L-30,-12L-15,5C-10,10,-10,15,-10,15V45H10V10C10,10,10,5,7,0C5,-5,0,-10,0,-10L-15,-27L-2,-40M30,-40L8,-18L10,-15C10,-15,15,-10,17,-5C18,-3,19,-1,19,1L45,-25'),\r\n    'tri-down': draw('M-23,-17L0,6L23,-17L30,-10L0,20L-30,-10L-23,-17Z'),\r\n    'tri-left': draw('M17,23L-6,0L17,-23L10,-30L-20,0L10,30L17,23Z'),\r\n    'tri-right': draw('M-17,23L6,0L-17,-23L-10,-30L20,0L-10,30L-17,23Z'),\r\n    'tri-up': draw('M-23,17L0,-6L23,17L30,10L0,-20L-30,10L-23,17Z'),\r\n    twitter: draw('M52,-30C48,-28,44,-27,40,-27C44,-29,48,-33,49,-38C45,-36,41,-34,36,-33C32,-37,26,-40,20,-40C8,-40,-1,-30,-1,-19C-1,-17,-1,-15,-1,-14C-19,-15,-34,-23,-45,-36C-47,-33,-48,-29,-48,-25C-48,-18,-44,-11,-38,-7C-42,-7,-45,-8,-48,-10C-48,-10,-48,-10,-48,-10C-48,1,-41,9,-31,11C-33,12,-35,12,-37,12C-38,12,-39,12,-41,12C-38,20,-30,26,-21,26C-28,32,-37,36,-47,36C-49,36,-51,36,-52,35C-43,41,-31,45,-19,45C20,45,42,12,42,-16C42,-17,42,-18,42,-19C46,-22,49,-26,52,-30Z'),\r\n    undo: draw('M3,-20C-11,-20,-23,-15,-32,-7L-50,-25V20H-5L-23,2C-16,-4,-7,-7,3,-7C20,-7,35,4,41,20L52,16C45,-5,26,-20,3,-20Z'),\r\n    up: draw('M-30,30L0,-30,30,30'),\r\n    'up-double': draw('M-30,40L0,10,30,40M-30,-10L0,-40,30,-10'),\r\n    user: draw(\r\n        'M0,-40A20,20,0,0,1,20,-20A20,20,0,0,1,0,0A20,20,0,0,1,-20,-20A20,20,0,0,1,0,-40M0,10C22,10,40,19,40,30V40H-40V30C-40,19,-22,10,0,10Z'\r\n    ),\r\n    wait: draw('M0,-5A5,5,0,0,0,-5,0A5,5,0,0,0,0,5A5,5,0,0,0,5,0A5,5,0,0,0,0,-5M3,-50C25,-50,26,-32,14,-26C9,-24,7,-19,6,-14C8,-13,10,-11,12,-9C30,-19,50,-15,50,3C50,25,32,26,26,14C24,9,19,7,14,6C13,8,11,10,9,12C19,30,15,50,-2,50C-25,50,-25,32,-14,26C-9,24,-7,19,-6,14C-8,13,-10,11,-12,9C-30,19,-50,15,-50,-2C-50,-25,-32,-26,-26,-14C-24,-9,-19,-7,-14,-6C-13,-8,-11,-10,-9,-12C-19,-30,-15,-50,3,-50Z'),\r\n    \"zoom-in\": draw('M18,10L43,35L35,43L10,18V14L9,12C3,17,-4,20,-12,20A33,33,0,0,1,-45,-12A33,33,0,0,1,-12,-45A33,33,0,0,1,20,-12C20,-4,17,3,12,9L14,10H18M-12,10C0,10,10,0,10,-12C10,-25,0,-35,-12,-35C-25,-35,-35,-25,-35,-12C-35,0,-25,10,-12,10M0,-10H-10V0H-15V-10H-25V-15H-15V-25H-10V-15H0V-10Z'),\r\n    \"zoom-out\": draw('M18,10H14L12,9C17,3,20,-4,20,-12A33,33,0,0,0,-12,-45A33,33,0,0,0,-45,-12A33,33,0,0,0,-12,20C-4,20,3,17,9,12L10,14V18L35,43L43,35L18,10M-12,10C-25,10,-35,0,-35,-12C-35,-25,-25,-35,-12,-35C0,-35,10,-25,10,-12C10,0,0,10,-12,10M-25,-15H0V-10H-25V-15Z'),\r\n    warning: draw('M0,-50L-55,45H55M0,-30L38,35H-38M-5,-10V10H5V-10M-5,20V30H5V20')\r\n};\r\n\r\n\r\n// Synonyms.\r\nconst synonyms: { [name: string]: string } = {\r\n    add: \"plus\",\r\n    back: \"left\",\r\n    help: \"question\",\r\n    save: \"export\"\r\n};\r\nfor (const key of Object.keys(synonyms)) {\r\n    const val: string = synonyms[key];\r\n    iconsBook[key] = iconsBook[val];\r\n}\r\n","\"use strict\";\r\n\r\nimport * as React from \"react\";\r\nimport castBoolean from \"../converter/boolean\";\r\nimport castInteger from \"../converter/integer\";\r\nimport castUnit from \"../converter/unit\";\r\nimport { iconsBook, TIconDefinition } from \"../icons\";\r\nimport \"./icon.css\";\r\n\r\nenum EnumPenColor { B, F, P, PD, PL, S, SD, SL }\r\n\r\ninterface IIconProps {\r\n    visible?: boolean;\r\n    content?: string | TIconDefinition;\r\n    size?: string | number;\r\n    animate?: boolean;\r\n    flipH?: boolean;\r\n    flipV?: boolean;\r\n    rotate?: number;\r\n    pen0?: EnumPenColor;\r\n    pen1?: EnumPenColor;\r\n    pen2?: EnumPenColor;\r\n    pen3?: EnumPenColor;\r\n    pen4?: EnumPenColor;\r\n    pen5?: EnumPenColor;\r\n    pen6?: EnumPenColor;\r\n    pen7?: EnumPenColor;\r\n    onClick?: () => void;\r\n    onHide?: () => void;\r\n}\r\n\r\nexport default class Icon extends React.Component<IIconProps, {}> {\r\n    static isValidIconName(name: string): boolean {\r\n        return typeof iconsBook[name] !== 'undefined';\r\n    }\r\n\r\n    static getAllIconNames(): string[] {\r\n        return Object.keys(iconsBook).sort();\r\n    }\r\n\r\n    private refIcon: any;\r\n    private visible: boolean;\r\n    private timeoutHandle: number;\r\n\r\n    constructor(props: IIconProps) {\r\n        super(props);\r\n        this.refIcon = React.createRef();\r\n        this.visible = false;\r\n        this.timeoutHandle = 0;\r\n    }\r\n\r\n    triggerVisibleAnimation() {\r\n        const\r\n            elemIcon = this.refIcon.current,\r\n            visible = this.visible;\r\n        if (this.timeoutHandle) {\r\n            window.clearTimeout(this.timeoutHandle);\r\n            this.timeoutHandle = 0;\r\n        }\r\n        requestAnimationFrame(() => {\r\n            if (visible) elemIcon.classList.remove(\"zero\");\r\n            else {\r\n                elemIcon.classList.add(\"zero\");\r\n                const slot = this.props.onHide;\r\n                if (typeof slot === 'function') {\r\n                    this.timeoutHandle = window.setTimeout(slot, 300);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const\r\n            p = this.props,\r\n            visible = castBoolean(p.visible, true),\r\n            animate = castBoolean(p.animate, false),\r\n            flipH = castBoolean(p.flipH, false),\r\n            flipV = castBoolean(p.flipV, false),\r\n            size = castUnit(p.size, \"28px\"),\r\n            content = castContent(p.content),\r\n            rotate = castInteger(p.rotate, 0),\r\n            onClick = p.onClick,\r\n            classes = [\"tfw-view-icon\"];\r\n        const svgContent = createSvgContent(content, p);\r\n        if (!svgContent) return null;\r\n\r\n        if (animate) classes.push(\"animate\");\r\n        if (visible) classes.push(\"zero\");\r\n        if (typeof onClick === 'function') classes.push(\"active\");\r\n\r\n        let transform = \"\";\r\n        if (rotate !== 0) {\r\n            transform += `rotate(${rotate}deg) `;\r\n        }\r\n        if (flipH || flipV) {\r\n            transform += `scale(${flipH ? -1 : 1},${flipV ? -1 : 1})`;\r\n        }\r\n        const style: React.CSSProperties = { width: size, height: size };\r\n        if (transform.length > 0) style.transform = transform;\r\n\r\n        requestAnimationFrame(() => this.triggerVisibleAnimation());\r\n        this.visible = visible;\r\n\r\n        return (\r\n            <svg className={classes.join(\" \")}\r\n                ref={this.refIcon}\r\n                viewBox=\"-65 -65 130 130\"\r\n                preserveAspectRatio=\"xMidYMid\"\r\n                width={size}\r\n                height={size}\r\n                onClick={onClick}\r\n                style={style}>\r\n                {svgContent}\r\n                < g strokeWidth=\"6\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" >\r\n                    {createSvgContent(content, p)}\r\n                </g>\r\n            </svg>\r\n        );\r\n    }\r\n}\r\n\r\nfunction createSvgContent(def: TIconDefinition, props: IIconProps, key: string = \"\"): any {\r\n    const\r\n        elementName = def[0],\r\n        { attributes, children } = parseDef(def);\r\n\r\n    if (typeof elementName === 'undefined') return <g></g>;\r\n\r\n    const attribs: React.Attributes = manageColors(attributes);\r\n    if (key.length > 0) attributes.key = key;\r\n\r\n    return React.createElement(\r\n        elementName,\r\n        attribs,\r\n        children.map((child, index) => createSvgContent(child, props, `${index}`))\r\n    ) as React.ReactSVGElement;\r\n}\r\n\r\nconst CLASSES = [\"0\", \"1\", \"P\", \"PL\", \"PD\", \"S\", \"SL\", \"SD\"];\r\n\r\n/**\r\n * If the value of the attribute \"fill\" is an element of CLASSES,\r\n * it will be removed and replace with a class.\r\n * Same thing for the attibute \"stroke\".\r\n *\r\n * @example\r\n * manageColors({ fill: \"1\" }) === { className: \"thn-svg-fill-1\" }\r\n *\r\n * @param   attribs [description]\r\n * @param   props   [description]\r\n * @returns         [description]\r\n */\r\nfunction manageColors(attribs: { [key: string]: any }) {\r\n    // @TODO For special forms of \"fill\" and \"stroke\", add classes.\r\n    const classes = (attribs.className || \"\").split(\" \");\r\n\r\n    [\"fill\", \"stroke\"].forEach(attribName => {\r\n        const attribValue = attribs[attribName];\r\n        if (typeof attribValue === 'undefined') return;\r\n        const key = `${attribValue}`.toUpperCase();\r\n        if (CLASSES.indexOf(key) === -1) return;\r\n        delete attribs[attribName];\r\n        classes.push(`thm-svg-${attribName}${key}`);\r\n    });\r\n\r\n    attribs.className = classes.join(\" \").trim();\r\n    return attribs;\r\n}\r\n\r\nfunction parseDef([name, arg1, arg2]: TIconDefinition) {\r\n    let attributes: undefined | {},\r\n        children: undefined | any[];\r\n\r\n    if (Array.isArray(arg1)) children = arg1;\r\n    else if (typeof arg1 !== 'undefined') attributes = arg1;\r\n    if (Array.isArray(arg2)) children = arg2;\r\n    else if (typeof arg2 !== 'undefined') attributes = arg2;\r\n\r\n    if (typeof attributes === 'undefined') attributes = {};\r\n    if (typeof children === 'undefined') children = [];\r\n\r\n    return { attributes, children };\r\n}\r\n\r\nfunction castContent(content: string | TIconDefinition = \"ok\"): TIconDefinition {\r\n    if (Array.isArray(content)) return content;\r\n    return iconsBook[content] || [];\r\n}\r\n","/**\r\n * The ESCAPE key is often used to close a dialog, collapse a combo list, ...\r\n * This module helps you nesting closable things.\r\n *\r\n * @example\r\n * import * from EscapeHandler from \"./tfw/escape-handler\"\r\n * EscapeHandler.add(() => myDialog.close());\r\n * EscapeHandler.fire();\r\n */\r\n\r\nexport default {add, fire};\r\n\r\ntype THandler = ()=>void;\r\n\r\nlet handlers:THandler[] = [];\r\nlet initialized = false;\r\n\r\nexport function add(listener: THandler) {\r\n    if( !initialized) {\r\n        initialized = true;\r\n        addKeyboardListener();\r\n    }\r\n\r\n    handlers.push(listener);\r\n}\r\n\r\nexport function fire() {\r\n    if( handlers.length === 0 ) return;\r\n    const handler = handlers.pop();\r\n    handler();\r\n}\r\n\r\nfunction addKeyboardListener() {\r\n    document.addEventListener(\"keydown\", evt => {\r\n        if( evt.key !== 'Escape') return;\r\n        fire();\r\n    }, true);\r\n}\r\n","import * as React from \"react\"\r\nimport \"./combo.css\"\r\nimport castString from \"../converter/string\"\r\nimport castBoolean from \"../converter/boolean\"\r\nimport castStringArray from \"../converter/string-array\"\r\nimport Touchable from \"../behavior/touchable\"\r\nimport Icon from \"./icon\"\r\nimport Gesture from \"../gesture\"\r\nimport EscapeHandler from \"../escape-handler\"\r\n\r\ninterface IComboProps {\r\n    label?: string;\r\n    value?: string;\r\n    keys?: string[];\r\n    wide?: boolean;\r\n    onChange?: (value: string) => void;\r\n    children: React.ReactElement<any>[];\r\n}\r\n\r\nexport default class Combo extends React.Component<IComboProps, {}> {\r\n    readonly touchable: Touchable;\r\n\r\n    ref = React.createRef<HTMLDivElement>()\r\n    list = React.createRef<HTMLDivElement>()\r\n    button = React.createRef<HTMLDivElement>()\r\n\r\n    bigList: HTMLElement | undefined;\r\n\r\n    keys: string[] = []\r\n    selectedKey: string = \"\"\r\n    selectedIndex: number = -1\r\n\r\n    constructor(props: IComboProps) {\r\n        super(props);\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.touchable = new Touchable({ onTap: this.handleClick });\r\n    }\r\n\r\n    handleClick(event: React.MouseEvent) {\r\n        this.expand();\r\n    }\r\n\r\n    /**\r\n     * If there are only two items, we don't open the list: we just swap them.\r\n     */\r\n    _swapItems() {\r\n        // With two items, clicking will immediatly switch to the next one.\r\n        for (const key of this.keys) {\r\n            if (this.props.value !== key) {\r\n                const slot = this.props.onChange;\r\n                if (typeof slot === 'function') {\r\n                    slot(key);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    _computeDimensions(list: HTMLElement, button: HTMLElement): { left: number, top: number, width: number, height: number } {\r\n        let { left, top, height } = list.getBoundingClientRect();\r\n        const { width } = button.getBoundingClientRect();\r\n        height = Math.min(height, window.innerHeight - 32);\r\n        if (top + height > window.innerHeight) {\r\n            top -= 32 * Math.ceil(window.innerHeight - top - height / 32);\r\n        }\r\n        if (top < 0) {\r\n            top += 32 * Math.ceil(-top / 32);\r\n        }\r\n        return { left, top, width, height };\r\n    }\r\n\r\n    _showList(list: HTMLElement, button: HTMLElement, left: number, top: number, width: number, height: number): { screen: HTMLElement, bigList: HTMLElement } {\r\n        const screen = document.createElement(\"div\");\r\n        screen.className = \"tfw-view-combo-screen\";\r\n        const bigList = document.createElement(\"div\");\r\n        bigList.className = \"thm-ele-nav thm-bg3\";\r\n        bigList.innerHTML = list.innerHTML;\r\n\r\n        bigList.style.top = `${top}px`;\r\n        bigList.style.left = `${left}px`;\r\n        bigList.style.width = `${width}px`;\r\n        bigList.style.height = `${height}px`;\r\n        screen.appendChild(bigList);\r\n        document.body.appendChild(screen);\r\n\r\n        this.bigList = bigList;\r\n        return { screen, bigList };\r\n    }\r\n\r\n    _ensureSelectionVisible() {\r\n        let index = 0;\r\n        const bigList: HTMLElement | undefined = this.bigList;\r\n        if (!bigList) return;\r\n        const items = bigList.querySelectorAll(\"div.item\");\r\n        for (const key of this.keys) {\r\n            const item = items[index];\r\n            if (key === this.selectedKey) {\r\n                const rect = bigList.getBoundingClientRect();\r\n                bigList.scrollTop = (32 * index) - rect.height / 2;\r\n                this.selectedIndex = index;\r\n                item.classList.add(\"thm-bgSL\");\r\n            } else {\r\n                item.classList.remove(\"thm-bgSL\");\r\n            }\r\n            index++;\r\n        }\r\n    }\r\n\r\n    _handleKeyboard(event: React.KeyboardEvent) {\r\n        switch (event.key) {\r\n            case \"ArrowDown\":\r\n                this.selectedIndex++;\r\n                this.selectedKey = this.keys[this.selectedIndex % this.keys.length];\r\n                this._ensureSelectionVisible();\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                return;\r\n            case \"ArrowUp\":\r\n                this.selectedIndex = (this.selectedIndex + this.keys.length - 1) % this.keys.length;\r\n                this.selectedKey = this.keys[this.selectedIndex];\r\n                this._ensureSelectionVisible();\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                return;\r\n            case \"Enter\":\r\n            case \" \":\r\n                const slot = this.props.onChange;\r\n                if (typeof slot === 'function') {\r\n                    slot(this.selectedKey);\r\n                }\r\n                EscapeHandler.fire();\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                return;\r\n        }\r\n        console.log(\">>\", event.key);\r\n    }\r\n\r\n    expand() {\r\n        if (this.keys.length < 3) {\r\n            this._swapItems();\r\n            return;\r\n        }\r\n\r\n        const list = this.list.current;\r\n        const button = this.button.current;\r\n        if (!list || !button) return;\r\n\r\n        const { left, top, width, height } = this._computeDimensions(list, button);\r\n        const { screen, bigList } = this._showList(list, button, left, top, width, height);\r\n        this.selectedKey = this.props.value || \"\";\r\n        window.setTimeout(() => this._ensureSelectionVisible(bigList), 10);\r\n\r\n        const handleKeyboard = this._handleKeyboard.bind(this);\r\n        document.addEventListener(\"keydown\", handleKeyboard, true);\r\n        EscapeHandler.add(() => {\r\n            document.body.removeChild(screen)\r\n            document.removeEventListener(\"keydown\", handleKeyboard, true);\r\n        });\r\n        Gesture(screen).on({ tap: () => EscapeHandler.fire() });\r\n        Gesture(bigList).on({\r\n            tap: evt => {\r\n                if (!evt || typeof evt.y === 'undefined') return;\r\n                const scroll = bigList.scrollTop;\r\n                const index = Math.floor((evt.y + scroll) / 32);\r\n                const value = this.keys[index];\r\n                EscapeHandler.fire()\r\n                requestAnimationFrame(() => {\r\n                    if (typeof this.props.onChange === 'function') {\r\n                        this.props.onChange(value)\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        const element = this.ref.current;\r\n        if (!element) return;\r\n        this.touchable.element = element;\r\n    }\r\n\r\n    render() {\r\n        const p = this.props;\r\n        const children = p.children;\r\n        const label = castString(p.label, \"\").trim();\r\n        const wide = castBoolean(p.wide, false);\r\n        const keys = ensureGoodKeys(p.keys, children);\r\n        const value = castString(p.value, keys[0]);\r\n        const classes = [\"tfw-view-combo\", \"thm-bg3\", \"thm-ele-button\"];\r\n        const items = children.map(item => {\r\n            const key = item.key;\r\n            return (<div className=\"item\" key={key} > {item} </div>);\r\n        });\r\n\r\n        if (wide) classes.push(\"wide\");\r\n\r\n        this.keys = keys;\r\n\r\n        const index = getIndex(keys, value);\r\n\r\n        return (\r\n            <button ref={this.ref} className={classes.join(\" \")}>\r\n                {label.length > 0 ? <header className=\"thm-bgPD\">{label}</header> : null}\r\n                <div ref={this.button} className=\"button\">\r\n                    <div className=\"list-container\"\r\n                        style={{\r\n                            transform: `translateY(-${32 * index}px)`\r\n                        }}>\r\n                        <div ref={this.list} className=\"tfw-view-combo-list\" >{items}</div>\r\n                    </div>\r\n                    <div className=\"icon\" >\r\n                        <Icon size=\"24px\" content=\"down\" />\r\n                    </div>\r\n                </div>\r\n            </button>\r\n        );\r\n    }\r\n}\r\n\r\nfunction getIndex(keys: string[], value: string) {\r\n    const index = keys.indexOf(value);\r\n    return Math.max(0, index);\r\n}\r\n\r\n/**\r\n * Keys must be non empty strings. If a key is not defined, it will take its index (stringified) as value.\r\n * And if a \"key\" its defined on a child, it will take precedence on anything else.\r\n *\r\n* @param  {string[]} keys\r\n* @param  {ReactElement[]} children\r\n          *\r\n* @return {string[]}\r\n*/\r\nfunction ensureGoodKeys(keys: string[] | undefined, children: React.ReactElement<any>[]): string[] {\r\n    const goodKeys: string[] = castStringArray(keys, []);\r\n    const minimalLength: number = children.length;\r\n\r\n    while (goodKeys.length < minimalLength) {\r\n        goodKeys.push(`${goodKeys.length}`);\r\n    }\r\n    for (let k = 0; k < goodKeys.length; k++) {\r\n        if (goodKeys[k].trim().length === 0) {\r\n            goodKeys[k] = `${k}`;\r\n        }\r\n    }\r\n    children.forEach((child, index) => {\r\n        const key = child.key;\r\n        if (typeof key === \"string\") {\r\n            goodKeys[index] = key;\r\n        } else {\r\n            child.key = goodKeys[index];\r\n        }\r\n    });\r\n\r\n    return goodKeys;\r\n}\r\n\r\n\r\nfunction onTap(elem: HTMLElement, handler: () => void) {\r\n    const slot = (event) => {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        elem.removeEventListener(\"mousedown\", slot);\r\n        elem.removeEventListener(\"touchdown\", slot);\r\n        handler();\r\n    };\r\n    elem.addEventListener(\"mousedown\", slot, false);\r\n    elem.addEventListener(\"touchdown\", slot, false);\r\n}\r\n","import castString from \"./string\";\r\n\r\n/**\r\n * If `value` is not an array, return `defaultArray`.\r\n * Else if `defaultString` is undefined, return `value`.\r\n * Else return a copy of `value` with a castString on all its elements.\r\n *\r\n * @param   value         [description]\r\n * @param   defaultArray  [description]\r\n * @param   defaultString [description]\r\n * @returns               [description]\r\n */\r\nexport default function castStringArray(\r\n    value: any, defaultArray: string[] = [], defaultString: string = \"\"\r\n) {\r\n    if (!Array.isArray(value)) return defaultArray;\r\n    if (typeof defaultString === 'undefined') return value;\r\n    return value.map(item => castString(item, defaultString));\r\n}\r\n","import * as React from \"react\"\r\nimport Icon from \"./icon\"\r\nimport \"./button.css\"\r\nimport Touchable from \"../behavior/touchable\"\r\nimport castString from \"../converter/string\"\r\nimport castBoolean from \"../converter/boolean\"\r\n\r\ninterface IButtonProps {\r\n    label?: string;\r\n    icon?: string;\r\n    wide?: boolean;\r\n    wait?: boolean;\r\n    flat?: boolean;\r\n    small?: boolean;\r\n    warning?: boolean;\r\n    enabled?: boolean;\r\n    tag?: any;\r\n    onClick?: (tag: any) => void;\r\n}\r\n\r\nexport default class Button extends React.Component<IButtonProps, {}> {\r\n    readonly touchable: Touchable;\r\n    readonly ref: React.RefObject<HTMLButtonElement>;\r\n\r\n    constructor(props: IButtonProps) {\r\n        super(props);\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.touchable = new Touchable({ onTap: this.handleClick });\r\n        this.ref = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        const element = this.ref.current;\r\n        if (!element) return;\r\n        this.touchable.element = element;\r\n    }\r\n\r\n    handleClick() {\r\n        const slot = this.props.onClick;\r\n        if (typeof slot !== 'function') return;\r\n        slot(this.props.tag);\r\n    }\r\n\r\n    render() {\r\n        const p = this.props,\r\n            label = castString(p.label, \"\"),\r\n            icon = castString(p.icon, \"\"),\r\n            wide = castBoolean(p.wide, false),\r\n            wait = castBoolean(p.wait, false),\r\n            flat = castBoolean(p.flat, false),\r\n            small = castBoolean(p.small, false),\r\n            enabled = !wait && castBoolean(p.enabled, true),\r\n            warning = castBoolean(p.warning, false),\r\n            classes = [\"tfw-view-button\"];\r\n        if (wide) classes.push(\"wide\");\r\n        if (flat) {\r\n            classes.push(\"flat\");\r\n            classes.push(warning ? \"thm-fgS\" : \"thm-fgP\");\r\n        }\r\n        else {\r\n            if (enabled) classes.push(\"thm-ele-button\");\r\n            classes.push(warning ? \"thm-bgS\" : \"thm-bgP\");\r\n        }\r\n        if (small) classes.push(\"small\");\r\n        if (label.length === 0) classes.push(\"floating\");\r\n\r\n        this.touchable.enabled = enabled;\r\n        return (\r\n            <button ref={this.ref}\r\n                className={classes.join(\" \")}\r\n                disabled={!enabled}>\r\n                {icon.length > 0\r\n                    ? <Icon content={icon}\r\n                        animate={wait}\r\n                        size={`${small ? 20 : 28}px`} />\r\n                    : null}\r\n                {label.length > 0\r\n                    ? <div className=\"text\" > {label} </div>\r\n                    : null}\r\n            </button>);\r\n    }\r\n}\r\n","import * as React from \"react\"\r\nimport castString from \"../converter/string\"\r\nimport castBoolean from \"../converter/boolean\"\r\nimport \"./flex.css\"\r\n\r\ninterface IFlexProp {\r\n    wide?: boolean;\r\n    dir?: \"row\" | \"row-reverse\" | \"column\" | \"column-reverse\" | \"wide\" | \"narrow\";\r\n    wrap?: \"nowrap\" | \"wrap\" | \"wrap-reverse\";\r\n    justifyContent?: \"flex-start\" | \"flex-end\" | \"center\" | \"space-around\" | \"space-between\" | \"space-evenly\";\r\n    alignItems?: \"stretch\" | \"flex-start\" | \"flex-end\" | \"center\";\r\n    children: React.ReactElement<any>[] | React.ReactElement<any>;\r\n}\r\n\r\nexport default class Flex extends React.Component<IFlexProp, {}> {\r\n    render() {\r\n        const p = this.props;\r\n        const wide = castBoolean(p.wide, true);\r\n        const dir = castString(p.dir, \"row\");\r\n        const style: React.CSSProperties = {\r\n            justifyContent: castString(p.justifyContent, \"space-around\"),\r\n            alignItems: castString(p.alignItems, \"center\"),\r\n            flexWrap: castString(p.wrap, \"wrap\")\r\n        };\r\n        const classes = [\"tfw-view-flex\", `dir-${dir}`];\r\n\r\n        if (wide) classes.push(\"wide\");\r\n\r\n        return (\r\n            <div className={classes.join(\" \")} style={style}>{\r\n                p.children\r\n            }</div>\r\n        )\r\n    }\r\n}\r\n","type Action<T> = (arg: T) => void;\r\n\r\n/**\r\n * @param {function} action -  Action to call. Two consecutive actions cannot be  called if there is\r\n * less than `delay` ms between them.\r\n * @param {number} delay - Number of milliseconds.\r\n * @returns {function} The function to call as much as you want. It will perform the debouce for you.\r\n * Put in the same args as the `action` function.\r\n */\r\nexport default function <T>(action: Action<T>, delay: number): Action<T> {\r\n    let timer: number = 0;\r\n\r\n    return function(arg: T) {\r\n        if (timer) window.clearTimeout(timer);\r\n        timer = window.setTimeout(() => {\r\n            timer = 0;\r\n            action(arg);\r\n        }, delay) as number;\r\n    }\r\n}\r\n","import * as React from \"react\"\r\nimport \"./list.css\"\r\nimport Debouncer from \"../debouncer\";\r\nimport Button from \"./button\"\r\nimport castUnit from \"../converter/unit\"\r\nimport castBoolean from \"../converter/boolean\"\r\nimport castInteger from \"../converter/integer\"\r\nimport Gesture from \"../gesture\"\r\n\r\ninterface IListProps {\r\n    items: any[];\r\n    mapper: (item: any) => React.ReactElement;\r\n    itemHeight?: number;\r\n    width?: string;\r\n    height?: string;\r\n    animateRefresh?: boolean;\r\n    onRefreshAsked?: () => void;\r\n}\r\n\r\ninterface IListState {\r\n    items: any[];\r\n}\r\n\r\nexport default class List extends React.Component<IListProps, IListState> {\r\n    private readonly refMain: React.RefObject<HTMLDivElement>;\r\n    private readonly refHead: React.RefObject<HTMLDivElement>;\r\n    private readonly refBody: React.RefObject<HTMLDivElement>;\r\n    private readonly refTail: React.RefObject<HTMLDivElement>;\r\n    private lastFirstItemIndex: number;\r\n    private lastVisibleItemsCount: number;\r\n    private lastItemsArray: any[];\r\n    private itemHeight: number = 36;\r\n    private _pandown = false;\r\n\r\n    constructor(props: IListProps) {\r\n        super(props);\r\n        this.refMain = React.createRef();\r\n        this.refHead = React.createRef();\r\n        this.refBody = React.createRef();\r\n        this.refTail = React.createRef();\r\n        this.onScroll = Debouncer(this.onScroll.bind(this), 30);\r\n        this.onPanDown = this.onPanDown.bind(this);\r\n        this.lastFirstItemIndex = -1;\r\n        this.lastVisibleItemsCount = -1;\r\n        this.lastItemsArray = [];\r\n        this.state = { items: [] };\r\n    }\r\n\r\n    onPanDown() {\r\n        const main = this.refMain.current;\r\n        if (!main) return;\r\n        if (main.scrollTop > 0) return;\r\n\r\n        const onRefresh = this.props.onRefreshAsked;\r\n        if (typeof onRefresh !== 'function') return;\r\n        onRefresh();\r\n    }\r\n\r\n    onScroll(evt: any = null): void {\r\n        const main = this.refMain.current;\r\n        const head = this.refHead.current;\r\n        const body = this.refBody.current;\r\n        const tail = this.refTail.current;\r\n        if (!main || !head || !body || !tail) return;\r\n\r\n        if (this.props.animateRefresh) main.scrollTop = 0;\r\n\r\n        const rect = main.getBoundingClientRect();\r\n        const top = Math.floor(main.scrollTop);\r\n        const height = Math.floor(rect.height);\r\n        const itemsCount = this.props.items.length;\r\n        const firstItemIndex = Math.min(\r\n            itemsCount, Math.floor(top / this.itemHeight));\r\n        const visibleItemsCount = Math.min(\r\n            itemsCount - firstItemIndex,\r\n            1 + Math.ceil(height / this.itemHeight)\r\n        );\r\n        const tailCount = this.props.items.length - firstItemIndex - visibleItemsCount;\r\n\r\n        head.style.height = `${this.itemHeight * firstItemIndex}px`;\r\n        body.style.height = `${this.itemHeight * visibleItemsCount}px`;\r\n        tail.style.height = `${this.itemHeight * tailCount}px`;\r\n\r\n        main.scrollTop = top;\r\n\r\n        if (this.lastFirstItemIndex !== firstItemIndex\r\n            || this.lastVisibleItemsCount !== visibleItemsCount) {\r\n            this.lastFirstItemIndex = firstItemIndex;\r\n            this.lastVisibleItemsCount = visibleItemsCount;\r\n            this.setState({\r\n                items: this.props.items.slice(firstItemIndex, firstItemIndex + visibleItemsCount)\r\n            });\r\n        }\r\n\r\n        // Resize background image for head and tail.\r\n        const backgroundSize = `${main.clientWidth}px ${this.itemHeight}px`;\r\n        head.style.backgroundSize = backgroundSize;\r\n        tail.style.backgroundSize = backgroundSize;\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener(\"resize\", this.onScroll, false);\r\n        const main = this.refMain.current;\r\n        if (!main) return;\r\n        Gesture(main).on({\r\n            down: () => this._pandown = false,\r\n            pandown: () => {\r\n                main.classList.add(\"animate-refresh\");\r\n                this._pandown = true\r\n            },\r\n            up: () => {\r\n                main.classList.remove(\"animate-refresh\");\r\n                if (this._pandown === true) this.onPanDown();\r\n            }\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"resize\", this.onScroll, false);\r\n    }\r\n\r\n    render() {\r\n        this.itemHeight = castInteger(this.props.itemHeight, 36);\r\n        if (this.lastItemsArray !== this.props.items) {\r\n            this.lastVisibleItemsCount = -1;\r\n            this.lastItemsArray = this.props.items;\r\n        }\r\n        this.onScroll();\r\n\r\n        if (typeof this.props.mapper !== 'function') {\r\n            console.error(\"props =\", this.props);\r\n            throw Error(`<List mapper=\"...\" ...> Attribute mapper must be a function which returns a ReactElement!`);\r\n        }\r\n        let children = null;\r\n        try {\r\n            children = this.state.items\r\n                .map(this.props.mapper)\r\n                .map(content => (\r\n                    <div className=\"item\" key={content.key}\r\n                        style={{\r\n                            height: `${this.itemHeight}px`,\r\n                            minHeight: `${this.itemHeight}px`,\r\n                            maxHeight: `${this.itemHeight}px`\r\n                        }}>{content}</div >\r\n                ));\r\n        }\r\n        catch (ex) {\r\n            throw Error(`<List mapper=\"...\" ...> Attribute mapper returns an exception:\\n${ex}`);\r\n        }\r\n\r\n        const width = castUnit(this.props.width, \"auto\");\r\n        const height = castUnit(this.props.height, \"auto\");\r\n        const animateRefresh = castBoolean(this.props.animateRefresh, false);\r\n        const classes = [\"tfw-view-list\", \"thm-bg2\"];\r\n        if (animateRefresh) classes.push(\"animate-refresh\", \"refreshing\");\r\n\r\n        return (\r\n            <div className={classes.join(\" \")}\r\n                style={{ width, height }}\r\n                onScroll={this.onScroll}\r\n                ref={this.refMain}>\r\n                <div className=\"space\" ref={this.refHead} />\r\n                <div className=\"body\" ref={this.refBody}>{\r\n                    children\r\n                }</div>\r\n                <div className=\"space\" ref={this.refTail} />\r\n                <div className=\"screen\">\r\n                    <Button icon=\"refresh\" wait={true} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from \"react\";\nimport Touchable from \"../behavior/touchable\"\nimport \"./checkbox.css\";\n\nimport castString from \"../converter/string\"\nimport castBoolean from \"../converter/boolean\"\n\n\ninterface IBooleanSlot {\n    (value: boolean): void;\n}\n\ninterface ICheckboxProps {\n    value?: boolean;\n    label?: string;\n    wide?: boolean;\n    reverse?: boolean;\n    onChange?: IBooleanSlot\n}\n\nexport default class Checkbox extends React.Component<ICheckboxProps, {}> {\n    readonly touchable: Touchable;\n    readonly ref;\n\n    constructor(props: ICheckboxProps) {\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n        this.touchable = new Touchable({ onTap: this.handleChange });\n        this.ref = React.createRef();\n    }\n\n    componentDidMount() {\n        const button = this.ref.current;\n        if (button) this.touchable.element = button;\n    }\n\n    private handleChange(): void {\n        const slot = this.props.onChange;\n        if (typeof slot === 'function') {\n            const value = castBoolean(this.props.value, false);\n            slot(!value);\n        }\n    }\n\n    render() {\n        const label = castString(this.props.label, \"\");\n        const value = castBoolean(this.props.value, false);\n        const wide = castBoolean(this.props.wide, false);\n        const reverse = castBoolean(this.props.reverse, false);\n        const classes = [\"tfw-view-checkbox\"];\n        if (value) classes.push(\"ok\");\n        if (wide) classes.push(\"wide\");\n        if (reverse) classes.push(\"reverse\");\n\n        return (<button ref={this.ref} className={classes.join(\" \")} >\n            <div className=\"pin\" >\n                <div className={`thm-ele-button bar ${value ? \"thm-bgSL\" : \"thm-bg1\"}`}> </div>\n                <div className={`thm-ele-button btn ${value ? \"thm-bgS\" : \"thm-bg0\"}`\r\n                }> </div>\n            </div>\n            <label >{label}</label>\n        </button>);\n    }\n}\n","import * as React from \"react\"\r\nimport \"./Fieldset.css\"\r\n\r\ninterface IFieldsetProps {\r\n    label: string;\r\n    children: React.ReactElement<any>[] | React.ReactElement<any>;\r\n}\r\n\r\nexport default class Fieldset extends React.Component<IFieldsetProps, {}> {\r\n    render() {\r\n        return (\r\n            <fieldset className=\"thm-bg2\">\r\n                <legend className=\"thm-bgPD\">{this.props.label}</legend>\r\n                {this.props.children}\r\n            </fieldset>\r\n        )\r\n    }\r\n}\r\n","import * as React from \"react\"\r\nimport \"./word.css\"\r\n\r\ninterface IWordProps {\r\n    name: string;\r\n    occurences: number;\r\n    types: string[];\r\n    onClick?: (name: string) => void;\r\n}\r\n\r\nconst TYPES = [\r\n    \"noun\", \"adjective\", \"verb\", \"conjunction\", \"preposition\", \"adverb\"  //, \"interjection\"\r\n]\r\nexport default class Word extends React.Component<IWordProps, {}> {\r\n    private readonly ref: React.RefObject<HTMLDivElement>;\r\n\r\n    constructor(props: IWordProps) {\r\n        super(props);\r\n        this.ref = React.createRef();\r\n    }\r\n\r\n    render() {\r\n        const { name, occurences, types } = this.props;\r\n        return (<button className=\"word\" ref={this.ref}>\r\n            <div className=\"types\">{\r\n                TYPES.map(t => (<div key={t} className={types.indexOf(t) === -1 ? 'grey' : t}>{\r\n                    t.charAt(0).toUpperCase()\r\n                }</div>))\r\n            }</div>\r\n            <div className=\"name\">{name}</div>\r\n            <div className=\"occ\">{occurences}</div>\r\n        </button>);\r\n    }\r\n}\r\n","import * as React from \"react\"\r\nimport Icon from \"../tfw/view/icon\"\r\nimport Flex from \"../tfw/layout/flex\"\r\nimport List from \"../tfw/view/list\"\r\nimport Button from \"../tfw/view/button\"\r\nimport Checkbox from \"../tfw/view/checkbox\"\r\nimport Fieldset from \"../tfw/view/Fieldset\"\r\n\r\nimport Word from \"./list/word\"\r\n\r\nimport wordsListURL from \"../data/words-list.txt\"\r\n\r\ninterface IListState {\r\n    items: any[];\r\n    animateRefresh: boolean;\r\n}\r\n\r\nexport default class PageButton extends React.Component<{}, IListState> {\r\n    constructor(props: {}) {\r\n        super(props);\r\n        this.state = { items: [], animateRefresh: false };\r\n        this.refresh = this.refresh.bind(this);\r\n        window.setTimeout(this.refresh, 500);\r\n    }\r\n\r\n    refresh() {\r\n        this.setState({ animateRefresh: true });\r\n        fetch(wordsListURL)\r\n            .then(response => response.json())\r\n            .then(wordsList => this.setState({ items: shuffle(wordsList.map(wordMapper)), animateRefresh: false }))\r\n            .catch(err => console.error(\"Unable to load words list!\", err));\r\n    }\r\n\r\n    sortByName() {\r\n        return this.state.items.slice().sort((a, b) => {\r\n            const wa = a.name;\r\n            const wb = b.name;\r\n            if (wa < wb) return -1;\r\n            if (wa > wb) return +1;\r\n            return 0;\r\n        })\r\n    }\r\n\r\n    sortByOccurences() {\r\n        return this.state.items.slice().sort((a, b) => {\r\n            const oa = a.occurences;\r\n            const ob = b.occurences;\r\n            if (oa < ob) return +1;\r\n            if (oa > ob) return -1;\r\n            return 0;\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"page\">\r\n                <Flex alignItems=\"flex-start\">\r\n                    <List items={this.state.items}\r\n                        onRefreshAsked={this.refresh}\r\n                        width=\"40vw\"\r\n                        height=\"90vh\"\r\n                        animateRefresh={this.state.animateRefresh}\r\n                        itemHeight={48}\r\n                        mapper={item => {\r\n                            const { name, occurences, types } = item;\r\n                            return <Word key={name} name={name} occurences={occurences} types={types} />\r\n                        }} />\r\n                    <div>\r\n                        <p>Number of elements: <b>{this.state.items.length}</b></p>\r\n                        <Button label=\"Sort by word\"\r\n                            onClick={() => this.setState({\r\n                                items: this.sortByName()\r\n                            })} />\r\n                        <Button label=\"Sort by occurences\"\r\n                            onClick={() => this.setState({\r\n                                items: this.sortByOccurences()\r\n                            })} />\r\n                        <Checkbox label=\"Animate refresh\"\r\n                            value={this.state.animateRefresh}\r\n                            onChange={animateRefresh => this.setState({ animateRefresh })} />\r\n                        <hr />\r\n                        <Fieldset label=\"List\">\r\n                            <ul>\r\n                                <li><code>items</code> (array): Data for the list.</li>\r\n                                <li><code>mapper</code> (function): Takes an item (element of items) and returns a React Element.</li>\r\n                                <li><code>animateRefresh</code> (boolean): Show an animation you can use when you want to refresh the list (<i>default = false</i>).</li>\r\n                            </ul>\r\n                        </Fieldset>\r\n                    </div>\r\n                </Flex>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default interface IWord {\r\n    name: string;\r\n    occurences: number;\r\n    types: string[];\r\n}\r\n\r\nfunction wordMapper(item: any): IWord {\r\n    const [name, occurences, types] = item;\r\n    return { name, occurences, types: types.split(\",\") };\r\n}\r\n\r\nfunction shuffle(arr) {\r\n    for (let k = 0; k < arr.length; k++) {\r\n        const j = Math.floor(Math.random() * arr.length);\r\n        if (k === j) continue;\r\n        const tmp = arr[j];\r\n        arr[j] = arr[k];\r\n        arr[k] = tmp;\r\n    }\r\n    return arr;\r\n}\r\n","interface ITranslations {\r\n    [language: string]: { [key: string]: string }\r\n}\r\n\r\nlet gCurrentLanguage: string =\r\n    localStorage.getItem(\"CurrentLanguage\") || navigator.language.split(\"-\")[0];\r\n\r\nexport default class Intl {\r\n    constructor(private translations: ITranslations) { }\r\n\r\n    static make(translations: ITranslations) {\r\n        const instance = new Intl(translations);\r\n        return instance.translate.bind(instance);\r\n    }\r\n\r\n    static get lang() { return gCurrentLanguage; }\r\n\r\n    static set lang(_value: string) {\r\n        if (typeof _value !== 'string') return;\r\n        const value = _value.split(\"-\")[0];\r\n        gCurrentLanguage = value;\r\n        localStorage.setItem(\"CurrentLanguage\", value);\r\n    }\r\n\r\n    translate(item: string, ...params: string[]) {\r\n        try {\r\n            if (this.translations[gCurrentLanguage]) {\r\n                const translation = this.translations[gCurrentLanguage][item];\r\n                if (translation) return addParams(translation, params);\r\n            }\r\n\r\n            // If we don't find a translation in the current language,\r\n            // we look in the other languages.\r\n            const languages = Object.keys(this.translations);\r\n            for (const lang of languages) {\r\n                const vocabulary = this.translations[lang];\r\n                const translation = vocabulary[item];\r\n                if (typeof translation !== 'string') continue;\r\n                return addParams(translation, params);\r\n            }\r\n\r\n            console.error(`Missing translation for item \"${item}\"!`, params);\r\n            return \"\";\r\n        }\r\n        catch (ex) {\r\n            throw Error(`Error while looking for a translation of \"${item}\":\\n${ex}`);\r\n        }\r\n    }\r\n}\r\n\r\n// Used for the states automate in order to parse a translation\r\n// with placeholders.\r\nenum Mode { Text, Escape, Placeholder }\r\n\r\n/**\r\n * In a translation, you can find placeholders for potential params.\r\n * They are marked with a dollar and a digit from 1 to 9.\r\n * For instance: \"Welcome mister $1!\".\r\n *\r\n * Order doesn't matter and you can have several occurences of the same\r\n * placeholder.\r\n * For instance: \"Hello $2! Welcome into $1. $1 is the best...\".\r\n *\r\n * @param   {string} translation - A string which can own placeholders.\r\n * @param   {string[]} params - Array of replacements for placeholders.\r\n * @returns The transformed string.\r\n */\r\nfunction addParams(translation: string, params: string[]): string {\r\n    let output = '';\r\n    let mark = 0;\r\n    let mode: Mode = Mode.Text;\r\n    let paramIndex = -1;\r\n    let paramValue = '';\r\n\r\n    for (let index = 0; index < translation.length; index++) {\r\n        const c = translation.charAt(index);\r\n        switch (mode) {\r\n            case Mode.Text:\r\n                if (c === '\\\\') {\r\n                    mode = Mode.Escape;\r\n                    output += translation.substr(mark, index - mark);\r\n                    mark = index + 1;\r\n                }\r\n                else if (c === '$') {\r\n                    mode = Mode.Placeholder;\r\n                    output += translation.substr(mark, index - mark);\r\n                    mark = index + 2;\r\n                }\r\n                break;\r\n            case Mode.Escape:\r\n                mode = Mode.Text;\r\n                break;\r\n            case Mode.Placeholder:\r\n                mode = Mode.Text;\r\n                paramIndex = parseInt(c, 10);\r\n                if (isNaN(paramIndex))\r\n                    throw Error(`Parsing error at position ${index} for translation \"${translation}\"!\r\nEscape \"$\" if you don't want to use a placeholder.`);\r\n                paramValue = params[paramIndex - 1] || \"\";\r\n                output += paramValue;\r\n                break;\r\n            default:\r\n                mode = Mode.Text;\r\n        }\r\n    }\r\n\r\n    return output + translation.substr(mark);\r\n}\r\n","import * as React from \"react\"\r\nimport \"../theme.css\"\r\nimport \"./input.css\"\r\nimport castInteger from \"../converter/integer\"\r\nimport castBoolean from \"../converter/boolean\"\r\nimport castString from \"../converter/string\"\r\nimport Debouncer from \"../debouncer\"\r\n\r\nimport Intl from \"../intl\"\r\nconst _ = Intl.make(require(\"./input.yaml\"));\r\n\r\ninterface IStringSlot {\r\n    (value: string): void;\r\n}\r\n\r\ninterface IInputProps {\r\n    label?: string;\r\n    value?: string;\r\n    delay?: number;\r\n    size?: number;\r\n    focus?: boolean;\r\n    type?: \"text\" | \"password\" | \"submit\" | \"color\" | \"date\"\r\n    | \"datetime-local\" | \"email\" | \"month\" | \"number\" | \"range\"\r\n    | \"search\" | \"tel\" | \"time\" | \"url\" | \"week\";\r\n    validator?: (value: string) => any;\r\n    onChange?: IStringSlot\r\n}\r\n\r\ninterface IInputState {\r\n    error?: string;\r\n}\r\n\r\nexport default class Input extends React.Component<IInputProps, IInputState> {\r\n    private timerId: number;\r\n    readonly input: React.RefObject<HTMLInputElement>;\r\n    value: string = \"\";\r\n\r\n    constructor(props: IInputProps) {\r\n        super(props);\r\n        this.state = {};\r\n        this.onFocus = this.onFocus.bind(this);\r\n        this.onBlur = this.onBlur.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n        this.timerId = 0;\r\n        this.input = React.createRef();\r\n        this.setFocus = Debouncer(this.setFocus.bind(this), 100);\r\n    }\r\n\r\n    setFocus() {\r\n        const input = this.input ? this.input.current : null;\r\n        if (!input) return;\r\n        const focus = castBoolean(this.props.focus, false);\r\n        if (focus) {\r\n            console.log(\"focus =\", input);\r\n            input.focus();\r\n        }\r\n    }\r\n\r\n    onFocus(event: React.FocusEvent<HTMLInputElement>): void {\r\n        const input = this.input ? this.input.current : null;\r\n        if (!input) return;\r\n        if (!input.classList) return;\r\n        input.classList.remove(\"thm-bg3\");\r\n        input.classList.add(\"thm-bgSL\");\r\n        if (this.props.type !== 'number') {\r\n            // setSelectionRange fails for \"number\" input.\r\n            input.setSelectionRange(0, input.value.length);\r\n        }\r\n    }\r\n\r\n    onBlur(event: React.FocusEvent<HTMLInputElement>): void {\r\n        const input = this.input ? this.input.current : null;\r\n        if (!input) return;\r\n        if (!input.classList) return;\r\n        input.classList.add(\"thm-bg3\");\r\n        input.classList.remove(\"thm-bgSL\");\r\n    }\r\n\r\n    onChange(event: React.ChangeEvent<HTMLInputElement>): void {\r\n        if (!this.checkValidity(event.target.value)) return;\r\n\r\n        const\r\n            p = this.props,\r\n            slot = p.onChange,\r\n            delay = castInteger(p.delay, 300);\r\n\r\n        event.preventDefault();\r\n        this.value = event.target.value;\r\n\r\n        if (typeof slot === 'function') {\r\n            if (this.timerId !== 0) window.clearTimeout(this.timerId);\r\n            this.timerId = window.setTimeout(() => {\r\n                const value = this.value;\r\n                if (this.props.type === 'number') {\r\n                    const num = parseFloat(value);\r\n                    console.log(\"This is a number:\", num, typeof num);\r\n                    slot(num)\r\n                } else {\r\n                    slot(value)\r\n                }\r\n            }, delay);\r\n        }\r\n    }\r\n\r\n    checkValidity(value: string) {\r\n        let validator = this.props.validator;\r\n        this.setState({ error: null });\r\n        if (typeof validator !== 'function') {\r\n            if (this.props.type !== 'number') return true;\r\n            validator = NUMBER_VALIDATOR;\r\n        }\r\n        console.log(\"validator =\", validator);\r\n\r\n        try {\r\n            const result = validator(value);\r\n            console.log(\"result =\", result);\r\n\r\n            if (result === true) return true;\r\n            if (typeof result === \"string\") {\r\n                this.setState({ error: result });\r\n            }\r\n        } catch (ex) {\r\n            console.error(`<Input> Unable to validate \"${value}\"!`, ex);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(\"MOUNT\");\r\n        this.setFocus();\r\n    }\r\n\r\n    componentDidUpdate(oldProps: IInputProps) {\r\n        console.log(\"UPDATE\");\r\n        const\r\n            newProps = this.props,\r\n            input = this.input ? this.input.current : null;\r\n\r\n        //if (input) input.value = castString(newProps.value, \"\");\r\n        if (castBoolean(this.props.focus, false)) {\r\n            this.setFocus();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const\r\n            p = this.props,\r\n            type = castString(p.type, \"text\"),\r\n            label = castString(p.label, \"\"),\r\n            value = castString(p.value, \"\"),\r\n            size = Math.max(1, castInteger(p.size, 8)),\r\n            error = this.state.error,\r\n            id = nextId();\r\n        const header = (error ? <div className=\"thm-bgSD error\">{error}</div> :\r\n            (label ? (<label htmlFor={id} className=\"thm-bgPD\">{label}</label>) : null));\r\n        return (<div className=\"tfw-view-input thm-ele-button\" >\r\n            {header}\r\n            <input\r\n                ref={this.input}\r\n                className=\"thm-bg3\"\r\n                type={type}\r\n                id={id}\r\n                size={size}\r\n                onFocus={this.onFocus}\r\n                onBlur={this.onBlur}\r\n                onChange={this.onChange}\r\n                defaultValue={value} />\r\n        </div>);\r\n    }\r\n}\r\n\r\n\r\nlet globalId = 0;\r\nfunction nextId() {\r\n    return `tfw-view-input-${globalId++}`;\r\n}\r\n\r\n\r\nconst NUMBER_VALIDATOR = (value: string) => isNaN(parseFloat(value)) ? _('nan') : true;\r\n","export default {\r\n    /**\r\n     * @param {string|React.ReactElement<any>} message\r\n     * @param {()=>void|null} onClose\r\n     */\r\n    alert,\r\n    show\r\n};\r\n\r\nimport * as React from \"react\"\r\nimport ReactDOM from 'react-dom'\r\nimport Icon from \"../view/icon\"\r\nimport EscapeHandler from \"../escape-handler\"\r\nimport castString from \"../converter/string\"\r\nimport castBoolean from \"../converter/boolean\"\r\nimport \"./dialog.css\"\r\n\r\nimport Button from \"../view/button\"\r\n\r\nimport Intl from \"../intl\";\r\nconst _ = Intl.make(require(\"./dialog.yaml\"));\r\n\r\ninterface IOptions {\r\n    onClose?: () => void;\r\n    closeOnEscape?: boolean;\r\n    icon?: string;\r\n    title?: string;\r\n    content?: React.ReactElement<any>;\r\n    footer?: React.ReactElement<any>[] | React.ReactElement<any>;\r\n}\r\n\r\nclass Dialog {\r\n    _screen: HTMLElement;\r\n    _options: IOptions;\r\n    footer: React.ReactElement<any>[] | React.ReactElement<any> | null = null;\r\n\r\n    constructor(options: IOptions = {}) {\r\n        this._options = Object.assign({\r\n            closeOnEscape: true,\r\n            footer: <Button\r\n                icon=\"close\"\r\n                label={_('close')}\r\n                flat={true}\r\n                onClick={() => this.hide()} />\r\n        }, options);\r\n        this._options.closeOnEscape = castBoolean(this._options.closeOnEscape, true);\r\n        this.footer = this._options.footer;\r\n        const screen = document.createElement(\"div\");\r\n        screen.className = \"tfw-factory-dialog\";\r\n        document.body.appendChild(screen);\r\n        this._screen = screen;\r\n        this.hide = this.hide.bind(this);\r\n        if (this._options.closeOnEscape) {\r\n            EscapeHandler.add(() => this._hide());\r\n        }\r\n    }\r\n\r\n    show() {\r\n        const opt = this._options;\r\n        const title = castString(opt.title, \"\").trim();\r\n        const icon = castString(opt.icon, \"\").trim();\r\n        let footer: React.ReactElement<any> | null =\r\n            this.footer ? (<footer className=\"thm-bg1\" >{this.footer}</footer>) : null;\r\n        let header = null;\r\n        if (title.length > 0) {\r\n            header = (<header className=\"thm-bgPD\">\r\n                {icon.length > 0 ? <Icon content={icon} /> : null}\r\n                <div>{title}</div>\r\n            </header>)\r\n        }\r\n\r\n        ReactDOM.render((\r\n            <div className=\"thm-ele-dialog thm-bg2\" >\r\n                {header}\r\n                <div>{opt.content}</div>\r\n                {footer}\r\n            </div>\r\n        ), this._screen);\r\n        setTimeout(() => this._screen.classList.add(\"show\"), 10);\r\n    }\r\n\r\n    hide() {\r\n        EscapeHandler.fire();\r\n    }\r\n\r\n    _hide() {\r\n        const screen = this._screen;\r\n        screen.classList.remove(\"show\");\r\n        setTimeout(() => {\r\n            document.body.removeChild(screen);\r\n        }, 200);\r\n        const onClose = this._options.onClose;\r\n        if (typeof onClose === 'function') {\r\n            requestAnimationFrame(onClose);\r\n        }\r\n    }\r\n}\r\n\r\nfunction alert(content: string | React.ReactElement<any>, onClose: () => void | null = null): Dialog {\r\n    const dialog = new Dialog({ onClose, content });\r\n    dialog.footer = (<Button\r\n        icon=\"close\"\r\n        label={_('close')}\r\n        flat={true}\r\n        onClick={dialog.hide} />);\r\n    dialog.show();\r\n    return dialog;\r\n}\r\n\r\nfunction show(options: IOptions): Dialog {\r\n    const dialog = new Dialog(options);\r\n    dialog.show();\r\n    return dialog;\r\n}\r\n","import * as React from \"react\"\r\nimport Icon from \"../tfw/view/icon\"\r\nimport Combo from \"../tfw/view/combo\"\r\nimport Input from \"../tfw/view/input\"\r\nimport Checkbox from \"../tfw/view/checkbox\"\r\nimport Fieldset from \"../tfw/view/Fieldset\"\r\n\r\nimport Dialog from \"../tfw/factory/dialog\"\r\n\r\nimport Flex from \"../tfw/layout/flex\"\r\n\r\nimport { iconsBook } from \"../tfw/icons\";\r\n\r\ninterface IIconState {\r\n    content: string;\r\n    size: string;\r\n    flipH: boolean;\r\n    flipV: boolean;\r\n    animate: boolean;\r\n    rotate: number;\r\n}\r\n\r\nexport default class PageButton extends React.Component<{}, IIconState> {\r\n    constructor(props: {}) {\r\n        super(props);\r\n        this.state = {\r\n            content: \"counter\",\r\n            size: \"28px\",\r\n            flipH: false,\r\n            flipV: false,\r\n            animate: false,\r\n            rotate: 0\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const s = this.state;\r\n        return (\r\n            <div className=\"page\">\r\n                <Fieldset label=\"Icon\">\r\n                    <ul>\r\n                        <li><code>onClick()</code></li>\r\n                        <li><code>content</code> (string|object)</li>\r\n                        <li><code>size</code> (string|number): Default \"28px\".</li>\r\n                        <li><code>animate</code> (boolean): Default false.</li>\r\n                    </ul>\r\n                </Fieldset>\r\n                <hr />\r\n                <div>\r\n                    <Flex justifyContent=\"flex-start\">\r\n                        <div className=\"thm-bg0\"><Icon /></div>\r\n                        <div className=\"thm-bg1\"><Icon /></div>\r\n                        <div className=\"thm-bg2\"><Icon /></div>\r\n                        <div className=\"thm-bg3\"><Icon /></div>\r\n                        <div className=\"thm-bgPD\"><Icon /></div>\r\n                        <div className=\"thm-bgP\"><Icon /></div>\r\n                        <div className=\"thm-bgPL\"><Icon /></div>\r\n                        <div className=\"thm-bgSD\"><Icon /></div>\r\n                        <div className=\"thm-bgS\"><Icon /></div>\r\n                        <div className=\"thm-bgSL\"><Icon /></div>\r\n                    </Flex>\r\n                    <pre className=\"thm-bgPL\">{`<Icon/>`}</pre>\r\n                </div>\r\n                <hr />\r\n                <div>\r\n                    <Flex justifyContent=\"flex-start\">\r\n                        <Icon content=\"flag-en\" />\r\n                        <Icon content=\"flag-en\" flipH={true} />\r\n                        <Icon content=\"flag-en\" flipV={true} />\r\n                        <Icon content=\"flag-en\" flipV={true} flipH={true} />\r\n                        <Icon content=\"flag-en\" rotate={15} />\r\n                        <Icon content=\"flag-en\" rotate={40} flipH={true} />\r\n                        <Icon content=\"flag-en\" rotate={65} flipV={true} />\r\n                        <Icon content=\"flag-en\" rotate={90} flipV={true} flipH={true} />\r\n                    </Flex>\r\n                    <pre className=\"thm-bgPL\">{`<Icon content=\"flag-en\"/>\r\n<Icon content=\"flag-en\" flipH={true} />\r\n<Icon content=\"flag-en\" flipV={true} />\r\n<Icon content=\"flag-en\" flipV={true} flipH={true} />\r\n<Icon content=\"flag-en\" rotate={15} />\r\n<Icon content=\"flag-en\" rotate={40} flipH={true} />\r\n<Icon content=\"flag-en\" rotate={65} flipV={true} />\r\n<Icon content=\"flag-en\" rotate={90} flipV={true} flipH={true} />`}</pre>\r\n                </div>\r\n                <hr />\r\n                <div>\r\n                    <Flex justifyContent=\"center\">\r\n                        <Icon content={s.content}\r\n                            size={s.size}\r\n                            animate={s.animate}\r\n                            flipH={s.flipH}\r\n                            flipV={s.flipV}\r\n                            rotate={s.rotate} />\r\n                    </Flex>\r\n                    <Flex justifyContent=\"space-around\">\r\n                        <Combo label=\"content\"\r\n                            value={s.content}\r\n                            onChange={content => this.setState({ content })}>{\r\n                                Object.keys(iconsBook).map(name => (\r\n                                    <Flex justifyContent=\"space-between\" key={name}>\r\n                                        <Icon size=\"24px\" content={name} />\r\n                                        <div>{name}</div>\r\n                                    </Flex>\r\n                                ))\r\n                            }</Combo>\r\n                        <Combo label=\"size\" value={s.size}\r\n                            onChange={size => this.setState({ size })}>\r\n                            <div key=\"14px\">14px</div>\r\n                            <div key=\"28px\">28px</div>\r\n                            <div key=\"56px\">56px</div>\r\n                            <div key=\"4rem\">4rem</div>\r\n                            <div key=\"50%\">50%</div>\r\n                            <div key=\"40vmin\">40vmin</div>\r\n                        </Combo>\r\n                        <Checkbox label=\"flipH\" value={s.flipH}\r\n                            onChange={flipH => this.setState({ flipH })} />\r\n                        <Checkbox label=\"flipV\" value={s.flipV}\r\n                            onChange={flipV => this.setState({ flipV })} />\r\n                        <Checkbox label=\"animate\" value={s.animate}\r\n                            onChange={animate => this.setState({ animate })} />\r\n                        <Input label=\"rotate\" value={s.rotate} type=\"number\"\r\n                            onChange={rotate => this.setState({ rotate })} />\r\n                    </Flex>\r\n                </div>\r\n                <hr />\r\n                <p>Here is the list of all dfault icons. Click on the one you want details for.</p>\r\n                <Flex justifyContent=\"center\">{\r\n                    Object.keys(iconsBook).map(name => (\r\n                        <Icon key={name} content={name} size=\"32px\" onClick={() => showDetails(name)} />\r\n                    ))\r\n                }</Flex>\r\n                <hr />\r\n                <p>You can find more icons here: <a href=\"https://materialdesignicons.com/\">Material Design Icons</a>.</p>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction showDetails(name: string) {\r\n    Dialog.show({\r\n        title: name,\r\n        icon: name,\r\n        content: (<div>\r\n            <Flex>\r\n                <Icon size=\"16px\" content={name} />\r\n                <Icon size=\"28px\" content={name} />\r\n                <Icon size=\"32px\" content={name} />\r\n                <Icon size=\"64px\" content={name} />\r\n                <Icon size=\"128px\" content={name} />\r\n            </Flex>\r\n            <hr />\r\n            {\r\n                JSON.stringify(iconsBook[name], null, \"  \").split(\"\\n\").map((line, index) => (\r\n                    <div key={`L${index}`}>\r\n                        <code style={{\r\n                            paddingLeft: `${countLeadingSpaces(line)}em`\r\n                        }}>{line}</code>\r\n                    </div>\r\n                ))\r\n            }\r\n        </div>)\r\n    })\r\n}\r\n\r\n\r\nfunction countLeadingSpaces(line: string) {\r\n    let i = 0;\r\n    for (; i < line.length; i++) {\r\n        if (line.charAt(i) !== ' ' && line.charAt(i) !== '\\t') break;\r\n    }\r\n    return i;\r\n}\r\n","import * as React from \"react\"\r\nimport { iconsBook } from \"../tfw/icons\"\r\nimport Icon from \"../tfw/view/icon\"\r\nimport Flex from \"../tfw/layout/flex\"\r\nimport Combo from \"../tfw/view/combo\"\r\nimport Button from \"../tfw/view/button\"\r\nimport Fieldset from \"../tfw/view/Fieldset\"\r\n\r\ninterface IComboState {\r\n    [key: string]: string;\r\n}\r\n\r\nexport default class PageButton extends React.Component<{}, IComboState> {\r\n    constructor(props: {}) {\r\n        super(props);\r\n        this.state = { month: \"nov\", icon: \"star\", two: \"Y\" };\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"page\">\r\n                <Fieldset label=\"Combo\">\r\n                    <ul>\r\n                        <li><code>onChange(value: string)</code></li>\r\n                        <li><code>label</code> (string)</li>\r\n                        <li><code>value</code> (string)</li>\r\n                        <li><code>wide</code> (boolean): Default false.</li>\r\n                    </ul>\r\n                </Fieldset>\r\n                <hr />\r\n                <div>\r\n                    <Flex>\r\n                        <Combo label=\"Select a month\"\r\n                            value={this.state.month}\r\n                            onChange={(month) => this.setState({ month })}>\r\n                            <div key=\"jan\">January</div>\r\n                            <div key=\"feb\">Fabruary</div>\r\n                            <div key=\"mar\">March</div>\r\n                            <div key=\"apr\">April</div>\r\n                            <div key=\"may\">May</div>\r\n                            <div key=\"jun\">June</div>\r\n                            <div key=\"jul\">July</div>\r\n                            <div key=\"aug\">August</div>\r\n                            <div key=\"sep\">September</div>\r\n                            <div key=\"oct\">October</div>\r\n                            <div key=\"nov\">November</div>\r\n                            <div key=\"dec\">December</div>\r\n                        </Combo>\r\n                        <span>Selected value: <b>{this.state.month}</b></span>\r\n                        <Button label=\"July\" icon=\"star\" onClick={() => this.setState({ month: \"jul\" })} />\r\n                    </Flex>\r\n                    <pre className=\"thm-bgPL\">{`<Combo label=\"Select a month\" value=\"nov\">\r\n    <div key=\"jan\">January</div>\r\n    <div key=\"feb\">Fabruary</div>\r\n    ...\r\n    <div key=\"dec\">December</div>\r\n</Combo>`}</pre>\r\n                </div>\r\n                <hr />\r\n                <div>\r\n                    <Flex>\r\n                        <Combo label=\"List of icons\"\r\n                            value={this.state.icon}\r\n                            onChange={(icon) => this.setState({ icon })}>{\r\n                                Object.keys(iconsBook).map(name => (\r\n                                    <Flex justifyContent=\"space-between\" key={name}>\r\n                                        <Icon size=\"24px\" content={name} />\r\n                                        <div>{name}</div>\r\n                                    </Flex>\r\n                                ))\r\n                            }</Combo>\r\n                        <Icon size=\"64px\" content={this.state.icon} />\r\n                        <Icon size=\"48px\" animate={true} content={this.state.icon} />\r\n                    </Flex>\r\n                    <p>The above example shows that you can put any element as children of a Combo,\r\n                        provided it does not exceed 32px height.</p>\r\n                </div>\r\n                <hr />\r\n                <Flex>\r\n                    <Combo label=\"How are you?\" value={this.state.two} onChange={two => this.setState({ two })}>\r\n                        <div key=\"Y\">Never better!</div>\r\n                        <div key=\"N\">I fell dizzy...</div>\r\n                    </Combo>\r\n                    <p>With only two items, we don't need to show the list.</p>\r\n                </Flex>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import * as React from \"react\"\r\nimport Button from \"../tfw/view/button\"\r\nimport Dialog from \"../tfw/factory/dialog\"\r\nimport Fieldset from \"../tfw/view/Fieldset\"\r\n\r\nexport default class PageButton extends React.Component<{}, {}> {\r\n    handleClick() {\r\n        Dialog.alert(\"The button has been clicked!\");\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"page\" >\r\n                <Fieldset label=\"Button\" >\r\n                    <ul>\r\n                        <li>\r\n                            <code>onClick(tag: any) </code>: emitted only if the button is enabled, on click and on\r\n                            <em>Enter</em> or <em>Space</em>.\r\n                        </li>\r\n                        < li ><code>label</code> (string)</li>\r\n                        <li><code>icon</code> (string)</li>\r\n                        <li><code>wide</code> (boolean)</li>\r\n                        <li><code>wait</code> (boolean)</li>\r\n                        <li><code>flat</code> (boolean)</li>\r\n                        <li><code>small</code> (boolean)</li>\r\n                        <li><code>warning</code> (boolean)</li>\r\n                        <li><code>enabled</code> (boolean)</li>\r\n                        <li><code>tag</code> (any): Any data which will be used as argument for the onClick handler.</li>\r\n                    </ul>\r\n                </Fieldset>\r\n                <div>\r\n                    <Button onClick={this.handleClick} label=\"Click me!\" />\r\n                    <Button label=\"warning\" warning={true} />\r\n                    <Button label=\"icon\" icon=\"gear\" />\r\n                    <Button label=\"warning\" enabled={false} warning={true} />\r\n                    <Button label=\"Disabled\" icon=\"gear\" enabled={false} />\r\n                    <pre className=\"thm-bgPL\">{`<Button label=\"Click me!\" onClick={this.handleClick}/>\r\n<Button label=\"warning\" warning={true}/>\r\n<Button label=\"icon\" icon=\"gear\"/>\r\n<Button label=\"warning\" enabled={false} warning={true}/>\r\n<Button label=\"Disabled\" icon=\"gear\" enabled={false}/>`}</pre>\r\n                </div>\r\n                <div>\r\n                    <Button icon=\"refresh\" />\r\n                    <Button icon=\"refresh\" wait={true} />\r\n                    <Button icon=\"refresh\" warning={true} />\r\n                    <Button icon=\"refresh\" flat={true} />\r\n                    <Button icon=\"refresh\" small={true} />\r\n                    <pre className=\"thm-bgPL\">{`<Button icon=\"refresh\" />\r\n<Button icon=\"refresh\" wait={true} />\r\n<Button icon=\"refresh\" warning={true} />\r\n<Button icon=\"refresh\" flat={true}/>\r\n<Button icon=\"refresh\" small={true}/>`}</pre>\r\n                </div>\r\n                < hr />\r\n                <div>\r\n                    <Button label=\"flat\" flat={true} />\r\n                    <Button label=\"confirm\" icon=\"ok\" flat={true} /> `\r\n                    <Button label=\"Delete\" flat={true} warning={true} icon=\"delete\" />\r\n                    <Button label=\"confirm\" enabled={false} icon=\"ok\" flat={true} />\r\n                    <Button label=\"Delete\" enabled={false} flat={true} warning={true} icon=\"delete\" />\r\n                    <pre className=\"thm-bgPL\">{`<Button label=\"flat\" flat={true}/>\r\n<Button label=\"confirm\" icon=\"ok\" flat={true}/>\r\n<Button label=\"Warning!\" flat={true} warning={true}/>\r\n<Button label=\"Delete\" flat={true} warning={true} icon=\"delete\"/>\r\n<Button label=\"confirm\" enabled={false} icon=\"ok\" flat={true}/>\r\n<Button label=\"Delete\" enabled={false} flat={true} warning={true} icon=\"delete\"/>`}</pre>\r\n                </div>\r\n                < hr />\r\n                <div>\r\n                    <Button label=\"small\" small={true} />\r\n                    <Button label=\"small & flat\" small={true} flat={true} />\r\n                    <Button label=\"small\" icon=\"wait\" small={true} />\r\n                    <Button label=\"small\" icon=\"wait\" small={true} wait={true} />\r\n                    <Button label=\"small\" warning={true} small={true} />\r\n                    <pre className=\"thm-bgPL\">{`<Button label=\"small\" small={true}/>\r\n<Button label=\"small & flat\" small={true} flat={true}/>\r\n<Button label=\"small\" icon=\"wait\" small={true}/>\r\n<Button label=\"small\" icon=\"wait\" small={true} wait={true}/>\r\n<Button label=\"small\" warning={true} small={true} />`}</pre>\r\n                </div>\r\n                < hr />\r\n                <div>\r\n                    <Button label=\"Wide Button\" icon=\"link\" wide={true} />\r\n                    <pre className=\"thm-bgPL\">{`<Button label=\"Wide Button\" icon=\"link\" wide={true} />`}</pre>\r\n                </div>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n","import * as React from \"react\"\r\nimport Checkbox from \"../tfw/view/checkbox\"\r\nimport Dialog from \"../tfw/factory/dialog\"\r\nimport Fieldset from \"../tfw/view/Fieldset\"\r\n\r\ninterface ICheckboxState {\r\n    [key: string]: boolean;\r\n}\r\n\r\nexport default class PageButton extends React.Component<{}, ICheckboxState> {\r\n    constructor(props: {}) {\r\n        super(props);\r\n        this.state = { v1: false, v2: true };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"page\">\r\n                <Fieldset label=\"Checkbox\">\r\n                    <ul>\r\n                        <li><code>onChange(value: boolean)</code></li>\r\n                        <li><code>label</code> (string)</li>\r\n                        <li><code>value</code> (boolean): Default false.</li>\r\n                        <li><code>wide</code> (boolean): Default false.</li>\r\n                        <li><code>reverse</code> (boolean): If true, the button is at the right. Default false.</li>\r\n                    </ul>\r\n                </Fieldset>\r\n                <hr />\r\n                <div>\r\n                    <Checkbox label=\"Nuclear attack activated\"\r\n                        value={this.state.v1}\r\n                        onChange={() => this.setState({ v1: !this.state.v1 })} />\r\n                    <Checkbox label=\"Viral attack activated\"\r\n                        value={this.state.v2}\r\n                        onChange={() => this.setState({ v2: !this.state.v2 })} />\r\n                    <pre className=\"thm-bgPL\">{`<Button label=\"Nuclear attack activated\"/>\r\n<Button label=\"Viral attack activated\"/>`}</pre>\r\n                </div>\r\n                <hr />\r\n                <div>\r\n                    <Checkbox label=\"Nuclear attack activated\"\r\n                        wide={true} reverse={true}\r\n                        value={this.state.v1}\r\n                        onChange={() => this.setState({ v1: !this.state.v1 })} />\r\n                    <Checkbox label=\"Viral attack activated\"\r\n                        wide={true} reverse={true}\r\n                        value={this.state.v2}\r\n                        onChange={() => this.setState({ v2: !this.state.v2 })} />\r\n                    <pre className=\"thm-bgPL\">{`<Button wide={true} reverse={true} label=\"Nuclear attack activated\"/>\r\n<Button wide={true} reverse={true} label=\"Viral attack activated\"/>`}</pre>\r\n                </div>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n","/**\r\n * @example\r\n * import Storage from \"./tfw/storage\";\r\n * Storage.local.set(\"state\", {lang:\"jp\", currentPage: \"checkpoint-list\"});\r\n * const state = Storage.local.get(\"state\", {lang:\"jp\", currentPage: \"checkpoint-list\"});\r\n * Storage.local.del(\"state\");\r\n */\r\n\r\nexport default {\r\n    local: makeStorage(window.localStorage),\r\n    session: makeStorage(window.sessionStorage)\r\n};\r\n\r\ninterface IStorage {\r\n    getItem: (key: string)=>any;\r\n    setItem: (key: string, val: any)=>void;\r\n    removeItem: (key: string)=>void;\r\n}\r\n\r\nfunction makeStorage(storage:IStorage) {\r\n    return {\r\n        get(key: string, defaultValue: any): any {\r\n            const value = storage.getItem(key);\r\n            if( value === null) return defaultValue;\r\n            try {\r\n                return JSON.parse(value);\r\n            }\r\n            catch( ex ) {\r\n                console.error(`storage[\"${key}\"] is not parsable as a JSON object!\\n`\r\n                + `Its value is: \"${value}\".\\nThis item will be deleted.`);\r\n                storage.removeItem(key);\r\n                return defaultValue;\r\n            }\r\n        },\r\n\r\n        set(key: string, value: any) {\r\n            storage.setItem(key, JSON.stringify(value));\r\n        },\r\n\r\n        del(key: string) {\r\n            storage.removeItem(key);\r\n        }\r\n    }\r\n}\r\n","import React from \"react\"\nimport Theme from \"./tfw/theme\"\nimport Stack from \"./tfw/layout/stack\"\nimport Combo from \"./tfw/view/combo\"\nimport Button from \"./tfw/view/button\"\nimport PageList from \"./page/list\"\nimport PageIcon from \"./page/icon\"\r\nimport PageCombo from \"./page/combo\"\r\nimport PageButton from \"./page/button\"\nimport PageCheckbox from \"./page/checkbox\"\r\n\r\nimport Storage from \"./tfw/storage\"\r\n\nimport \"./tfw/font/josefin.css\"\nimport \"./App.css\";\n\ninterface IAppState {\n    page: string;\r\n    theme: string;\n}\n\nexport default class App extends React.Component<{}, IAppState> {\n    constructor(props: {}) {\n        super(props);\n        this.handleThemeChange = this.handleThemeChange.bind(this);\n        this.state = Storage.local.get(\"state\", { page: \"button\", theme: \"default\" });\n    }\r\n\r\n    componentDidUpdate() {\r\n        Storage.local.set(\"state\", this.state);\r\n    }\n\n    handleThemeChange(name: string) {\n        this.setState({ theme: name });\n        Theme.apply(name);\n    }\n\n    link(id: string) {\n        return (\n            <Button key={id} label={id}\n                enabled={id !== this.state.page}\n                onClick={() => this.setState({ page: id })} />\n        )\n    }\n\n    render() {\n        return (\n            <div className=\"App thm-bg0\">\n                <nav className=\"thm-ele-nav thm-bg2\">\n                    <Combo label=\"Current theme\"\n                        wide={true}\n                        value={this.state.theme}\n                        onChange={this.handleThemeChange}>\n                        <div key=\"default\">Default</div>\n                        <div key=\"lemon\">Lemon</div>\n                        <div key=\"salmon\">Salmon</div>\n                        <div key=\"dark\">Dark</div>\n                    </Combo>\n                    <hr />\n                    <div>{[\n                        this.link(\"button\"),\n                        this.link(\"checkbox\"),\n                        this.link(\"color-button-list\"),\n                        this.link(\"color-button\"),\n                        this.link(\"combo\"),\n                        this.link(\"icon\"),\n                        this.link(\"input\"),\n                        this.link(\"list\"),\n                        this.link(\"pane\")\n                    ]}</div>\n                </nav>\n                <Stack value={this.state.page}>\n                    <PageCombo key=\"combo\" />\r\n                    <PageButton key=\"button\" />\n                    <PageCheckbox key=\"checkbox\" />\r\n                    <PageIcon key=\"icon\" />\r\n                    <PageList key=\"list\" />\n                </Stack>\n            </div>\n        )\n    }\n}\n\n\nTheme.register(\"default\", { bgP: \"#1e90ff\", bgS: \"#ff8d1e\", bg3: \"#fff\" });\nTheme.register(\"lemon\", { bgP: \"#790\", bgS: \"#dd1\", bg3: \"#eeffee\", white: \"#efe\" });\nTheme.register(\"salmon\", { bgP: \"#900\", bgS: \"#faa\", bg3: \"#daa\", white: \"#fed\" });\nTheme.register(\"dark\", { bgP: \"#059335\", bg0: \"#000\", white: \"#ccc\" });\nTheme.apply(\"default\");\n","import React from \"react\";\r\nimport ReactDOM from 'react-dom'\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}