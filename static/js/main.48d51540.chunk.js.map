{"version":3,"sources":["data/words-list.txt","tfw/view/input.yaml","tfw/factory/dialog.yaml","tfw/color.ts","tfw/theme.ts","tfw/converter/string.ts","tfw/converter/boolean.ts","tfw/layout/flex.tsx","tfw/converter/array.ts","tfw/layout/stack.tsx","tfw/converter/integer.ts","tfw/converter/unit.ts","tfw/icons.ts","tfw/view/icon.tsx","tfw/gesture/moves.ts","tfw/gesture/finger.ts","tfw/gesture/basic-handler.ts","tfw/gesture.ts","tfw/converter/function.ts","tfw/behavior/touchable.ts","tfw/view/button.tsx","tfw/layout/sidemenu.tsx","tfw/escape-handler.ts","tfw/view/combo.tsx","tfw/converter/string-array.ts","tfw/debouncer.ts","tfw/view/list.tsx","tfw/view/checkbox.tsx","tfw/view/Fieldset.tsx","tfw/view/touchable.tsx","page/list/word.tsx","page/list.tsx","tfw/intl.ts","tfw/view/input.tsx","tfw/factory/dialog.tsx","page/icon.tsx","page/combo.tsx","page/button.tsx","page/checkbox.tsx","tfw/storage.ts","App.tsx","index.tsx"],"names":["module","exports","__webpack_require__","p","en","nan","fr","it","cancel","close","ok","Color","codeCSS","arguments","length","undefined","Object","classCallCheck","this","R","G","B","H","S","L","A","parse","input","trim","toUpperCase","parseHexa","call","parseRGB","parseRGBA","parseHSL","luminance","color","hexa2","concat","newColor","chroma","Math","abs","x","shift","min","max","delta","INV6","text","charAt","parseInt","INV15","substr","INV255","isNaN","m","RX_RGB","exec","clamp01","RX_RGBA","parseFloat","RX_HSL","INV359","INV99","hsl2rgb","color1","color2","alpha","beta","newRGBA","newRGB","red","green","blue","value","out","floor","toString","tfw_theme","register","registerTheme","apply","name","document","body","THEMES","css","console","error","current","classList","remove","add","isDark","colorName","vars","$isDark","bg0","bg1","bg2","bg3","average","mix","luminanceStep","isThemeGloballyDark","varName","COLOR","THEME_COLOR_NAMES","themeName","_style","style","has0","has1","has2","has3","rgb2hsl","stringify","darkenBackground","color0","r0","g0","b0","color3","r3","g3","b3","completeBackgrounds","bgP","bgPD","dark","bgPL","light","bgS","rotateHue","bgSD","bgSL","white","black","forEach","bg","completeWithDefaultValues","s","pen","codeVariables","codeBackground","elevationColor","addAlpha","keys","ELEVATIONS","elevationKey","elevation","codeElevation","_loop","depth","tail","fgColorName","bgColorName","styleFgColorName","styleBgColorName","bgClass","fgClass","position","piecesFG","piecesSVG","piecesBG","index","push","pop","join","codeText","styleElement","createElement","getElementsByTagName","appendChild","textContent","0","2","4","6","8","9","10","11","12","16","24","castString","defaultValue","t","castBoolean","v","toLowerCase","num","Flex","props","wide","dir","justifyContent","alignItems","flexWrap","wrap","classes","react","className","children","React","castArray","Array","isArray","Stack","_this","scrollable","react_default","a","filter","elem","key","Component","castInteger","defVal","startsWith","hexa","RX_CSS_UNIT","castUnit","scalar","unit","draw","d","stroke","fill","iconsBook","android","bug","camera","center","child","code","copy","counter","delete","direction","down","down-double","edit","eraser","export","flag-jp","r","flag-fr","flag-it","flag-de","flag-en","font","format-align-center","format-align-justify","format-align-left","format-align-right","format-bold","format-italic","format-float-center","format-float-left","format-float-none","format-float-right","format-header","format-underline","fullscreen","gear","gps","hand","heart","hide","home","image","import","improvement","info","left","left-double","link","location","logout","mail","map","map-layer","menu","minus","minus-o","minus-small","pack","plug","plus","plus-o","plus-small","print","question","redo","refresh","right","right-double","run","search","select","sitemap","unselect","share","show","speaker","split-vertical","split-horizontal","star","stat","switch","tri-down","tri-left","tri-right","tri-up","twitter","undo","up","up-double","user","wait","zoom-in","zoom-out","warning","synonyms","back","help","save","_i2","_arr2","val","EnumPenColor","Icon","possibleConstructorReturn","getPrototypeOf","refIcon","visible","timeoutHandle","sort","_this2","elemIcon","window","clearTimeout","requestAnimationFrame","slot","onHide","setTimeout","_this3","animate","flipH","flipV","size","content","castContent","rotate","onClick","svgContent","createSvgContent","transform","width","height","triggerVisibleAnimation","ref","viewBox","preserveAspectRatio","strokeWidth","strokeLinecap","strokeLinejoin","def","elementName","_parseDef","_ref","attributes","_ref2","slicedToArray","arg1","arg2","parseDef","attribs","split","attribName","attribValue","CLASSES","indexOf","manageColors","CAPACITY","Moves","y","_x0","_y0","_time0","_x","_y","_time","_cursor","init","now","idx","Date","idx0","idx1","_index","time","time0","time1","time01","idx2","time12","x0","x1","y0","y1","Finger","fingers","identifier","indexOfFirstNull","BasicHandler","element","handleDown","handleUp","handleMove","pointerType","pointerTypeTime","deviceHandlers","handler","evt","checkPointerType","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","changedTouches","Symbol","iterator","next","done","touch","clientX","clientY","getIndex","buttons","pointer","clear","createClear","err","return","touchstart","addEventListener","mousedown","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","touchend","_this4","mouseup","_this5","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","touchmove","_this6","mousemove","delay","handlers","_arr","_i","eventName","removeEventListener","preventDefault","stopPropagation","SYMBOL","ID","STANDARD_EVENTS","Gesture","basicHandler","pointers","id","bind","assign","_len","gestureNames","_key","gestureName","isDown","moves","rect","top","event","ptr","getPointer","getBoundingClientRect","hasHandlerFor","recognizeTap","recognizeSwipe","recognizePan","elapsedTime","startX","startY","tap","recognizePanDown","recognizePanUp","_ptr$moves","pan","sx","speedX","speedY","dx","pandown","panvertical","panup","recognizeSwipeDown","recognizeSwipeUp","recognizeSwipeLeft","_ptr$moves2","swipe","dy","swipedown","swipevertical","swipeup","swipeleft","swipehorizontal","gesture","EMPTY_FUNCTION","Touchable","args","_element","_enabled","onTap","enabled","castFunction","that","on","keydown","fire","getComputedStyle","screen","div","createScreen","borderRadius","getPropertyValue","w","h","radius","ceil","sqrt","ripple","Theme","background","removeChild","Button","touchable","handleClick","assertThisInitialized","tag","label","icon","flat","small","disabled","icon_Icon","Sidemenu","refMenu","createRef","handleShowChange","onShowChange","innerWidth","head","button_Button","escape_handler","listener","initialized","Combo","list","button","bigList","selectedKey","selectedIndex","expand","onChange","_list$getBoundingClie","innerHeight","innerHTML","items","querySelectorAll","item","scrollTop","_ensureSelectionVisible","EscapeHandler","log","_swapItems","_this$_computeDimensi","_computeDimensions","_this$_showList","_showList","handleKeyboard","_handleKeyboard","scroll","goodKeys","defaultArray","defaultString","castStringArray","minimalLength","k","ensureGoodKeys","debouncer","action","timer","arg","List","refMain","refHead","refBody","refTail","lastFirstItemIndex","lastVisibleItemsCount","lastItemsArray","itemHeight","onScroll","Debouncer","onPanDown","state","main","onRefresh","onRefreshAsked","animateRefresh","itemsCount","firstItemIndex","visibleItemsCount","tailCount","setState","slice","backgroundSize","clientWidth","mapper","Error","minHeight","maxHeight","ex","Checkbox","handleChange","reverse","Fieldset","TouchableBehavior","tabIndex","TYPES","Word","_this$props","occurences","types","view_touchable_Touchable","PageButton","fetch","wordsListURL","then","response","json","wordsList","shuffle","wordMapper","catch","b","wa","wb","oa","ob","flex_Flex","list_List","word_Word","sortByName","sortByOccurences","checkbox_Checkbox","Fieldset_Fieldset","_item","arr","j","random","tmp","Mode","gCurrentLanguage","localStorage","getItem","navigator","language","Intl","translations","params","translation","addParams","lang","instance","translate","_value","setItem","output","mark","mode","Text","paramIndex","c","Escape","Placeholder","_","make","require","Input","timerId","onFocus","onBlur","setFocus","focus","type","setSelectionRange","checkValidity","target","validator","NUMBER_VALIDATOR","result","oldProps","globalId","header","htmlFor","tfw_factory_dialog","alert","onClose","dialog","Dialog","footer","options","_screen","_options","closeOnEscape","_hide","opt","title","ReactDOM","render","combo_Combo","input_Input","JSON","line","paddingLeft","countLeadingSpaces","showDetails","href","i","month","two","v1","v2","storage","local","makeStorage","session","sessionStorage","get","removeItem","set","del","App","handleThemeChange","Storage","page","theme","showmenu","sidemenu_Sidemenu","stack_Stack","combo_PageButton","button_PageButton","checkbox_PageButton","icon_PageButton","list_PageButton","App_App","getElementById"],"mappings":"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","file":"static/js/main.48d51540.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/words-list.d95fb393.txt\";","module.exports = {\"en\":{\"nan\":\"Not a number!\"},\"fr\":{\"nan\":\"Ce n'est pas un nombre !\"},\"it\":{\"nan\":\"Non  un numero !\"}}","module.exports = {\"en\":{\"cancel\":\"Cancel\",\"close\":\"Close\",\"ok\":\"Ok\"},\"fr\":{\"cancel\":\"Annuler\",\"close\":\"Fermer\",\"ok\":\"OK\"}}","/**\n * @class Color\n * Fast color manipulations.\n * Attributes R  (red), G  (green), B  (blue), A  (alpha), H  (hue), S\n * (saturation), and L (luminance) are all floats between 0 and 1.\n */\nexport default class Color {\n    public R: number;\n    public G: number;\n    public B: number;\n    public H: number;\n    public S: number;\n    public L: number;\n    public A: number;\n\n    constructor(codeCSS: string = \"#000000\") {\n        this.R = 0;\n        this.G = 0;\n        this.B = 0;\n        this.H = 0;\n        this.S = 0;\n        this.L = 0;\n        this.A = 1;\n\n        this.parse(codeCSS);\n    }\n\n    static mix(color1: Color, color2: Color, alpha: number=.5) {\n        const beta = 1 - alpha;\n        return Color.newRGBA(\n            alpha * color2.R + beta * color1.R,\n            alpha * color2.G + beta * color1.G,\n            alpha * color2.B + beta * color1.B,\n            alpha * color2.A + beta * color1.A\n        );\n    }\n\n    static newBlack() {\n        return Color.newRGB(0, 0, 0);\n    }\n\n    static newWhite() {\n        return Color.newRGB(1, 1, 1);\n    }\n\n    /**\n     * Create a new Color instance base on R,G,B channels.\n     *\n     * @param   {number} red - Value between 0 and 1.\n     * @param   {number} green - Value between 0 and 1.\n     * @param   {number} blue - Value between 0 and 1.\n     * @returns {Color} New instance of Color.\n     */\n    static newRGB(red: number, green: number, blue: number) {\n        const color = new Color();\n        color.R = red;\n        color.G = green;\n        color.B = blue;\n        color.A = 1;\n        return color;\n    }\n\n    /**\n     * Create a new Color instance base on R,G,B,A channels.\n     *\n     * @param   {number} red - Value between 0 and 1.\n     * @param   {number} green - Value between 0 and 1.\n     * @param   {number} blue - Value between 0 and 1.\n     * @param   {number} alpha - Value between 0 and 1.\n     * @returns {Color} New instance of Color.\n     */\n    static newRGBA(red: number, green: number, blue: number, alpha: number) {\n        const color = new Color();\n        color.R = red;\n        color.G = green;\n        color.B = blue;\n        color.A = alpha;\n        return color;\n    }\n\n    /**\n     * Parse a color writtent in CSS syntax.\n     *\n     * @param   {string} code - CSS color.\n     * @returns {boolean} `true` if the color has valid syntax.\n     */\n    parse(code: string = \"#000000\"): boolean {\n        const input = code.trim().toUpperCase();\n        if (this.parseHexa.call(this, input)) return true;\n        if (this.parseRGB.call(this, input)) return true;\n        if (this.parseRGBA.call(this, input)) return true;\n        if (this.parseHSL.call(this, input)) return true;\n        // @TODO parseHSLA.\n        return false;\n    }\n\n    /**\n     * @see https://en.wikipedia.org/wiki/Grayscale\n     * @this Color\n     * @returns {undefined}\n     */\n    luminance(): number {\n        return (0.2126 * this.R) + (0.7152 * this.G) + (0.0722 * this.B);\n    }\n\n    /**\n     * @returns {integer} 0 if the color is dark and 1 if it is light.\n     */\n    luminanceStep(): number {\n        return this.luminance() < .6 ? 0 : 1;\n    }\n\n    /**\n     * @this Color\n     * @returns {string} String value of the color. `#fd45a7`.\n     */\n    stringify() {\n        let color = hexa2(this.R * 255) + hexa2(this.G * 255) + hexa2(this.B * 255);\n        if (this.A < 1) {\n            color += hexa2(this.A * 255);\n        }\n        return `#${color}`;\n    }\n\n    copy() {\n        const newColor = new Color();\n        newColor.R = this.R;\n        newColor.G = this.G;\n        newColor.B = this.B;\n        newColor.A = this.A;\n        newColor.H = this.H;\n        newColor.S = this.S;\n        newColor.L = this.L;\n        return newColor;\n    }\n\n    /**\n         * @see https://en.wikipedia.org/wiki/HSL_and_HSV#Converting_to_RGB\n         * @this Color\n         * @returns {undefined}\n         */\n    hsl2rgb() {\n        const\n            H = 6 * this.H,\n            S = this.S,\n            L = this.L,\n            chroma = (1 - Math.abs(2 * L - 1)) * S,\n            x = chroma * (1 - Math.abs(H % 2 - 1));\n\n        let R = 0, G = 0, B = 0;\n\n        if (H < 3) {\n            if (H < 1) {\n                R = chroma; G = x; B = 0;\n            } else if (H < 2) {\n                R = x; G = chroma; B = 0;\n            } else {\n                // H == 2.\n                R = 0; G = chroma; B = x;\n            }\n        } else if (H < 4) {\n            R = 0; G = x; B = chroma;\n        } else if (H < 5) {\n            R = x; G = 0; B = chroma;\n        } else {\n            R = chroma; G = 0; B = x;\n        }\n\n        const shift = L - chroma * 0.5;\n        this.R = R + shift;\n        this.G = G + shift;\n        this.B = B + shift;\n    }\n\n    rgb2hsl() {\n        const R = this.R;\n        const G = this.G;\n        const B = this.B;\n\n        const min = Math.min(R, G, B);\n        const max = Math.max(R, G, B);\n        const delta = max - min;\n\n        this.L = 0.5 * (max + min);\n\n        if (delta < 0.000001) {\n            this.H = 0;\n            this.S = 0;\n        }\n        else {\n            this.S = delta / (1 - Math.abs(2 * this.L - 1));\n            if (max === R) {\n                if (G >= B) {\n                    this.H = INV6 * ((G - B) / delta);\n                } else {\n                    this.H = 1 - INV6 * ((B - G) / delta);\n                }\n            }\n            else if (max === G) {\n                this.H = INV6 * (2 + (B - R) / delta);\n            }\n            else {\n                this.H = INV6 * (4 + (R - G) / delta);\n            }\n        }\n    }\n\n    private parseHexa(text: string) {\n        if (text.charAt(0) !== '#') return false;\n        let R = 0, G = 0, B = 0, A = 1;\n\n        switch (text.length) {\n            case 4:\n                R = parseInt(text.charAt(1), 16) * INV15;\n                G = parseInt(text.charAt(2), 16) * INV15;\n                B = parseInt(text.charAt(3), 16) * INV15;\n                break;\n            case 5:\n                R = parseInt(text.charAt(1), 16) * INV15;\n                G = parseInt(text.charAt(2), 16) * INV15;\n                B = parseInt(text.charAt(3), 16) * INV15;\n                A = parseInt(text.charAt(4), 16) * INV15;\n                break;\n            case 7:\n                R = parseInt(text.substr(1, 2), 16) * INV255;\n                G = parseInt(text.substr(3, 2), 16) * INV255;\n                B = parseInt(text.substr(5, 2), 16) * INV255;\n                break;\n            case 9:\n                R = parseInt(text.substr(1, 2), 16) * INV255;\n                G = parseInt(text.substr(3, 2), 16) * INV255;\n                B = parseInt(text.substr(5, 2), 16) * INV255;\n                A = parseInt(text.substr(7, 2), 16) * INV255;\n                break;\n            default:\n        }\n\n        if (isNaN(R) || isNaN(G) || isNaN(B) || isNaN(A)) {\n            this.R = this.G = this.B = this.A = 0;\n        } else {\n            this.R = R;\n            this.G = G;\n            this.B = B;\n            this.A = A;\n        }\n\n        return true;\n    }\n\n    /**\n     * @param   {string} text - `rgb(200, 140, 50)`\n     * @returns {boolean} `true` if `text` is a valid `rgb()` syntax.\n     */\n    private parseRGB(text: string) {\n        const m = RX_RGB.exec(text);\n        if (!m) return false;\n        this.R = clamp01(parseInt(m[1], 10) * INV255);\n        this.G = clamp01(parseInt(m[2], 10) * INV255);\n        this.B = clamp01(parseInt(m[3], 10) * INV255);\n        this.A = 1;\n        return true;\n    }\n\n    /**\n     * @param   {string} text - `rgba(200, 140, 50, 0.5)`\n     * @returns {boolean} `true` if `text` is a valid `rgba()` syntax.\n     */\n    private parseRGBA(text: string) {\n        const m = RX_RGBA.exec(text);\n        if (!m) return false;\n        this.R = clamp01(parseInt(m[1], 10) * INV255);\n        this.G = clamp01(parseInt(m[2], 10) * INV255);\n        this.B = clamp01(parseInt(m[3], 10) * INV255);\n        this.A = clamp01(parseFloat(m[4]));\n        return true;\n    }\n\n    /**\n     * @param   {string} text - `hsl(200, 140, 50)`\n     * @returns {boolean} `true` if `text` is a valid `hsl()` syntax.\n     */\n    private parseHSL(text: string) {\n        const m = RX_HSL.exec(text);\n        if (!m) return false;\n        this.H = clamp01(parseInt(m[1], 10) * INV359);\n        this.S = clamp01(parseInt(m[2], 10) * INV99);\n        this.L = clamp01(parseInt(m[3], 10) * INV99);\n        this.A = 1;\n        this.hsl2rgb();\n        return true;\n    }\n}\n\nconst\n    INV6 = 1 / 6,\n    INV15 = 1 / 15,\n    INV99 = 1 / 99,\n    INV255 = 1 / 255,\n    INV359 = 1 / 359;\n\nconst RX_RGB = /^RGB[\\s\\(]+([0-9]+)[^0-9]+([0-9]+)[^0-9]+([0-9]+)/;\nconst RX_RGBA = /^RGBA[\\s\\(]+([0-9]+)[^0-9]+([0-9]+)[^0-9]+([0-9]+)[^0-9\\.]+([0-9\\.]+)/;\nconst RX_HSL = /^HSL[\\s\\(]+([0-9]+)[^0-9]+([0-9]+)[^0-9]+([0-9]+)/;\n\nfunction clamp01(value: number): number {\n    if (value < 0) return 0;\n    if (value > 1) return 1;\n    return value;\n}\n\nfunction hexa2(value: number) {\n    let out = Math.floor(value).toString(16);\n    if (out.length < 2) out = \"0\" + out;\n    return out;\n}\n","/**\n * Manage CSS styles.\n */\nexport default {\n    register: registerTheme,\n    apply: applyTheme,\n    isDark\n};\n\ninterface IStyle {\n    bg0?: string;\n    bg1?: string;\n    bg2?: string;\n    bg3?: string;\n    bgP?: string;\n    bgPD?: string;\n    bgPL?: string;\n    bgS?: string;\n    bgSD?: string;\n    bgSL?: string;\n    fg0?: string;\n    fg1?: string;\n    fg2?: string;\n    fg3?: string;\n    fgP?: string;\n    fgPD?: string;\n    fgPL?: string;\n    fgS?: string;\n    fgSD?: string;\n    fgSL?: string;\n    black?: string;\n    white?: string;\n    [key: string]: string | undefined;\n};\n\n\n//################################################################################\n\nimport \"./theme.css\"\nimport Color from \"./color\"\n\ninterface IThemes {\n    css: { [name: string]: HTMLStyleElement };\n    vars: { [name: string]: IStyle }\n    current: string | null;\n}\n\n// Used for luminance computations. Because we need to know which text color\n// can be used based on the background's luminance.\nconst COLOR = new Color();\n\nconst THEME_COLOR_NAMES = [\"0\", \"1\", \"2\", \"3\", \"P\", \"PD\", \"PL\", \"S\", \"SD\", \"SL\"];\nconst THEMES: IThemes = {\n    css: {},\n    vars: {},\n    current: null\n};\n\nfunction registerTheme(themeName: string, _style: IStyle) {\n    const style = completeWithDefaultValues(_style);\n    THEMES.vars[themeName] = style;\n\n    let codeCSS = codeVariables(themeName, style);\n    codeCSS += codeBackground(themeName, style);\n    codeCSS += codeElevation(themeName, style);\n    codeCSS += codeText(themeName, style);\n\n    let styleElement = THEMES.css[themeName];\n    if (!styleElement) {\n        styleElement = document.createElement(\"style\");\n        document.getElementsByTagName('head')[0].appendChild(styleElement);\n        THEMES.css[themeName] = styleElement;\n    }\n\n    styleElement.textContent = codeCSS;\n}\n\nfunction codeText(themeName: string, style: IStyle) {\n    let codeCSS = '';\n    for (let depth = 1; depth <= 10; depth++) {\n        THEME_COLOR_NAMES.forEach(function(colorName) {\n            const fgColorName = `fg${colorName}`;\n            const bgColorName = `bg${colorName}`;\n            const styleFgColorName: string = style[fgColorName] as string;\n            const styleBgColorName: string = style[bgColorName] as string;\n            const bgClass = \".thm-bg\" + colorName;\n            const fgClass = \".thm-fg\" + colorName;\n            for (let position = 1; position <= depth; position++) {\n                const piecesFG = [];\n                const piecesSVG = [];\n                const piecesBG = [];\n                for (let index = 1; index <= depth; index++) {\n                    piecesBG.push(position === index ? bgClass : '*');\n                    piecesSVG.push(position === index ? bgClass : '*');\n                    piecesFG.push(position === index ? fgClass : '*');\n                    if (index === depth) {\n                        piecesBG.push(piecesBG.pop() + \".thm-fg\");\n                        piecesFG.push(piecesFG.pop() + fgClass);\n                    }\n                }\n                codeCSS += \"body.dom-theme-\" + themeName + \" \"\n                    + piecesBG.join(\" > \")\n                    + \" { color: \" + styleFgColorName + \" }\\n\";\n                codeCSS += \"body.dom-theme-\" + themeName + \" \"\n                    + removeTail(piecesBG.join(\" > \"), \".thm-fg\")\n                    + \" { color: \" + styleFgColorName + \" }\\n\";\n                codeCSS += \"body.dom-theme-\" + themeName + \" \"\n                    + piecesFG.join(\" > \")\n                    + \" { color: \" + styleBgColorName + \" }\\n\";\n                codeCSS += \"body.dom-theme-\" + themeName + \" \"\n                    + piecesSVG.join(\" > \")\n                    + \" .thm-svg-fill0\"\n                    + \" { fill: \" + styleFgColorName + \" }\\n\";\n                codeCSS += \"body.dom-theme-\" + themeName + \" \"\n                    + piecesSVG.join(\" > \")\n                    + \" .thm-svg-stroke0\"\n                    + \" { stroke: \" + styleFgColorName + \" }\\n\";\n            }\n        });\n    }\n    return codeCSS;\n}\n\nfunction codeVariables(themeName: string, style: IStyle) {\n    let codeCSS = \"body.dom-theme-\" + themeName + '{\\n';\n    THEME_COLOR_NAMES.forEach(function(colorName) {\n        const s = style[`bg${colorName}`] as string;\n        codeCSS += `  --thm-bg${colorName}: ${s};\\n`;\n        COLOR.parse(s);\n        const pen = COLOR.luminanceStep() ? style.black : style.white;\n        codeCSS += `  --thm-fg${colorName}: ${pen};\\n`;\n    });\n    codeCSS += `  --thm-white: ${style.white};\\n`;\n    codeCSS += `  --thm-black: ${style.black};\\n`;\n    codeCSS += \"}\\n\";\n    return codeCSS;\n}\n\n\nfunction codeBackground(themeName: string, style: IStyle) {\n    var codeCSS = '';\n    THEME_COLOR_NAMES.forEach(function(colorName) {\n        codeCSS += \"body.dom-theme-\" + themeName + \".thm-bg\" + colorName\n            + \" { background-color: \" + style[`bg${colorName}`] + \" }\\n\";\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-fg\" + colorName\n            + \" { color: \" + style[`fg${colorName}`] + \" }\\n\";\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName\n            + \" { background-color: \" + style[`bg${colorName}`] + \" }\\n\";\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-bottom\"\n            + \" { background: linear-gradient(to top,\"\n            + style[`bg${colorName}`] + \",transparent) }\\n\";\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-top\"\n            + \" { background: linear-gradient(to bottom,\"\n            + style[`bg${colorName}`] + \",transparent) }\\n\";\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-left\"\n            + \" { background: linear-gradient(to right,\"\n            + style[`bg${colorName}`] + \",transparent) }\\n\";\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-right\"\n            + \" { background: linear-gradient(to left,\"\n            + style[`bg${colorName}`] + \",transparent) }\\n\";\n\n        if (!isNaN(parseInt(colorName))) return;\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-svg-fill\" + colorName\n            + \" { fill: \"\n            + style[`bg${colorName}`] + \" }\\n\";\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-svg-stroke\" + colorName\n            + \" { stroke: \"\n            + style[`bg${colorName}`] + \" }\\n\";\n    });\n    return codeCSS;\n}\n\nconst ELEVATIONS: { [ele: string]: string[] } = {\n    \"0\": [\"none\"],\n    \"2\": [\"button\", \"card\"],\n    \"4\": [\"bar\"],\n    \"6\": [\"floating\"],\n    \"8\": [\"button:active\", \"button-raised\", \"card-raised\"],\n    \"9\": [\"sunmenu-0\"],\n    \"10\": [\"sunmenu-1\"],\n    \"11\": [\"sunmenu-2\"],\n    \"12\": [\"floating:active\"],\n    \"16\": [\"nav\"],\n    \"24\": [\"dialog\"]\n};\nfunction codeElevation(themeName: string, style: IStyle) {\n    COLOR.parse(style.bg2);\n    const luminance = COLOR.luminance();\n    var elevationColor = luminance < .6\n        ? addAlpha(style.white, 4)\n        : addAlpha(style.black, 6);\n    var codeCSS = '';\n    const elevationKeys = Object.keys(ELEVATIONS);\n    elevationKeys.forEach(function(elevationKey) {\n        const elevation = parseInt(elevationKey, 10);\n        ELEVATIONS[elevationKey].forEach(name => {\n            codeCSS += `body.dom-theme-${themeName} .thm-ele-${name} {\n  box-shadow: 0 ${elevation}px ${2 * elevation}px ${elevationColor}\n}\\n`;\n        })\n    });\n    return codeCSS;\n}\n\nfunction applyTheme(name: string, target: HTMLElement = document.body) {\n    if (!THEMES.css[name]) {\n        console.error(\"This theme has not been registered: \", name);\n        return;\n    }\n    var body = document.body;\n    if (typeof THEMES.current === 'string') {\n        body.classList.remove(`dom-theme-${THEMES.current}`);\n    }\n    THEMES.current = name;\n    body.classList.add(`dom-theme-${THEMES.current}`);\n}\n\nfunction completeBackgrounds(style: IStyle) {\n    let has0 = typeof style.bg0 === 'string';\n    const has1 = typeof style.bg1 === 'string';\n    const has2 = typeof style.bg2 === 'string';\n    let has3 = typeof style.bg3 === 'string';\n\n    if (has0 && has1 && has2 && has3) return\n\n    if (!has0 && !has1 && !has2 && !has3) {\n        style.bg0 = \"#E0E0E0\";\n        style.bg1 = \"#F5F5F5\";\n        style.bg2 = \"#FAFAFA\";\n        style.bg3 = \"#FFF\";\n        return;\n    }\n    if (has0 && !has1 && !has2 && !has3) {\n        style.bg3 = lightenBackground(style.bg0 as string);\n        has3 = true;\n    }\n    if (!has0 && !has1 && !has2 && has3) {\n        style.bg0 = darkenBackground(style.bg3 as string);\n        has3 = true;\n    }\n    const color0 = new Color(style.bg0);\n    const r0 = color0.R;\n    const g0 = color0.G;\n    const b0 = color0.B;\n    const color3 = new Color(style.bg3);\n    const r3 = color3.R;\n    const g3 = color3.G;\n    const b3 = color3.B;\n    const color1 = Color.newRGB((2 * r0 + r3) / 3, (2 * g0 + g3) / 3, (2 * b0 + b3) / 3);\n    const color2 = Color.newRGB((r0 + 2 * r3) / 3, (g0 + 2 * g3) / 3, (b0 + 2 * b3) / 3);\n    style.bg1 = color1.stringify();\n    style.bg2 = color2.stringify();\n}\n\nfunction completeWithDefaultValues(style: IStyle) {\n    if (typeof style === 'undefined') style = {};\n\n    completeBackgrounds(style);\n\n    if (typeof style.bgP !== 'string') style.bgP = \"#3E50B4\";\n    if (typeof style.bgPD !== 'string') style.bgPD = dark(style.bgP);\n    if (typeof style.bgPL !== 'string') style.bgPL = light(style.bgP);\n    if (typeof style.bgS !== 'string') style.bgS = rotateHue(style.bgP);\n    if (typeof style.bgSD !== 'string') style.bgSD = dark(style.bgS);\n    if (typeof style.bgSL !== 'string') style.bgSL = light(style.bgS);\n\n    if (typeof style.white !== 'string') style.white = '#fff';\n    if (typeof style.black !== 'string') style.black = '#000';\n\n    THEME_COLOR_NAMES.forEach(function(name) {\n        const bg: string = style[`bg${name}`] || '#000';\n        COLOR.parse(bg);\n        var luminance = COLOR.luminance();\n        style[`fg${name}`] = luminance < .6 ? style.white : style.black;\n    });\n\n    return style;\n}\n\nfunction dark(color: string) {\n    const percent = .25;\n    COLOR.parse(color);\n    COLOR.rgb2hsl();\n    COLOR.L *= 1 - percent;\n    COLOR.hsl2rgb();\n    return COLOR.stringify();\n}\n\nfunction darkenBackground(color: string) {\n    COLOR.parse(color);\n    COLOR.rgb2hsl();\n    COLOR.L = Math.max(0, COLOR.L - 0.15);\n    COLOR.hsl2rgb();\n    return COLOR.stringify();\n}\n\nfunction light(color: string) {\n    var percent = .4;\n    COLOR.parse(color);\n    COLOR.rgb2hsl();\n    COLOR.L = percent + (1 - percent) * COLOR.L;\n    COLOR.hsl2rgb();\n    return COLOR.stringify();\n}\n\nfunction lightenBackground(color: string) {\n    COLOR.parse(color);\n    COLOR.rgb2hsl();\n    COLOR.L = Math.min(1, COLOR.L + 0.3);\n    COLOR.hsl2rgb();\n    return COLOR.stringify();\n}\n\nfunction rotateHue(color: string): string {\n    COLOR.parse(color);\n    COLOR.rgb2hsl();\n    COLOR.H = COLOR.H + .5;\n    if (COLOR.H > 1) COLOR.H--;\n    COLOR.hsl2rgb();\n    return COLOR.stringify();\n}\n\n/**\n * @param {string} color - RGB color in format #xxx or #xxxxxx.\n * @param {string} alpha - Single char between 0 and F.\n */\nfunction addAlpha(color: string, alpha: string) {\n    if (color.length < 5) return color + alpha;\n    return color + alpha + alpha;\n}\n\nfunction removeTail(text: string, tail: string) {\n    return text.substr(0, text.length - tail.length);\n}\n\nfunction isDark(colorName: string = \"\"): boolean {\n    if (colorName === \"\") return isThemeGloballyDark();\n\n    const vars = THEMES.vars[THEMES.current || \"default\"];\n    const varName = `$isDark/${colorName}`;\n    let isDark = vars[varName];\n    if (typeof isDark === 'boolean') return isDark;\n\n    const color = new Color(vars[colorName]);\n    vars[varName] = !color.luminanceStep();\n    return vars[varName];\n}\n\nfunction isThemeGloballyDark(): boolean {\n    const vars = THEMES.vars[THEMES.current || \"default\"];\n    let isDark = vars.$isDark;\n    if (typeof isDark === 'boolean') return isDark;\n\n    const bg0 = new Color(vars.bg0);\n    const bg1 = new Color(vars.bg1);\n    const bg2 = new Color(vars.bg2);\n    const bg3 = new Color(vars.bg3);\n    const average = Color.mix(\n        Color.mix(bg0, bg1),\n        Color.mix(bg2, bg3)\n    );\n    vars.$isDark = !average.luminanceStep();\n    return vars.$isDark;\n}\n\nregisterTheme(\"default\", { bgP: \"#1e90ff\" });\n","export default function castString(value: any, defaultValue: string): string {\n    const t = typeof value;\n    if (t === 'number' && !isNaN(value)) {\n        return `${value}`;\n    }\n    if (t === 'string') return value;\n    return defaultValue;\n}\n","export default function castBoolean(v: any, defaultValue = false): boolean {\n    switch (typeof v) {\n        case \"undefined\":\n            return defaultValue;\n        case \"boolean\":\n            return v;\n        case \"number\":\n            return v != 0;\n        case \"string\":\n            const text = v.trim().toLowerCase();\n            if (text === 'true' || text === 'yes') return true;\n            const num = parseInt(text);\n            if (!isNaN(num)) return num !== 0;\n            return false;\n        default:\n            return false;\n    }\n}\n","import * as React from \"react\"\nimport castString from \"../converter/string\"\nimport castBoolean from \"../converter/boolean\"\nimport \"./flex.css\"\n\ninterface IFlexProp {\n    wide?: boolean;\n    dir?: \"row\" | \"row-reverse\" | \"column\" | \"column-reverse\" | \"wide\" | \"narrow\";\n    wrap?: \"nowrap\" | \"wrap\" | \"wrap-reverse\";\n    justifyContent?: \"flex-start\" | \"flex-end\" | \"center\" | \"space-around\" | \"space-between\" | \"space-evenly\";\n    alignItems?: \"stretch\" | \"flex-start\" | \"flex-end\" | \"center\";\n    children: React.ReactElement<any>[] | React.ReactElement<any>;\n}\n\nexport default class Flex extends React.Component<IFlexProp, {}> {\n    render() {\n        const p = this.props;\n        const wide = castBoolean(p.wide, true);\n        const dir = castString(p.dir, \"row\");\n        const style: React.CSSProperties = {\n            justifyContent: castString(p.justifyContent, \"space-around\"),\n            alignItems: castString(p.alignItems, \"center\"),\n            flexWrap: castString(p.wrap, \"wrap\")\n        };\n        const classes = [\"tfw-view-flex\", `dir-${dir}`];\n\n        if (wide) classes.push(\"wide\");\n\n        return (\n            <div className={classes.join(\" \")} style={style}>{\n                p.children\n            }</div>\n        )\n    }\n}\n","export default function castArray(v: any): any[] {\n    if( Array.isArray(v)) return v;\n    return [v];\n}\n","import React from \"react\"\nimport castArray from \"../converter/array\"\nimport castBoolean from \"../converter/boolean\"\nimport \"./stack.css\"\n\ninterface IStackProps {\n    value: string;\n    scrollable?: boolean;\n    children: React.ReactElement<any>[];\n}\n\nexport default class Stack extends React.Component<IStackProps, {}> {\n    render() {\n        const children = castArray(this.props.children);\n        const scrollable = castBoolean(this.props.scrollable, false);\n        const classes = [\"tfw-layout-stack\"];\n        if( scrollable) classes.push(\"scrollable\");\n        return (\n            <div className={classes.join(\" \")}>{\n                children.filter(elem => elem.key == this.props.value)\n            }</div>\n        );\n    }\n}\n","export default function castInteger(v: any, defaultValue = 0): number {\n    const defVal = Math.floor(.5 + defaultValue);\n\n    switch (typeof v) {\n        case \"boolean\":\n            return v ? 1 : 0;\n        case \"number\":\n            return Math.floor(.5 + v);\n        case \"string\":\n            const text = v.trim().toLowerCase();\n            if (text.startsWith(\"0x\")) {\n                const hexa = parseInt(text.substr(2), 16);\n                return isNaN(hexa) ? defVal : hexa;\n            }\n            if (text.startsWith(\"0b\")) {\n                const hexa = parseInt(text.substr(2), 2);\n                return isNaN(hexa) ? defVal : hexa;\n            }\n            if (text.startsWith(\"0o\")) {\n                const hexa = parseInt(text.substr(2), 8);\n                return isNaN(hexa) ? defVal : hexa;\n            }\n            const num = parseFloat(text);\n            if (isNaN(num)) return defVal;\n            return Math.floor(.5 + num);\n        default:\n            return defVal;\n    }\n}\n","\"use strict\";\n\nconst RX_CSS_UNIT = /^(-?[.0-9]+)[ \\n\\r]*([a-z%]*)/;\n\nexport default function castUnit(v: any, defaultValue: string = \"100%\") {\n    if (typeof v === 'number') return `${v}px`;\n    if (typeof v !== 'string') return defaultValue;\n    const text = `${v}`.trim().toLowerCase();\n    if (text === 'auto' || text === 'inherit') return text;\n    if (text.startsWith(\"calc(\")) return text;\n    const m = RX_CSS_UNIT.exec(text);\n    if (!m) return defaultValue;\n    const scalar = parseFloat(m[1]);\n    if (isNaN(scalar) || scalar === 0) return \"0\";\n    const unit = m[2].length < 1 ? \"px\" : m[2];\n    return `${scalar}${unit}`;\n}\n","\"use strict\";\n\n/**\n * @module\n * This module provides a list of SVG icons definitions.\n * You can register new one if you wish.\n */\n\n\nexport type TIconDefinition =\n    [string, {}] |\n    [string, TIconDefinitionArray] |\n    [string, {}, TIconDefinitionArray] |\n    [string, TIconDefinitionArray, {}];\n\ninterface TIconDefinitionArray extends Array<TIconDefinition> { }\n\nexport interface IIconsDefinition {\n    [name: string]: TIconDefinition\n}\n\n\n\n/**\n * Register new icons.\n * @param {object}  icons - The  keys are the  name of the  icons, the\n * value is the object representing an SVG image.\n * @returns {undefined}\n */\nexport function register(icons: IIconsDefinition): void {\n    for (const key of Object.keys(icons)) {\n        const val: TIconDefinition = icons[key];\n        iconsBook[key] = val;\n    }\n};\n\n/**\n * @param {string} d - Path definition, as in the attribute `d` of the\n * SVG tag `path`.\n * @returns {array} SVG description.\n */\nfunction draw(d: string): TIconDefinition {\n    return ['path', { d, stroke: 'none', fill: 0 }];\n}\n\n\nexport const iconsBook: IIconsDefinition = {\n    android: draw('M15,-35H10V-40H15M-10,-35H-15V-40H-10M18,-49L24,-56C25,-57,25,-58,24,-59C23,-60,22,-60,21,-59L13,-52C9,-54,5,-55,0,-55C-5,-55,-9,-54,-13,-52L-21,-59C-22,-60,-23,-60,-24,-59C-25,-58,-25,-57,-24,-56L-18,-49C-25,-44,-30,-35,-30,-25H30C30,-35,25,-44,18,-49M43,-20A8,8,0,0,0,35,-12V23A8,8,0,0,0,43,30A8,8,0,0,0,50,23V-12A8,8,0,0,0,43,-20M-42,-20A8,8,0,0,0,-50,-12V23A8,8,0,0,0,-42,30A8,8,0,0,0,-35,23V-12A8,8,0,0,0,-42,-20M-30,30A5,5,0,0,0,-25,35H-20V53A8,8,0,0,0,-12,60A8,8,0,0,0,-5,53V35H5V53A8,8,0,0,0,13,60A8,8,0,0,0,20,53V35H25A5,5,0,0,0,30,30V-20H-30V30Z'),\n    bug: draw(\"M10,0H-10V-10H10M10,20H-10V10H10M40,-20H26C24,-24 21,-27 17,-30L25,-38L18,-45L7,-34C5,-35 3,-35 0,-35C-2,-35 -5,-35 -7,-34L-18,-45L-25,-38L-17,-30C-21,-27 -24,-24 -26,-20H-40V-10H-30C-30,-8 -30,-7 -30,-5V0H-40V10H-30V15C-30,17 -30,18 -30,20H-40V30H-26C-21,39 -11,45 0,45C11,45 21,39 26,30H40V20H30C30,18 30,17 30,15V10H40V0H30V-5C30,-7 30,-8 30,-10H40V-20Z\"),\n    camera: draw('M-40,-40H-25L-15,-50H15L25,-40H40A10,10,0,0,1,50,-30V30A10,10,0,0,1,40,40H-40A10,10,0,0,1,-50,30V-30A10,10,0,0,1,-40,-40M0,-25A25,25,0,0,0,-25,0A25,25,0,0,0,0,25A25,25,0,0,0,25,0A25,25,0,0,0,0,-25M0,-15A15,15,0,0,1,15,0A15,15,0,0,1,0,15A15,15,0,0,1,-15,0A15,15,0,0,1,0,-15Z'),\n    cancel: draw('M7,0L35,28V35H28L0,7L-28,35H-35V28L-7,0L-35,-28V-35H-28L0,-7L28,-35H35V-28L7,0Z'),\n    center: draw(\n        'M0,-15A15,15,0,0,0,-15,0A15,15,0,0,0,0,15A15,15,0,0,0,15,0A15,15,0,0,0,0,-15M35,35H15V45H35A10,10,0,0,0,45,35V15H35M35,-45H15V-35H35V-15H45V-35A10,10,0,0,0,35,-45M-35,-35H-15V-45H-35A10,10,0,0,0,-45,-35V-15H-35M-35,15H-45V35A10,10,0,0,0,-35,45H-15V35H-35V15Z'\n    ),\n    child: draw('M5,-50V-10H45A40,40,0,0,0,5,-50M37,19C42,13,45,4,45,-5H-28L-32,-15H-50V-5H-39C-39,-5,-29,15,-28,17C-34,20,-37,26,-37,33A18,18,0,0,0,-20,50C-11,50,-4,44,-3,35H8C9,44,16,50,25,50A18,18,0,0,0,43,33C43,27,40,23,37,19M-20,40A8,8,0,0,1,-27,33A8,8,0,0,1,-20,25A8,8,0,0,1,-12,33A8,8,0,0,1,-20,40M25,40A8,8,0,0,1,18,33A8,8,0,0,1,25,25A8,8,0,0,1,33,33A8,8,0,0,1,25,40Z'),\n    close: draw('M0,-50C28,-50,50,-28,50,0C50,28,28,50,0,50C-28,50,-50,28,-50,0C-50,-28,-28,-50,0,-50M18,-25L0,-7L-18,-25L-25,-18L-7,0L-25,18L-18,25L0,7L18,25L25,18L7,0L25,-18L18,-25Z'),\n    code: draw('M13,23L36,0L13,-23L20,-30L50,0L20,30L13,23M-13,23L-36,0L-13,-23L-20,-30L-50,0L-20,30L-13,23Z'),\n    copy: draw('M35,45H-20V-25H35M35,-35H-20A10,10,0,0,0,-30,-25V45A10,10,0,0,0,-20,55H35A10,10,0,0,0,45,45V-25A10,10,0,0,0,35,-35M20,-55H-40A10,10,0,0,0,-50,-45V25H-40V-45H20V-55Z'),\n    counter: draw('M-40,-40H40A10,10,0,0,1,50,-30V30A10,10,0,0,1,40,40H-40A10,10,0,0,1,-50,30V-30A10,10,0,0,1,-40,-40M-40,-30V30H-5V-30H-40M40,30V-30H34C35,-27,35,-25,35,-24C34,-21,32,-17,31,-16L20,-3L36,-4L36,3L10,2L10,-3C10,-3,25,-19,26,-20C27,-22,30,-30,23,-30C16,-30,17,-23,17,-23L9,-23C9,-23,9,-27,11,-30H5V30H18L18,26L23,26C23,26,27,25,27,20C28,15,23,15,23,15C22,15,17,16,17,20H10C10,20,10,9,23,9C36,9,35,20,35,20C35,20,35,26,29,28L32,30H40M-15,20H-23V-9L-32,-6V-12L-16,-18H-15V20Z'),\n    delete: draw(\n        'M35,-40H18L13,-45H-12L-17,-40H-35V-30H35M-30,35A10,10,0,0,0,-20,45H20A10,10,0,0,0,30,35V-25H-30V35Z'),\n    direction: draw('M10,13V0H-10V15H-20V-5A5,5,0,0,1,-15,-10H10V-22L28,-5M49,-4L4,-49H3C2,-50,-2,-50,-4,-49L-49,-4C-50,-2,-50,2,-49,4L-4,49C-2,50,2,51,4,49L49,4C51,2,51,-2,49,-4Z'),\n    down: draw('M-30,-30L0,30,30,-30'),\n    'down-double': draw('M-30,-40L0,-10,30,-40M-30,10L0,40,30,10'),\n    edit: draw(\n        \"M24,-46C22,-46,20,-46,19,-44L8,-34L35,-7L45,-17C48,-21,48,-25,45,-28L29,-44C28,-46,26,-46,24,-46M5,-30L-36,11L-23,12L-22,23L-11,24L-9,37L31,-3M-39,15L-47,49L-14,40L-15,29L-27,28L-28,16\"\n    ),\n    eraser: draw('M21,-42L46,-17C50,-14,50,-7,46,-3L0,43C-8,50,-20,50,-28,43L-46,25C-50,21,-50,15,-46,11L7,-42C11,-46,17,-46,21,-42M-39,18L-21,36C-17,39,-11,39,-7,36L11,18L-14,-7L-39,18Z'),\n    'export': draw('M-35,40H35V30H-35M35,-15H15V-45H-15V-15H-35L0,20L35,-15Z'),\n    \"flag-jp\": [\"g\", {\n        stroke: \"none\"\n    },\n        [\n            [\"path\", {\n                fill: \"#000\",\n                d: \"M-65,50h130v-100h-130z\"\n            }],\n            [\"path\", {\n                fill: \"#fff\",\n                d: \"M-60,45h120v-90h-120z\"\n            }],\n            [\"circle\", {\n                fill: \"#bc002d\",\n                r: 24\n            }]\n        ]\n    ],\n    \"flag-fr\": [\"g\", {\n        stroke: \"none\"\n    },\n        [\n            [\"path\", {\n                fill: \"#000\",\n                d: \"M-65,50h130v-100h-130z\"\n            }],\n            [\"path\", {\n                fill: \"#002395\",\n                d: \"M-60,45h40v-90h-40z\"\n            }],\n            [\"path\", {\n                fill: \"#fff\",\n                d: \"M-20,45h40v-90h-40z\"\n            }],\n            [\"path\", {\n                fill: \"#ed2939\",\n                d: \"M20,45h40v-90h-40z\"\n            }]\n        ]\n    ],\n    \"flag-it\": [\"g\", {\n        stroke: \"none\"\n    },\n        [\n            [\"path\", {\n                fill: \"#000\",\n                d: \"M-65,50h130v-100h-130z\"\n            }],\n            [\"path\", {\n                fill: \"#009246\",\n                d: \"M-60,45h40v-90h-40z\"\n            }],\n            [\"path\", {\n                fill: \"#fff\",\n                d: \"M-20,45h40v-90h-40z\"\n            }],\n            [\"path\", {\n                fill: \"#ce2b37\",\n                d: \"M20,45h40v-90h-40z\"\n            }]\n        ]\n    ],\n    \"flag-de\": [\"g\", {\n        stroke: \"none\"\n    },\n        [\n            [\"path\", {\n                fill: \"#000\",\n                d: \"M-65,41h130v-82h-130z\"\n            }],\n            [\"path\", {\n                fill: \"#ffce00\",\n                d: \"M-60,36h120v-24h-120z\"\n            }],\n            [\"path\", {\n                fill: \"#dd0000\",\n                d: \"M-60,12h120v-24h-120z\"\n            }]\n        ]\n    ],\n    \"flag-en\": [\"g\", {\n        stroke: \"none\"\n    },\n        [\n            [\"path\", {\n                fill: \"#000\",\n                d: \"M-65,37h130v-75h-130z\"\n            }],\n            [\"path\", {\n                fill: \"#bb133e\",\n                d: \"M-60,32h120v-65h-120z\"\n            }],\n            [\"path\", {\n                fill: \"#fff\",\n                d: \"M-60,22h120v5h-120z\"\n            }],\n            [\"path\", {\n                fill: \"#fff\",\n                d: \"M-60,12h120v5h-120z\"\n            }],\n            [\"path\", {\n                fill: \"#fff\",\n                d: \"M-60,2h120v5h-120z\"\n            }],\n            [\"path\", {\n                fill: \"#fff\",\n                d: \"M-60,-8h120v5h-120z\"\n            }],\n            [\"path\", {\n                fill: \"#fff\",\n                d: \"M-60,-18h120v5h-120z\"\n            }],\n            [\"path\", {\n                fill: \"#fff\",\n                d: \"M-60,-28h120v5h-120z\"\n            }],\n            [\"path\", {\n                fill: \"#002664\",\n                d: \"M-60,-33h48v35h-48z\"\n            }],\n\n        ]\n    ],\n    font: draw('M25,-20H40V40H45V45H25V40H30V25H10L3,40H10V45H-10V40H-5L25,-20M30,-15L13,20H30V-15M-35,-45H-10C-4,-45,0,-41,0,-35V20H-15V-5H-30V20H-45V-35C-45,-41,-41,-45,-35,-45M-30,-35V-15H-15V-35H-30Z'),\n    'format-align-center': draw('M-45,-45H45V-35H-45V-45M-25,-25H25V-15H-25V-25M-45,-5H45V5H-45V-5M-25,15H25V25H-25V15M-45,35H45V45H-45V35Z'),\n    'format-align-justify': draw('M-45,-45H45V-35H-45V-45M-45,-25H45V-15H-45V-25M-45,-5H45V5H-45V-5M-45,15H45V25H-45V15M-45,35H45V45H-45V35Z'),\n    'format-align-left': draw('M-45,-45H45V-35H-45V-45M-45,-25H15V-15H-45V-25M-45,-5H45V5H-45V-5M-45,15H15V25H-45V15M-45,35H45V45H-45V35Z'),\n    'format-align-right': draw(' M-45,-45H45V-35H-45V-45M-15,-25H45V-15H-15V-25M-45,-5H45V5H-45V-5M-15,15H45V25H-15V15M-45,35H45V45H-45V35Z '),\n    'format-bold': draw('M8,18H-10V3H8A8,8,0,0,1,15,10A8,8,0,0,1,8,18M-10,-27H5A8,8,0,0,1,13,-20A8,8,0,0,1,5,-12H-10M18,-6C23,-9,26,-15,26,-20C26,-31,18,-40,6,-40H-25V30H10C21,30,29,22,29,11C29,3,24,-3,18,-6Z'),\n    'format-italic': draw('M-10,-40V-25H1L-16,15H-30V30H10V15H-1L16,-25H30V-40H-10Z'),\n    'format-float-center': draw('M-15,-25H15V5H-15V-25M-45,-45H45V-35H-45V-45M-45,15H45V25H-45V15M-45,35H25V45H-45V35Z'),\n    'format-float-left': draw('M-45,-25H-15V5H-45V-25M-45,-45H45V-35H-45V-45M45,-25V-15H-5V-25H45M45,-5V5H-5V-5H45M-45,15H25V25H-45V15M-45,35H45V45H-45V35Z'),\n    'format-float-none': draw('M-45,-25H-15V5H-45V-25M-45,-45H45V-35H-45V-45M45,-5V5H-5V-5H45M-45,15H25V25H-45V15M-45,35H45V45H-45V35Z'),\n    'format-float-right': draw('M15,-25H45V5H15V-25M-45,-45H45V-35H-45V-45M5,-25V-15H-45V-25H5M-15,-5V5H-45V-5H-15M-45,15H25V25H-45V15M-45,35H45V45H-45V35Z'),\n    'format-header': draw('M-40,-40H-30V-10H-10V-40H0V30H-10V0H-30V30H-40V-40M13,-23L31,-5L13,13L20,20L45,-5L20,-30L13,-23Z'),\n    'format-underline': draw(\n        'M-35,45H35V35H-35V45M0,25A30,30,0,0,0,30,-5V-45H18V-5A18,18,0,0,1,0,13A18,18,0,0,1,-17,-5V-45H-30V-5A30,30,0,0,0,0,25Z'\n    ),\n    fullscreen: draw('M-35,-35H-10V-25H-25V-10H-35V-35M10,-35H35V-10H25V-25H10V-35M25,10H35V35H10V25H25V10M-10,25V35H-35V10H-25V25H-10Z'),\n    gear: draw(\n        'M0,18A18,18,0,0,1,-17,0A18,18,0,0,1,0,-17A18,18,0,0,1,18,0A18,18,0,0,1,0,18M37,5C37,3,38,2,38,0C38,-2,37,-3,37,-5L48,-13C49,-14,49,-15,48,-16L38,-34C38,-35,36,-35,35,-35L23,-30C20,-32,18,-33,14,-35L13,-48C12,-49,11,-50,10,-50H-10C-11,-50,-12,-49,-12,-48L-14,-35C-17,-33,-20,-32,-23,-30L-35,-35C-36,-35,-38,-35,-38,-34L-48,-16C-49,-15,-49,-14,-48,-13L-37,-5C-37,-3,-37,-2,-37,0C-37,2,-37,3,-37,5L-48,13C-49,14,-49,15,-48,16L-38,34C-38,35,-36,35,-35,35L-23,30C-20,32,-17,33,-14,35L-12,48C-12,49,-11,50,-10,50H10C11,50,12,49,13,48L14,35C18,33,20,32,23,30L35,35C36,35,38,35,38,34L48,16C49,15,49,14,48,13L37,5Z'\n    ),\n    gps: draw(\n        'M0,-20A20,20,0,0,1,20,0A20,20,0,0,1,0,20A20,20,0,0,1,-20,0A20,20,0,0,1,0,-20M-45,5H-55V-5H-45C-42,-26,-26,-42,-5,-45V-55H5V-45C26,-42,43,-26,45,-5H55V5H45C43,26,26,43,5,45V55H-5V45C-26,43,-42,26,-45,5M0,-35A35,35,0,0,0,-35,0A35,35,0,0,0,0,35A35,35,0,0,0,35,0A35,35,0,0,0,0,-35Z'\n    ),\n    hand: draw(\n        \"M-10,-50A10,10,0,0,1,0,-40V-17C0,-17,10,-19,10,-14C10,-14,20,-15,20,-10C20,-10,30,-11,30,-6C30,-6,40,-7,40,-2V15C40,20,25,45,25,50H-15C-15,50,-25,15,-40,5C-40,5,-45,-25,-20,0V-40A10,10,0,0,1,-10,-50Z\"\n    ),\n    heart: draw('M0,47L-7,40C-33,17,-50,1,-50,-17C-50,-33,-38,-45,-22,-45C-14,-45,-5,-41,0,-35C5,-41,14,-45,23,-45C38,-45,50,-33,50,-17C50,1,33,17,7,40L0,47Z'),\n    hide: draw(\n        'M-1,-15L15,1C15,1,15,0,15,0A15,15,0,0,0,0,-15C0,-15,-1,-15,-1,-15M-22,-11L-15,-3C-15,-2,-15,-1,-15,0A15,15,0,0,0,0,15C1,15,2,15,3,15L11,22C8,24,4,25,0,25A25,25,0,0,1,-25,0C-25,-4,-24,-8,-22,-11M-50,-39L-39,-27L-36,-25C-45,-18,-51,-10,-55,0C-46,22,-25,38,0,38C8,38,15,36,22,33L24,35L39,50L45,44L-44,-45M0,-25A25,25,0,0,1,25,0C25,3,24,6,23,9L38,24C45,18,51,9,55,0C46,-22,25,-37,0,-37C-7,-37,-14,-36,-20,-34L-9,-23C-6,-24,-3,-25,0,-25Z'\n    ),\n    home: draw('M-10,40V10H10V40H35V0H50L0,-45L-50,0H-35V40H-10Z'),\n    image: draw('M5,-15H33L5,-42V-15M-30,-50H10L40,-20V40A10,10,0,0,1,30,50H-30C-36,50,-40,46,-40,40V-40C-40,-46,-36,-50,-30,-50M-30,40H15L30,40V0L10,20L0,10L-30,40M-20,-15A10,10,0,0,0,-30,-5A10,10,0,0,0,-20,5A10,10,0,0,0,-10,-5A10,10,0,0,0,-20,-15Z'),\n    import: draw('M-15,20V-10H-35L0,-45L35,-10H15V20H-15M-35,40V30H35V40H-35Z'),\n    improvement: draw(\"M0,50A50,50,0,0,1,-50,0A50,50,0,0,1,0,-50A50,50,0,0,1,50,0A50,50,0,0,1,0,50M0,-25L-25,0H-10V20H10V0H25L0,-25Z\"),\n    info: draw('M8,-40A8,8,0,0,0,0,-32A8,8,0,0,0,8,-25A8,8,0,0,0,15,-32A8,8,0,0,0,8,-40M6,-16C0,-16,-17,-3,-17,-3C-17,-2,-17,-2,-16,-1C-16,1,-16,1,-15,0C-14,0,-12,-2,-9,-3C1,-10,-8,6,-12,32C-14,45,-2,39,1,37C4,35,12,29,13,28C14,28,13,27,12,26C12,25,11,26,11,26C8,28,2,32,1,29C0,27,6,7,9,-6C10,-10,12,-17,6,-16Z'),\n    left: ['path', { fill: 0, d: 'M40,-5V5H-20L8,33L0,40L-39,0L0,-40L8,-32L-20,-5H40Z' }],\n    'left-double': draw('M-10,-30L-40,0,-10,30M40,-30L10,0,40,30'),\n    link: draw('M-7,7C-5,9,-5,12,-7,14C-9,16,-12,16,-14,14C-24,4,-24,-11,-14,-21V-21L4,-39C13,-49,29,-49,39,-39C49,-29,49,-13,39,-4L31,4C32,0,31,-4,29,-8L32,-11C38,-16,38,-26,32,-32C26,-38,16,-38,11,-32L-7,-14C-13,-8,-13,1,-7,7M7,-14C9,-16,12,-16,14,-14C24,-4,24,11,14,21V21L-4,39C-13,49,-29,49,-39,39C-49,29,-49,13,-39,4L-31,-4C-31,0,-31,4,-29,8L-32,11C-38,16,-38,26,-32,32C-26,38,-16,38,-11,32L7,14C13,8,13,-1,7,-7C5,-9,5,-12,7,-14Z'),\n    location: draw('M0,-2A13,13,0,0,1,-12,-15A13,13,0,0,1,0,-27A13,13,0,0,1,13,-15A13,13,0,0,1,0,-2M0,-50A35,35,0,0,0,-35,-15C-35,11,0,50,0,50C0,50,35,11,35,-15A35,35,0,0,0,0,-50Z'),\n    logout: draw(\n        \"M25,26V10H-10V-10H25V-26L51,0L25,26M5,-50A10,10,0,0,1,15,-40V-20H5V-40H-40V40H5V20H15V40A10,10,0,0,1,5,50H-40A10,10,0,0,1,-50,40V-40A10,10,0,0,1,-40,-50H5Z\"\n    ),\n    mail: draw(\n        'M40,-40H-40A10,10,0,0,0,-50,-30V30A10,10,0,0,0,-40,40H40A10,10,0,0,0,50,30V-30A10,10,0,0,0,40,-40M40,30H-40V-20L0,5L40,-20V30M40,-30L0,-5L-40,-30V-30H40V-30Z'\n    ),\n    map: draw('M15,35L-15,24V-35L15,-24M43,-45C42,-45,42,-45,42,-45L15,-34L-15,-45L-43,-35C-44,-35,-45,-34,-45,-33V43A3,3,0,0,0,-42,45C-42,45,-42,45,-42,45L-15,34L15,45L43,36C44,35,45,34,45,33V-42A3,3,0,0,0,43,-45Z'),\n    \"map-layer\": draw('M0,20L37,-9L45,-15L0,-50L-45,-15L-37,-9M0,33L-37,4L-45,10L0,45L45,10L37,4L0,33Z'),\n    menu: draw('M-45,-30H45V-20H-45V-30M-45,-5H45V5H-45V-5M-45,20H45V30H-45V20Z'),\n    minus: draw('M35,5H-35V-5H35V5Z'),\n    \"minus-o\": draw('M0,40C-22,40,-40,22,-40,0C-40,-22,-22,-40,0,-40C22,-40,40,-22,40,0C40,22,22,40,0,40M0,-50A50,50,0,0,0,-50,0A50,50,0,0,0,0,50A50,50,0,0,0,50,0A50,50,0,0,0,0,-50M-25,5H25V-5H-25'),\n    \"minus-small\": draw('M35,35V-35H-35V35H35M35,-45A10,10,0,0,1,45,-35V35A10,10,0,0,1,35,45H-35A10,10,0,0,1,-45,35V-35C-45,-41,-40,-45,-35,-45H35M25,-5V5H-25V-5H25Z'),\n    ok: draw('M45,-25L-15,35L-42,8L-35,0L-15,21L38,-32L45,-25Z'),\n    pack: ['path', { fill: 0, d: 'M45,23C45,24,44,26,42,27L3,49C2,50,1,50,0,50C-1,50,-2,50,-3,49L-42,27C-44,26,-45,24,-45,23V-22C-45,-24,-44,-26,-42,-27L-3,-49C-2,-50,-1,-50,0,-50C1,-50,2,-50,3,-49L42,-27C44,-26,45,-24,45,-22V23M0,-39L-35,-20V20L0,39L35,20V-20L0,-39M0,-29L24,-15L0,-1L-24,-15L0,-29M25,14L5,26V8L25,-3V14M-5,26L-25,14V-3L-5,8V26Z' }],\n    plug: draw('M20,-25V-45H10V-25H-10V-45H-20V-25H-20C-25,-25,-30,-20,-30,-15V13L-12,30V45H13V30L30,13V-15C30,-20,25,-25,20,-25Z'),\n    plus: draw('M35,5H5V35H-5V5H-35V-5H-5V-35H5V-5H35V5Z'),\n    \"plus-o\": draw('M0,40C-22,40,-40,22,-40,0C-40,-22,-22,-40,0,-40C22,-40,40,-22,40,0C40,22,22,40,0,40M0,-50A50,50,0,0,0,-50,0A50,50,0,0,0,0,50A50,50,0,0,0,50,0A50,50,0,0,0,0,-50M5,-25H-5V-5H-25V5H-5V25H5V5H25V-5H5V-25Z'),\n    \"plus-small\": draw('M35,35V-35H-35V35H35M35,-45A10,10,0,0,1,45,-35V35A10,10,0,0,1,35,45H-35A10,10,0,0,1,-45,35V-35C-45,-41,-40,-45,-35,-45H35M-5,-25H5V-5H25V5H5V25H-5V5H-25V-5H-5V-25Z'),\n    print: ['path', {\n        fill: 0,\n        d: 'M30,-45H-30V-25H30M35,0A5,5,0,0,1,30,-5A5,5,0,0,1,35,-10A5,5,0,0,1,40,-5A5,5,0,0,1,35,0M20,35H-20V10H20M35,-20H-35A15,15,0,0,0,-50,-5V25H-30V45H30V25H50V-5A15,15,0,0,0,35,-20Z'\n    }],\n    question: draw(\"M-10,35H5V50H-10V35M0,-50C27,-49,38,-22,23,-2C18,3,12,7,8,11C5,15,5,20,5,25H-10C-10,17,-10,10,-7,5C-3,0,3,-3,8,-7C20,-18,17,-34,0,-35A15,15,0,0,0,-15,-20H-30A30,30,0,0,1,0,-50Z\"),\n    redo: draw('M32,-7C23,-15,11,-20,-2,-20C-26,-20,-45,-5,-52,16L-40,20C-35,4,-20,-7,-2,-7C7,-7,16,-4,23,2L5,20H50V-25L32,-7Z'),\n    refresh: draw('M28,-28C21,-35,11,-40,0,-40A40,40,0,0,0,-40,0A40,40,0,0,0,0,40C19,40,34,27,39,10H28C24,22,13,30,0,30A30,30,0,0,1,-30,0A30,30,0,0,1,0,-30C8,-30,16,-27,21,-21L5,-5H40V-40L28,-28Z'),\n    right: ['path', { fill: 0, d: 'M-40,-5V5H20L-7,33L0,40L39,0L0,-40L-7,-32L20,-5H-40Z' }],\n    'right-double': draw('M10,-30L40,0,10,30M-40,-30L-10,0,-40,30'),\n    run: draw('M23,-32A10,10,0,0,0,33,-42A10,10,0,0,0,23,-52A10,10,0,0,0,13,-42A10,10,0,0,0,23,-32M5,37L10,15L20,25V55H30V18L20,8L23,-7C29,0,39,5,50,5V-5C41,-5,33,-9,28,-17L23,-25C22,-28,18,-30,15,-30C13,-30,13,-29,11,-29L-15,-18V5H-5V-12L4,-15L-4,25L-28,20L-30,30L5,37M-40,-15A5,5,0,0,1,-45,-20A5,5,0,0,1,-40,-25H-25V-15H-40M-35,-35A5,5,0,0,1,-40,-40A5,5,0,0,1,-35,-45H-10V-35H-35M-45,5A5,5,0,0,1,-50,0A5,5,0,0,1,-45,-5H-25V5H-45Z'),\n    search: draw('M-12,-45A33,33,0,0,1,20,-12C20,-4,17,3,12,9L14,10H18L43,35L35,43L10,18V14L9,12C3,17,-4,20,-12,20A33,33,0,0,1,-45,-12A33,33,0,0,1,-12,-45M-12,-35C-25,-35,-35,-25,-35,-12C-35,0,-25,10,-12,10C0,10,10,0,10,-12C10,-25,0,-35,-12,-35Z'),\n    select: draw('M35,35H-35V-35H15V-45H-35C-41,-45,-45,-41,-45,-35V35A10,10,0,0,0,-35,45H35A10,10,0,0,0,45,35V-5H35M-20,-10L-27,-2L-5,20L45,-30L38,-37L-5,6L-20,-10Z'),\n    sitemap: draw('M-15,-50V-20H-5V-5H-35C-41,-5,-45,-1,-45,5V20H-55V50H-25V20H-35V5H-5V20H-15V50H15V20H5V5H35V20H25V50H55V20H45V5C45,-1,41,-5,35,-5H5V-20H15V-50H-15Z'),\n    unselect: draw('M35,-45H-35C-41,-45,-45,-41,-45,-35V35A10,10,0,0,0,-35,45H35A10,10,0,0,0,45,35V-35C45,-41,41,-45,35,-45M35,-35V35H-35V-35H35Z'),\n    share: draw('M30,20C26,20,23,22,20,24L-15,3C-15,2,-15,1,-15,0C-15,-1,-15,-2,-15,-3L20,-24C23,-22,26,-20,30,-20A15,15,0,0,0,45,-35A15,15,0,0,0,30,-50A15,15,0,0,0,15,-35C15,-34,15,-33,15,-31L-20,-11C-22,-13,-26,-15,-30,-15A15,15,0,0,0,-45,0A15,15,0,0,0,-30,15C-26,15,-22,13,-20,11L16,32C16,33,15,34,15,35C15,43,22,50,30,50C38,50,45,43,45,35A15,15,0,0,0,30,20Z'),\n    show: draw('M0,-15A15,15,0,0,0,-15,0A15,15,0,0,0,0,15A15,15,0,0,0,15,0A15,15,0,0,0,0,-15M0,25A25,25,0,0,1,-25,0A25,25,0,0,1,0,-25A25,25,0,0,1,25,0A25,25,0,0,1,0,25M0,-37C-25,-37,-46,-22,-55,0C-46,22,-25,38,0,38C25,38,46,22,55,0C46,-22,25,-37,0,-37Z'),\n    speaker: draw('M40,35L33,28C41,21,45,11,45,0C45,-11,41,-21,33,-28L40,-35C49,-26,55,-14,55,0C55,14,49,26,40,35M26,21L19,14C23,11,25,6,25,0C25,-6,23,-11,19,-14L26,-21C32,-16,35,-8,35,0C35,8,32,16,26,21M-40,-45H0A10,10,0,0,1,10,-35V35A10,10,0,0,1,0,45H-40A10,10,0,0,1,-50,35V-35A10,10,0,0,1,-40,-45M-20,-35A10,10,0,0,0,-30,-25A10,10,0,0,0,-20,-15A10,10,0,0,0,-10,-25A10,10,0,0,0,-20,-35M-20,-5A20,20,0,0,0,-40,15A20,20,0,0,0,-20,35A20,20,0,0,0,0,15A20,20,0,0,0,-20,-5M-20,5A10,10,0,0,1,-10,15A10,10,0,0,1,-20,25A10,10,0,0,1,-30,15A10,10,0,0,1,-20,5Z'),\n    \"split-vertical\": draw('M30,20V5H15V50H5V-50H15V-5H30V-20L50,0L30,20M-50,0L-30,20V5H-15V50H-5V-50H-15V-5H-30V-20L-50,0Z'),\n    \"split-horizontal\": draw('M-20,30H-5V15H-50V5H50V15H5V30H20L0,50L-20,30M0,-50L-20,-30H-5V-15H-50V-5H50V-15H5V-30H20L0,-50Z'),\n    star: draw('M0,26L31,45L23,10L50,-14L14,-17L0,-50L-14,-17L-50,-14L-23,10L-31,45L0,26Z'),\n    stat: draw('M-45,50V-20H-25V50H-45M-10,50V-50H10V50H-10M25,50V10H45V50H25Z'),\n    'switch': draw('M-45,-40V3L-30,-12L-15,5C-10,10,-10,15,-10,15V45H10V10C10,10,10,5,7,0C5,-5,0,-10,0,-10L-15,-27L-2,-40M30,-40L8,-18L10,-15C10,-15,15,-10,17,-5C18,-3,19,-1,19,1L45,-25'),\n    'tri-down': draw('M-23,-17L0,6L23,-17L30,-10L0,20L-30,-10L-23,-17Z'),\n    'tri-left': draw('M17,23L-6,0L17,-23L10,-30L-20,0L10,30L17,23Z'),\n    'tri-right': draw('M-17,23L6,0L-17,-23L-10,-30L20,0L-10,30L-17,23Z'),\n    'tri-up': draw('M-23,17L0,-6L23,17L30,10L0,-20L-30,10L-23,17Z'),\n    twitter: draw('M52,-30C48,-28,44,-27,40,-27C44,-29,48,-33,49,-38C45,-36,41,-34,36,-33C32,-37,26,-40,20,-40C8,-40,-1,-30,-1,-19C-1,-17,-1,-15,-1,-14C-19,-15,-34,-23,-45,-36C-47,-33,-48,-29,-48,-25C-48,-18,-44,-11,-38,-7C-42,-7,-45,-8,-48,-10C-48,-10,-48,-10,-48,-10C-48,1,-41,9,-31,11C-33,12,-35,12,-37,12C-38,12,-39,12,-41,12C-38,20,-30,26,-21,26C-28,32,-37,36,-47,36C-49,36,-51,36,-52,35C-43,41,-31,45,-19,45C20,45,42,12,42,-16C42,-17,42,-18,42,-19C46,-22,49,-26,52,-30Z'),\n    undo: draw('M3,-20C-11,-20,-23,-15,-32,-7L-50,-25V20H-5L-23,2C-16,-4,-7,-7,3,-7C20,-7,35,4,41,20L52,16C45,-5,26,-20,3,-20Z'),\n    up: draw('M-30,30L0,-30,30,30'),\n    'up-double': draw('M-30,40L0,10,30,40M-30,-10L0,-40,30,-10'),\n    user: draw(\n        'M0,-40A20,20,0,0,1,20,-20A20,20,0,0,1,0,0A20,20,0,0,1,-20,-20A20,20,0,0,1,0,-40M0,10C22,10,40,19,40,30V40H-40V30C-40,19,-22,10,0,10Z'\n    ),\n    wait: draw('M0,-5A5,5,0,0,0,-5,0A5,5,0,0,0,0,5A5,5,0,0,0,5,0A5,5,0,0,0,0,-5M3,-50C25,-50,26,-32,14,-26C9,-24,7,-19,6,-14C8,-13,10,-11,12,-9C30,-19,50,-15,50,3C50,25,32,26,26,14C24,9,19,7,14,6C13,8,11,10,9,12C19,30,15,50,-2,50C-25,50,-25,32,-14,26C-9,24,-7,19,-6,14C-8,13,-10,11,-12,9C-30,19,-50,15,-50,-2C-50,-25,-32,-26,-26,-14C-24,-9,-19,-7,-14,-6C-13,-8,-11,-10,-9,-12C-19,-30,-15,-50,3,-50Z'),\n    \"zoom-in\": draw('M18,10L43,35L35,43L10,18V14L9,12C3,17,-4,20,-12,20A33,33,0,0,1,-45,-12A33,33,0,0,1,-12,-45A33,33,0,0,1,20,-12C20,-4,17,3,12,9L14,10H18M-12,10C0,10,10,0,10,-12C10,-25,0,-35,-12,-35C-25,-35,-35,-25,-35,-12C-35,0,-25,10,-12,10M0,-10H-10V0H-15V-10H-25V-15H-15V-25H-10V-15H0V-10Z'),\n    \"zoom-out\": draw('M18,10H14L12,9C17,3,20,-4,20,-12A33,33,0,0,0,-12,-45A33,33,0,0,0,-45,-12A33,33,0,0,0,-12,20C-4,20,3,17,9,12L10,14V18L35,43L43,35L18,10M-12,10C-25,10,-35,0,-35,-12C-35,-25,-25,-35,-12,-35C0,-35,10,-25,10,-12C10,0,0,10,-12,10M-25,-15H0V-10H-25V-15Z'),\n    warning: draw('M0,-50L-55,45H55M0,-30L38,35H-38M-5,-10V10H5V-10M-5,20V30H5V20')\n};\n\n\n// Synonyms.\nconst synonyms: { [name: string]: string } = {\n    add: \"plus\",\n    back: \"left\",\n    help: \"question\",\n    save: \"export\"\n};\nfor (const key of Object.keys(synonyms)) {\n    const val: string = synonyms[key];\n    iconsBook[key] = iconsBook[val];\n}\n","\"use strict\";\n\nimport * as React from \"react\";\nimport castBoolean from \"../converter/boolean\";\nimport castInteger from \"../converter/integer\";\nimport castUnit from \"../converter/unit\";\nimport { iconsBook, TIconDefinition } from \"../icons\";\nimport \"./icon.css\";\n\nenum EnumPenColor { B, F, P, PD, PL, S, SD, SL }\n\ninterface IIconProps {\n    visible?: boolean;\n    content?: string | TIconDefinition;\n    size?: string | number;\n    animate?: boolean;\n    flipH?: boolean;\n    flipV?: boolean;\n    rotate?: number;\n    pen0?: EnumPenColor;\n    pen1?: EnumPenColor;\n    pen2?: EnumPenColor;\n    pen3?: EnumPenColor;\n    pen4?: EnumPenColor;\n    pen5?: EnumPenColor;\n    pen6?: EnumPenColor;\n    pen7?: EnumPenColor;\n    onClick?: () => void;\n    onHide?: () => void;\n}\n\nexport default class Icon extends React.Component<IIconProps, {}> {\n    static isValidIconName(name: string): boolean {\n        return typeof iconsBook[name] !== 'undefined';\n    }\n\n    static getAllIconNames(): string[] {\n        return Object.keys(iconsBook).sort();\n    }\n\n    private refIcon: any;\n    private visible: boolean;\n    private timeoutHandle: number;\n\n    constructor(props: IIconProps) {\n        super(props);\n        this.refIcon = React.createRef();\n        this.visible = false;\n        this.timeoutHandle = 0;\n    }\n\n    triggerVisibleAnimation() {\n        const\n            elemIcon = this.refIcon.current,\n            visible = this.visible;\n        if (this.timeoutHandle) {\n            window.clearTimeout(this.timeoutHandle);\n            this.timeoutHandle = 0;\n        }\n        requestAnimationFrame(() => {\n            if (visible) elemIcon.classList.remove(\"zero\");\n            else {\n                elemIcon.classList.add(\"zero\");\n                const slot = this.props.onHide;\n                if (typeof slot === 'function') {\n                    this.timeoutHandle = window.setTimeout(slot, 300);\n                }\n            }\n        });\n    }\n\n    render() {\n        const\n            p = this.props,\n            visible = castBoolean(p.visible, true),\n            animate = castBoolean(p.animate, false),\n            flipH = castBoolean(p.flipH, false),\n            flipV = castBoolean(p.flipV, false),\n            size = castUnit(p.size, \"28px\"),\n            content = castContent(p.content),\n            rotate = castInteger(p.rotate, 0),\n            onClick = p.onClick,\n            classes = [\"tfw-view-icon\"];\n        const svgContent = createSvgContent(content, p);\n        if (!svgContent) return null;\n\n        if (animate) classes.push(\"animate\");\n        if (visible) classes.push(\"zero\");\n        if (typeof onClick === 'function') classes.push(\"active\");\n\n        let transform = \"\";\n        if (rotate !== 0) {\n            transform += `rotate(${rotate}deg) `;\n        }\n        if (flipH || flipV) {\n            transform += `scale(${flipH ? -1 : 1},${flipV ? -1 : 1})`;\n        }\n        const style: React.CSSProperties = { width: size, height: size };\n        if (transform.length > 0) style.transform = transform;\n\n        requestAnimationFrame(() => this.triggerVisibleAnimation());\n        this.visible = visible;\n\n        return (\n            <svg className={classes.join(\" \")}\n                ref={this.refIcon}\n                viewBox=\"-65 -65 130 130\"\n                preserveAspectRatio=\"xMidYMid\"\n                width={size}\n                height={size}\n                onClick={onClick}\n                style={style}>\n                {svgContent}\n                < g strokeWidth=\"6\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" >\n                    {createSvgContent(content, p)}\n                </g>\n            </svg>\n        );\n    }\n}\n\nfunction createSvgContent(def: TIconDefinition, props: IIconProps, key: string = \"\"): any {\n    const\n        elementName = def[0],\n        { attributes, children } = parseDef(def);\n\n    if (typeof elementName === 'undefined') return <g></g>;\n\n    const attribs: React.Attributes = manageColors(attributes);\n    if (key.length > 0) attributes.key = key;\n\n    return React.createElement(\n        elementName,\n        attribs,\n        children.map((child, index) => createSvgContent(child, props, `${index}`))\n    ) as React.ReactSVGElement;\n}\n\nconst CLASSES = [\"0\", \"1\", \"P\", \"PL\", \"PD\", \"S\", \"SL\", \"SD\"];\n\n/**\n * If the value of the attribute \"fill\" is an element of CLASSES,\n * it will be removed and replace with a class.\n * Same thing for the attibute \"stroke\".\n *\n * @example\n * manageColors({ fill: \"1\" }) === { className: \"thn-svg-fill-1\" }\n *\n * @param   attribs [description]\n * @param   props   [description]\n * @returns         [description]\n */\nfunction manageColors(attribs: { [key: string]: any }) {\n    // @TODO For special forms of \"fill\" and \"stroke\", add classes.\n    const classes = (attribs.className || \"\").split(\" \");\n\n    [\"fill\", \"stroke\"].forEach(attribName => {\n        const attribValue = attribs[attribName];\n        if (typeof attribValue === 'undefined') return;\n        const key = `${attribValue}`.toUpperCase();\n        if (CLASSES.indexOf(key) === -1) return;\n        delete attribs[attribName];\n        classes.push(`thm-svg-${attribName}${key}`);\n    });\n\n    attribs.className = classes.join(\" \").trim();\n    return attribs;\n}\n\nfunction parseDef([name, arg1, arg2]: TIconDefinition) {\n    let attributes: undefined | {},\n        children: undefined | any[];\n\n    if (Array.isArray(arg1)) children = arg1;\n    else if (typeof arg1 !== 'undefined') attributes = arg1;\n    if (Array.isArray(arg2)) children = arg2;\n    else if (typeof arg2 !== 'undefined') attributes = arg2;\n\n    if (typeof attributes === 'undefined') attributes = {};\n    if (typeof children === 'undefined') children = [];\n\n    return { attributes, children };\n}\n\nfunction castContent(content: string | TIconDefinition = \"ok\"): TIconDefinition {\n    if (Array.isArray(content)) return content;\n    return iconsBook[content] || [];\n}\n","const CAPACITY = 3;\n\n/**\n * Helper to manage a pointer move.\n * It gives you the location, the speed and the acceleration of your pointer.\n *\n * @type {[type]}\n */\nexport default class Moves {\n    private _x0: number;\n    private _y0: number;\n    private _time0: number;\n    private _x: number[] = new Array(CAPACITY);\n    private _y: number[] = new Array(CAPACITY);\n    private _time: number[] = new Array(CAPACITY);\n    private _cursor: number = 0;\n\n    constructor(x: number = 0, y: number = 0) {\n        this.init(x, y);\n    }\n\n    init(x: number, y: number) {\n        this._time0 = this.now;\n        this._x0 = x;\n        this._y0 = y;\n        this._x = this._x.fill(this._x0, 0, CAPACITY);\n        this._y = this._y.fill(this._y0, 0, CAPACITY);\n        this._time = this._time.fill(this._time0, 0, CAPACITY);\n    }\n\n    _index(shift: number) {\n        return (this._cursor + shift) % CAPACITY;\n    }\n\n    get now() { return Date.now(); }\n\n    add(x: number, y: number) {\n        const idx = (this._cursor + CAPACITY - 1) % CAPACITY;\n        this._time[idx] = this.now;\n        this._x[idx] = x;\n        this._y[idx] = y;\n        this._cursor = idx;\n    }\n\n    get elapsedTime() { return this.now - this._time0; }\n\n    get x() { return this._x[this._cursor]; }\n    get y() { return this._y[this._cursor]; }\n\n    get startX() { return this._x0; }\n    get startY() { return this._y0; }\n\n    get speedX() {\n        const idx0 = this._cursor;\n        const idx1 = this._index(1);\n        const time = this._time[idx0] - this._time[idx1];\n        if (time <= 0) return 0;\n        return (this._x[idx0] - this._x[idx1]) / time;\n    }\n\n    get speedY() {\n        const idx0 = this._cursor;\n        const idx1 = this._index(1);\n        const time = this._time[idx0] - this._time[idx1];\n        if (time <= 0) return 0;\n        return (this._y[idx0] - this._y[idx1]) / time;\n    }\n\n    get accelX() {\n        const idx0 = this._index(0);\n        const time0 = this._time[idx0];\n\n        const idx1 = this._index(1);\n        const time1 = this._time[idx1];\n\n        const time01 = time0 - time1;\n\n        if (time01 <= 0) return 0;\n\n        const idx2 = this._index(2);\n        const time2 = this._time[idx2];\n\n        const time12 = time1 - time2;\n\n        if (time12 <= 0) return 0;\n\n        const x0 = this._x[idx0];\n        const x1 = this._x[idx1];\n        const x2 = this._x[idx2];\n\n        const speed01 = (x0 - x1) / time01;\n        const speed12 = (x1 - x2) / time12;\n\n        return (speed01 - speed12) / time01;\n    }\n\n    get accelY() {\n        const idx0 = this._index(0);\n        const time0 = this._time[idx0];\n\n        const idx1 = this._index(1);\n        const time1 = this._time[idx1];\n\n        const time01 = time0 - time1;\n\n        if (time01 <= 0) return 0;\n\n        const idx2 = this._index(2);\n        const time2 = this._time[idx2];\n\n        const time12 = time1 - time2;\n\n        if (time12 <= 0) return 0;\n\n        const y0 = this._y[idx0];\n        const y1 = this._y[idx1];\n        const y2 = this._y[idx2];\n\n        const speed01 = (y0 - y1) / time01;\n        const speed12 = (y1 - y2) / time12;\n\n        return (speed01 - speed12) / time01;\n    }\n}\n","type TIdentifier = number | null;\n\nexport default class Finger {\n    private fingers: TIdentifier[] = [];\n\n    getIndex(identifier: number): number {\n        const index = this.fingers.indexOf(identifier);\n        if (index !== -1) return index;\n        const indexOfFirstNull = this.fingers.indexOf(null);\n        if (indexOfFirstNull !== -1) {\n            this.fingers[indexOfFirstNull] = identifier;\n            return indexOfFirstNull;\n        }\n        this.fingers.push(identifier);\n        return this.fingers.length - 1;\n    }\n\n    remove(identifier: number) {\n        const index = this.fingers.indexOf(identifier);\n        if (index !== -1) this.fingers[index] = null;\n    }\n}\n","/**\n * BasicHandler(\n *     element: HTMLElement,\n *     handleDown: TBasicHandler,\n *     handleUp: TBasicHandler,\n *     handleMove: TBasicHandler\n * )\n *\n * Deals with three basic events : DOWN, UP and MOVE.\n * If the device has several input pointers, we will return\n * only one event.\n *\n * A TBasicHandler is a synthetic event object:\n *   - x: X coordinate relative to the viewport, not including any scroll offset.\n *   - y: Y coordinate relative to the viewport, not including any scroll offset.\n *   - index: For multi-touch system. The first one is 0, the second is 1, etc.\n *   - buttons: 1 = left, 2 = right.\n *   - pointer: \"mouse\" | \"touch\" | \"pen\".\n *   - clear(): Call stopPropagation() and preventDefault() on this event.\n *\n */\nimport Finger from \"./finger\"\nimport {IBasicEvent} from \"./basic-handler.types\"\n\ninterface ITouch {\n    identifier: number;\n    clientX: number;\n    clientY: number;\n}\n\ninterface ITouchEvent {\n    changedTouches: ITouch[];\n}\ntype TTouchEventHandler = (evt:ITouchEvent) => void;\n\ninterface IMouseEvent {\n    clientX: number;\n    clientY: number;\n    buttons: number;\n}\ntype TMouseEventHandler = (evt:IMouseEvent) => void;\n\ntype TDeviceEventHandler = TTouchEventHandler|TMouseEventHandler;\n\ntype TBasicHandler = (evt: IBasicEvent) => void | undefined;\n\ntype TBasicEventName = \"mousedown\";\n\ninterface IDeviceHandlers {\n    touchstart?: TTouchEventHandler;\n    touchend?: TTouchEventHandler;\n    touchmove?: TTouchEventHandler;\n    mousedown?: TMouseEventHandler;\n    mouseup?: TMouseEventHandler;\n    mousemove?: TMouseEventHandler;\n}\n\nexport default class BasicHandler {\n    readonly element: HTMLElement;\n    pointerType: string = \"\";\n    pointerTypeTime: number = 0;\n    deviceHandlers: IDeviceHandlers = {};\n    fingers: Finger = new Finger();\n\n    constructor(element: HTMLElement,\n        handleDown: TBasicHandler,\n        handleUp: TBasicHandler,\n        handleMove: TBasicHandler) {\n        this.element = element;\n        attachDownEvent.call(this, handleDown);\n        attachUpEvent.call( this, handleUp );\n        attachMoveEvent.call( this, handleMove );\n    }\n\n    /**\n     * If you device can hold mouse and touch events, you will receive two events.\n     * This function prevent it.\n     *\n     * @param   {string} pointerType\n     * @returns {boolean} If `false`, we must ignore this event.\n     */\n    checkPointerType(pointerType: string) {\n        const now = Date.now();\n        const delay = now - this.pointerTypeTime;\n        this.pointerTypeTime = now;\n        if (this.pointerType.length === 0 || delay > 500) {\n            // If the user wat more than 500ms, he can change of pointer.\n            this.pointerType = pointerType;\n            return true;\n        }\n        return this.pointerType === pointerType;\n    }\n\n    detachEvents() {\n        const element = this.element;\n        const handlers = this.deviceHandlers;\n        const eventNames = Object.keys(handlers);\n        for (const eventName of eventNames) {\n            const handler: TDeviceEventHandler|undefined = handlers[eventName as TBasicEventName];\n            element.removeEventListener(eventName, handler, false);\n        }\n    }\n}\n\n\nfunction attachDownEvent(this: BasicHandler, handleDown: TBasicHandler) {\n    attachDownEventTouch.call(this, handleDown);\n    attachDownEventMouse.call(this, handleDown);\n}\n\n\nfunction attachDownEventTouch(this: BasicHandler, handleDown: TBasicHandler) {\n    const { element, deviceHandlers } = this;\n    const handler = (evt: ITouchEvent) => {\n        if (!this.checkPointerType(\"touch\")) return;\n        for (const touch of evt.changedTouches) {\n            handleDown({\n                x: touch.clientX,\n                y: touch.clientY,\n                index: this.fingers.getIndex(touch.identifier),\n                buttons: 1,\n                pointer: \"touch\",\n                clear: createClear(evt)\n            });\n        }\n    };\n    deviceHandlers.touchstart = handler;\n    element.addEventListener(\"touchstart\", handler, false);\n}\n\n\nfunction attachDownEventMouse(this: BasicHandler, handleDown: TBasicHandler) {\n    const { element, deviceHandlers } = this;\n    const handler = (evt: IMouseEvent) => {\n        if (!this.checkPointerType(\"mouse\")) return;\n        handleDown({\n            x: evt.clientX,\n            y: evt.clientY,\n            index: 0,\n            buttons: evt.buttons,\n            pointer: \"mouse\",\n            clear: createClear(evt)\n        });\n    };\n    deviceHandlers.mousedown = handler;\n    element.addEventListener(\"mousedown\", handler, false);\n}\n\n\nfunction attachUpEvent(this: BasicHandler, handleUp: TBasicHandler) {\n    attachUpEventTouch.call(this, handleUp);\n    attachUpEventMouse.call(this, handleUp);\n}\n\n\nfunction attachUpEventTouch(this: BasicHandler, handleUp: TBasicHandler) {\n    const { element, deviceHandlers } = this;\n    const handler = (evt: ITouchEvent) => {\n        if (!this.checkPointerType(\"touch\")) return;\n        for (const touch of evt.changedTouches) {\n            handleUp({\n                x: touch.clientX,\n                y: touch.clientY,\n                index: this.fingers.getIndex(touch.identifier),\n                buttons: 1,\n                pointer: \"touch\",\n                clear: createClear(evt)\n            });\n            this.fingers.remove(touch.identifier)\n        }\n    };\n    deviceHandlers.touchend = handler;\n    element.addEventListener(\"touchend\", handler, false);\n}\n\n\nfunction attachUpEventMouse(this: BasicHandler, handleUp: TBasicHandler) {\n    const { element, deviceHandlers } = this;\n    const handler = (evt: IMouseEvent) => {\n        if (!this.checkPointerType(\"mouse\")) return;\n        handleUp({\n            x: evt.clientX,\n            y: evt.clientY,\n            index: 0,\n            buttons: evt.buttons,\n            pointer: \"mouse\",\n            clear: createClear(evt)\n        });\n    };\n    deviceHandlers.mouseup = handler;\n    element.addEventListener(\"mouseup\", handler, false);\n}\n\n\n\n\nfunction attachMoveEvent(this: BasicHandler, handleMove: TBasicHandler) {\n    attachMoveEventTouch.call(this, handleMove);\n    attachMoveEventMouse.call(this, handleMove);\n}\n\n\nfunction attachMoveEventTouch(this: BasicHandler, handleMove: TBasicHandler) {\n    const { element, deviceHandlers } = this;\n    const handler = (evt: ITouchEvent) => {\n        if (!this.checkPointerType(\"touch\")) return;\n        for (const touch of evt.changedTouches) {\n            handleMove({\n                x: touch.clientX,\n                y: touch.clientY,\n                index: this.fingers.getIndex(touch.identifier),\n                buttons: 1,\n                pointer: \"touch\",\n                clear: createClear(evt)\n            });\n            this.fingers.remove(touch.identifier)\n        }\n    };\n    deviceHandlers.touchmove = handler;\n    element.addEventListener(\"touchmove\", handler, false);\n}\n\n\nfunction attachMoveEventMouse(this: BasicHandler, handleMove: TBasicHandler) {\n    const { element, deviceHandlers } = this;\n    const handler = (evt: IMouseEvent) => {\n        if (!this.checkPointerType(\"mouse\")) return;\n        handleMove({\n            x: evt.clientX,\n            y: evt.clientY,\n            index: 0,\n            buttons: evt.buttons,\n            pointer: \"mouse\",\n            clear: createClear(evt)\n        });\n    };\n    deviceHandlers.mousemove = handler;\n    element.addEventListener(\"mousemove\", handler, false);\n}\n\n\nfunction createClear(evt) {\n    return () => {\n        evt.preventDefault();\n        evt.stopPropagation();\n    }\n}\n","/**\n * Here is the list of all parameters used if all the handlers.\n *\n * tap({ x: number, y: number, index: number })\n *\n */\n\nimport Moves from \"./gesture/moves\"\nimport BasicHandler from \"./gesture/basic-handler\"\nimport { IBasicEvent } from \"./gesture/basic-handler.types\"\n\nconst SYMBOL = Symbol(\"gesture\");\n\nlet ID = 0;\n\ntype TGestureName = \"tap\" | \"down\" | \"up\"\n    | \"pan\" | \"pandown\" | \"panup\" | \"panvertical\"\n    | \"swipe\" | \"swipedown\" | \"swipeup\" | \"swipevertical\"\n    | \"swipeleft\";\ntype TEventName = \"keydown\" | \"keyup\";\ntype THandlers = {\n    [key: TGestureName | TEventName]: (event: IEvent) => void;\n};\n\ninterface IEvent {\n    preventDefault: () => void;\n    stopPropagation: () => void;\n    target: HTMLElement;\n    x?: number;\n    y?: number;\n}\n\ninterface IInternalEvent {\n    x?: number;\n    y?: number;\n    event: PointerEvent;\n}\n\ninterface IPointer {\n    isDown: boolean;\n    moves: Moves;\n    rect: {\n        left: number;\n        top: number;\n        width: number;\n        height: number;\n    };\n    type: string | null;\n    time: number;\n    id: number;\n}\n\nconst STANDARD_EVENTS = [\"keydown\", \"keyup\"];\n\nclass Gesture {\n    private readonly basicHandler: BasicHandler;\n    private handlers: THandlers;\n    private element: HTMLElement;\n    private readonly pointers: IPointer[];\n    private readonly id: number;\n\n    constructor(private elem: HTMLElement) {\n        elem[SYMBOL] = this;\n        this.id = ID++;\n        this.element = elem;\n        this.handlers = {};\n        this.basicHandler = new BasicHandler(\n            elem,\n            this.handleDown.bind(this),\n            this.handleUp.bind(this),\n            this.handleMove.bind(this)\n        )\n        this.pointers = new Array(3);\n    }\n\n    get identifier() { return this.id; }\n\n    on(handlers: THandlers) {\n        this.handlers = Object.assign(this.handlers, handlers);\n        Object.keys(this.handlers).forEach(eventName => {\n            if (STANDARD_EVENTS.indexOf(eventName) === -1) return;\n            // This is a non-pointer event. (i.e., keyboard, resize, ...)\n            this.element.addEventListener(eventName, this.handlers[eventName], false);\n        });\n    }\n\n    /**\n     * Check if a gesture has an handler attached.\n     *\n     * @param   {TGestureName[]}  gestureNames - Name of the gesture.\n     * @returns {boolean} true if the gesture is mapped to a handler.\n     */\n    hasHandlerFor(...gestureNames: TGestureName[]): boolean {\n        for (const gestureName of gestureNames) {\n            if (typeof this.handlers[gestureName] === 'function') return true;\n        }\n        return false;\n    }\n\n    private getPointer(index: number) {\n        const pointers = this.pointers;\n        if (typeof pointers[index] === 'undefined') {\n            pointers[index] = {\n                isDown: false,\n                moves: new Moves(0, 0),\n                rect: { left: 0, top: 0, width: 0, height: 0 }\n            }\n        }\n        return pointers[index];\n    }\n\n    private handleDown(event: IBasicEvent) {\n        // We want not deal with more than 3 simultaneous touches.\n        if (event.index > 2) return;\n\n        const { element } = this;\n        const ptr = this.getPointer(event.index);\n        ptr.isDown = true;\n        ptr.rect = element.getBoundingClientRect();\n        const x = event.x - ptr.rect.left;\n        const y = event.y - ptr.rect.top;\n        ptr.moves.init(x, y);\n\n        if (this.hasHandlerFor(\"down\")) {\n            this.handlers.down(Object.assign(event, { x, y }));\n        }\n    }\n\n    private handleUp(event: IBasicEvent) {\n        // We want not deal with more than 3 simultaneous touches.\n        if (event.index > 2) return;\n\n        const ptr = this.getPointer(event.index);\n        ptr.isDown = false;\n        const x = event.x - ptr.rect.left;\n        const y = event.y - ptr.rect.top;\n        ptr.moves.add(x, y);\n\n        if (this.hasHandlerFor(\"up\")) {\n            this.handlers.up(Object.assign(event, { x, y }));\n        }\n        this.recognizeTap(event, ptr);\n        this.recognizeSwipe(event, ptr);\n    }\n\n    private handleMove(event: IBasicEvent) {\n        // We want not deal with more than 3 simultaneous touches.\n        if (event.index > 2) return;\n\n        const ptr = this.getPointer(event.index);\n        const x = event.x - ptr.rect.left;\n        const y = event.y - ptr.rect.top;\n        ptr.moves.add(x, y);\n        this.recognizePan(event, ptr);\n    }\n\n    private recognizeTap(evt: IBasicEvent, ptr: IPointer) {\n        // A tap is recognized only if there is less than 400ms\n        // between down and up, and if the pointer has not moves more\n        // than 16px.\n        if (!this.hasHandlerFor(\"tap\") || ptr.moves.elapsedTime > 400) return;\n        const moves = ptr.moves;\n        const dx = Math.abs(moves.x - moves.startX);\n        if (dx > 16) return;\n        const dy = Math.abs(moves.y - moves.startY);\n        if (dy > 16) return;\n\n        evt.clear();\n        this.handlers.tap(Object.assign(evt, { x: moves.x, y: moves.y }));\n    }\n\n    private recognizePan(evt: IBasicEvent, ptr: IPointer) {\n        if (!ptr.isDown) return;\n        this.recognizePanDown(evt, ptr);\n        this.recognizePanUp(evt, ptr);\n        if (this.hasHandlerFor(\"pan\")) {\n            const { x, y, startX, startY } = ptr.moves;\n            this.handlers.pan(Object.assign(evt, { x, y, startX, startY }));\n        }\n    }\n\n    private recognizePanDown(evt: IBasicEvent, ptr: IPointer) {\n        if (!this.hasHandlerFor(\"pandown\", \"panvertical\")) return;\n\n        // Check that we are panning down.\n        const moves = ptr.moves;\n        const sx = Math.abs(moves.speedX);\n        const sy = moves.speedY;\n        if (sy < sx) return;\n        // Check that the final point is beneath the initial one.\n        const dx = Math.abs(moves.x - moves.startX);\n        const dy = moves.y - moves.startY;\n        if (dy < dx) return;\n\n        if (this.hasHandlerFor(\"pandown\")) {\n            this.handlers.pandown(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n        if (this.hasHandlerFor(\"panvertical\")) {\n            this.handlers.panvertical(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n    }\n\n    private recognizePanUp(evt: IBasicEvent, ptr: IPointer) {\n        if (!this.hasHandlerFor(\"panup\", \"panvertical\")) return;\n\n        // Check that we are panning up.\n        const moves = ptr.moves;\n        const sx = Math.abs(moves.speedX);\n        const sy = -moves.speedY;\n        if (sy < sx) return;\n        // Check that the final point is beneath the initial one.\n        const dx = Math.abs(moves.x - moves.startX);\n        const dy = moves.startY - moves.y;\n        if (dy < dx) return;\n\n        if (this.hasHandlerFor(\"panup\")) {\n            this.handlers.panup(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n        if (this.hasHandlerFor(\"panvertical\")) {\n            this.handlers.panvertical(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n    }\n\n    private recognizeSwipe(evt: IBasicEvent, ptr: IPointer) {\n        this.recognizeSwipeDown(evt, ptr);\n        this.recognizeSwipeUp(evt, ptr);\n        this.recognizeSwipeLeft(evt, ptr);\n        if (this.hasHandlerFor(\"swipe\")) {\n            const { x, y, startX, startY } = ptr.moves;\n            this.handlers.swipe(Object.assign(evt, { x, y, startX, startY }));\n        }\n    }\n\n    private recognizeSwipeDown(evt: IBasicEvent, ptr: IPointer) {\n        if (!this.hasHandlerFor(\"swipedown\", \"swipevertical\")) return;\n\n        // Check that we are panning down.\n        const moves = ptr.moves;\n        const sx = Math.abs(moves.speedX);\n        const sy = moves.speedY;\n        if (sy < sx) return;\n        // Check that the final point is beneath the initial one.\n        const dx = Math.abs(moves.x - moves.startX);\n        const dy = moves.y - moves.startY;\n        if (dy < dx) return;\n        // Minimal speed for swipe: 100 pixels/second.\n        const speed = dy / moves.elapsedTime;\n        if (speed < 0.1) return;\n        if (this.hasHandlerFor(\"swipedown\")) {\n            this.handlers.swipedown(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n        if (this.hasHandlerFor(\"swipevertical\")) {\n            this.handlers.swipevertical(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n    }\n\n    private recognizeSwipeUp(evt: IBasicEvent, ptr: IPointer) {\n        if (!this.hasHandlerFor(\"swipeup\", \"swipevertical\")) return;\n\n        // Check that we are panning up.\n        const moves = ptr.moves;\n        const sx = Math.abs(moves.speedX);\n        const sy = moves.speedY;\n        if (sy < sx) return;\n        // Check that the final point is beneath the initial one.\n        const dx = Math.abs(moves.x - moves.startX);\n        const dy = moves.y - moves.startY;\n        if (dy < dx) return;\n        // Minimal speed for swipe: 100 pixels/second.\n        const speed = dy / moves.elapsedTime;\n        if (speed < 0.1) return;\n        if (this.hasHandlerFor(\"swipeup\")) {\n            this.handlers.swipeup(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n        if (this.hasHandlerFor(\"swipevertical\")) {\n            this.handlers.swipevertical(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n    }\n\n    private recognizeSwipeLeft(evt: IBasicEvent, ptr: IPointer) {\n        if (!this.hasHandlerFor(\"swipeleft\", \"swipehorizontal\")) return;\n\n        // Check that we are panning left.\n        const moves = ptr.moves;\n        const sx = -moves.speedX;\n        const sy = Math.abs(moves.speedY);\n        if (sx < sy) return;\n        // Check that the final point is beneath the initial one.\n        const dx = moves.startX - moves.x;\n        const dy = Math.abs(moves.y - moves.startY);\n        if (dx < dy) return;\n        // Minimal speed for swipe: 100 pixels/second.\n        const speed = dx / moves.elapsedTime;\n        if (speed < 0.1) return;\n        if (this.hasHandlerFor(\"swipeleft\")) {\n            this.handlers.swipeleft(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n        if (this.hasHandlerFor(\"swipehorizontal\")) {\n            this.handlers.swipehorizontal(Object.assign(evt, { x: moves.x, y: moves.y }));\n        }\n    }\n}\n\nexport default function(elem: HTMLElement): Gesture {\n    if (!elem[SYMBOL]) {\n        elem[SYMBOL] = new Gesture(elem);\n    }\n    return elem[SYMBOL];\n}\n","const EMPTY_FUNCTION = () => { };\n\ntype TFunction = () => void;\n\n\nexport default function castBoolean(value: any, defaultValue: TFunction = EMPTY_FUNCTION): TFunction {\n    if (typeof value === 'function') return value;\n    return defaultValue;\n}\n","import Gesture from \"../gesture\"\nimport Theme from \"../theme\"\nimport castString from \"../converter/string\"\nimport castBoolean from \"../converter/boolean\"\nimport castFunction from \"../converter/function\"\nimport \"./touchable.css\"\n\ninterface IArgs {\n    element?: HTMLElement;\n    enabled?: boolean;\n    color?: string;\n    onTap?: () => void;\n}\n\ninterface IRect {\n    left: number;\n    top: number;\n    width: number;\n    height: number;\n}\n\nexport default class Touchable {\n    _element: HTMLElement | undefined;\n    _enabled: boolean = true;\n    color: string = \"#000\";\n    onTap: () => void;\n\n    constructor(args: IArgs) {\n        this.element = args.element;\n        this.enabled = castBoolean(args.enabled, true);\n        this.color = castString(args.color, \"#000\");\n        this.onTap = castFunction(args.onTap);\n    }\n\n    fire(evt) {\n        if (!this.enabled) return;\n\n        const handler = this.onTap;\n        if (typeof handler === 'function') {\n            handler(evt);\n        }\n    }\n\n    get enabled() { return this._enabled; }\n    set enabled(value: boolean) { this._enabled = value; }\n\n    get element() { return this._element; }\n    set element(element: HTMLElement | undefined) {\n        const that = this;\n        if (typeof element === 'undefined') return;\n        Gesture(element).on({\n            keydown(evt) {\n                if (!that.enabled) return;\n\n                const key = evt.key;\n                if (key === \" \" || key === \"Enter\") {\n                    evt.preventDefault();\n                    evt.stopPropagation();\n                    that.fire();\n                }\n            },\n\n            down(evt) {\n                if (!that.enabled) return;\n\n                const rect = element.getBoundingClientRect();\n                const style = window.getComputedStyle(element);\n                const screen = createScreen(rect);\n                screen.style.borderRadius = style.getPropertyValue(\"border-radius\");\n                const x = evt.x || 0;\n                const y = evt.y || 0;\n                const w = Math.max(x, rect.width - x);\n                const h = Math.max(y, rect.height - y);\n                const radius = Math.ceil(1.1 * Math.sqrt(w * w + h * h));\n                const ripple = document.createElement(\"div\");\n                screen.appendChild(ripple);\n                ripple.style.left = `${x - radius}px`;\n                ripple.style.top = `${y - radius}px`;\n                ripple.style.width = `${2 * radius}px`;\n                ripple.style.height = `${2 * radius}px`;\n                that.color = Theme.isDark() ? \"#fff\" : \"#000\";\n                ripple.style.background = that.color;\n                window.setTimeout(() => ripple.className = \"open\");\n                window.setTimeout(() => document.body.removeChild(screen), 500);\n            },\n            tap(evt) {\n                that.fire(evt);\n            }\n        })\n    }\n}\n\n\nfunction createScreen(rect: IRect) {\n    const div = document.createElement(\"div\");\n    div.className = \"tfw-behavior-touchable\";\n    div.style.left = `${rect.left}px`;\n    div.style.top = `${rect.top}px`;\n    div.style.width = `${rect.width}px`;\n    div.style.height = `${rect.height}px`;\n    document.body.appendChild(div);\n    return div;\n}\n","import * as React from \"react\"\nimport Icon from \"./icon\"\nimport \"./button.css\"\nimport Touchable from \"../behavior/touchable\"\nimport castArray from \"../converter/array\"\nimport castString from \"../converter/string\"\nimport castBoolean from \"../converter/boolean\"\n\ninterface IButtonProps {\n    label?: string;\n    icon?: string;\n    wide?: boolean;\n    wait?: boolean;\n    flat?: boolean;\n    small?: boolean;\n    warning?: boolean;\n    enabled?: boolean;\n    classes?: string[] | string;\n    tag?: any;\n    onClick?: (tag: any) => void;\n}\n\nexport default class Button extends React.Component<IButtonProps, {}> {\n    readonly touchable: Touchable;\n    readonly ref: React.RefObject<HTMLButtonElement>;\n\n    constructor(props: IButtonProps) {\n        super(props);\n        this.handleClick = this.handleClick.bind(this);\n        this.touchable = new Touchable({ onTap: this.handleClick });\n        this.ref = React.createRef();\n    }\n\n    componentDidMount() {\n        const element = this.ref.current;\n        if (!element) return;\n        this.touchable.element = element;\n    }\n\n    handleClick() {\n        const slot = this.props.onClick;\n        if (typeof slot !== 'function') return;\n        slot(this.props.tag);\n    }\n\n    render() {\n        const p = this.props,\n            label = castString(p.label, \"\"),\n            icon = castString(p.icon, \"\"),\n            wide = castBoolean(p.wide, false),\n            wait = castBoolean(p.wait, false),\n            flat = castBoolean(p.flat, false),\n            small = castBoolean(p.small, false),\n            enabled = !wait && castBoolean(p.enabled, true),\n            warning = castBoolean(p.warning, false),\n            classes = [\"tfw-view-button\"].concat(castArray(p.classes));\n        if (wide) classes.push(\"wide\");\n        if (flat) {\n            classes.push(\"flat\");\n            classes.push(warning ? \"thm-fgS\" : \"thm-fgP\");\n        }\n        else {\n            if (enabled) classes.push(\"thm-ele-button\");\n            classes.push(warning ? \"thm-bgS\" : \"thm-bgP\");\n        }\n        if (small) classes.push(\"small\");\n        if (label.length === 0) classes.push(\"floating\");\n\n        this.touchable.enabled = enabled;\n        return (\n            <button ref={this.ref}\n                className={classes.join(\" \")}\n                disabled={!enabled}>\n                {icon.length > 0\n                    ? <Icon content={icon}\n                        animate={wait}\n                        size={`${small ? 20 : 28}px`} />\n                    : null}\n                {label.length > 0\n                    ? <div className=\"text\" > {label} </div>\n                    : null}\n            </button>);\n    }\n}\n","import React from \"react\"\nimport castArray from \"../converter/array\"\nimport castString from \"../converter/string\"\nimport castBoolean from \"../converter/boolean\"\nimport Button from \"../view/button\"\nimport Gesture from \"../gesture\"\nimport \"./sidemenu.css\"\n\ninterface ISidemenuProps {\n    show?: boolean;\n    head?: string;\n    menu?: React.ReactElement<HTMLDivElement>;\n    body?: React.ReactElement<HTMLDivElement>;\n    classes?: string[] | string;\n    onShowChange?: (isMenuVisible: boolean) => void;\n}\n\nexport default class Sidemenu extends React.Component<ISidemenuProps, {}> {\n    refMenu = React.createRef<HTMLDivElement>();\n\n    constructor(props: ISidemenuProps) {\n        super(props);\n        this.handleShowChange = this.handleShowChange.bind(this);\n    }\n\n    componentDidMount() {\n        const menu = this.refMenu.current;\n        if (!menu) return;\n        Gesture(menu).on({\n            swipeleft: () => {\n                const handler = this.props.onShowChange;\n                if (typeof handler === 'function') handler(false);\n            }\n        });\n    }\n    handleShowChange() {\n        const handler = this.props.onShowChange;\n        if (typeof handler !== 'function') return;\n        handler(!castBoolean(this.props.show, window.innerWidth > 480));\n    }\n\n    render() {\n        const show = castBoolean(this.props.show, window.innerWidth > 480);\n        const head = castString(this.props.head, \"\");\n        const classes = [\"tfw-layout-sidemenu thm-bg0\"].concat(castArray(this.props.classes));\n        if (show) classes.push(\"show\");\n\n        return (\n            <div className={classes.join(\" \")} >\n                <div className=\"body thm-bg0\" >{this.props.body}</div>\n                <div className=\"menu thm-ele-nav thm-bg1\" ref={this.refMenu}>\n                    <header className=\"thm-ele-nav thm-bgPD\" >{head}</header>\n                    <menu> {this.props.menu} </menu>\n                </div>\n                <div className=\"icon thm-bgPD\" >\n                    <Button icon=\"menu\" flat={true} onClick={this.handleShowChange} />\n                </div>\n            </div>\n        );\n    }\n}\n","/**\n * The ESCAPE key is often used to close a dialog, collapse a combo list, ...\n * This module helps you nesting closable things.\n *\n * @example\n * import * from EscapeHandler from \"./tfw/escape-handler\"\n * EscapeHandler.add(() => myDialog.close());\n * EscapeHandler.fire();\n */\n\nexport default {add, fire};\n\ntype THandler = ()=>void;\n\nlet handlers:THandler[] = [];\nlet initialized = false;\n\nexport function add(listener: THandler) {\n    if( !initialized) {\n        initialized = true;\n        addKeyboardListener();\n    }\n\n    handlers.push(listener);\n}\n\nexport function fire() {\n    if( handlers.length === 0 ) return;\n    const handler = handlers.pop();\n    handler();\n}\n\nfunction addKeyboardListener() {\n    document.addEventListener(\"keydown\", evt => {\n        if( evt.key !== 'Escape') return;\n        fire();\n    }, true);\n}\n","import * as React from \"react\"\nimport \"./combo.css\"\nimport castString from \"../converter/string\"\nimport castBoolean from \"../converter/boolean\"\nimport castStringArray from \"../converter/string-array\"\nimport Touchable from \"../behavior/touchable\"\nimport Icon from \"./icon\"\nimport Gesture from \"../gesture\"\nimport EscapeHandler from \"../escape-handler\"\n\ninterface IComboProps {\n    label?: string;\n    value?: string;\n    keys?: string[];\n    wide?: boolean;\n    onChange?: (value: string) => void;\n    children: React.ReactElement<any>[];\n}\n\nexport default class Combo extends React.Component<IComboProps, {}> {\n    readonly touchable: Touchable;\n\n    ref = React.createRef<HTMLDivElement>()\n    list = React.createRef<HTMLDivElement>()\n    button = React.createRef<HTMLDivElement>()\n\n    bigList: HTMLElement | undefined;\n\n    keys: string[] = []\n    selectedKey: string = \"\"\n    selectedIndex: number = -1\n\n    constructor(props: IComboProps) {\n        super(props);\n        this.handleClick = this.handleClick.bind(this);\n        this.touchable = new Touchable({ onTap: this.handleClick });\n    }\n\n    handleClick(event: React.MouseEvent) {\n        console.info(\"tap combo =>\", event);\n        this.expand();\n    }\n\n    /**\n     * If there are only two items, we don't open the list: we just swap them.\n     */\n    _swapItems() {\n        // With two items, clicking will immediatly switch to the next one.\n        for (const key of this.keys) {\n            if (this.props.value !== key) {\n                const slot = this.props.onChange;\n                if (typeof slot === 'function') {\n                    slot(key);\n                }\n                return;\n            }\n        }\n    }\n\n    _computeDimensions(list: HTMLElement, button: HTMLElement): { left: number, top: number, width: number, height: number } {\n        let { left, top, height } = list.getBoundingClientRect();\n        const { width } = button.getBoundingClientRect();\n        height = Math.min(height, window.innerHeight - 32);\n        if (top + height > window.innerHeight) {\n            top -= 32 * Math.ceil(window.innerHeight - top - height / 32);\n        }\n        if (top < 0) {\n            top += 32 * Math.ceil(-top / 32);\n        }\n        return { left, top, width, height };\n    }\n\n    _showList(list: HTMLElement, button: HTMLElement, left: number, top: number, width: number, height: number): { screen: HTMLElement, bigList: HTMLElement } {\n        const screen = document.createElement(\"div\");\n        screen.className = \"tfw-view-combo-screen\";\n        const bigList = document.createElement(\"div\");\n        bigList.className = \"thm-ele-nav thm-bg3\";\n        bigList.innerHTML = list.innerHTML;\n\n        bigList.style.top = `${top}px`;\n        bigList.style.left = `${left}px`;\n        bigList.style.width = `${width}px`;\n        bigList.style.height = `${height}px`;\n        screen.appendChild(bigList);\n        document.body.appendChild(screen);\n\n        this.bigList = bigList;\n        return { screen, bigList };\n    }\n\n    _ensureSelectionVisible() {\n        let index = 0;\n        const bigList: HTMLElement | undefined = this.bigList;\n        if (!bigList) return;\n        const items = bigList.querySelectorAll(\"div.item\");\n        for (const key of this.keys) {\n            const item = items[index];\n            if (key === this.selectedKey) {\n                const rect = bigList.getBoundingClientRect();\n                bigList.scrollTop = (32 * index) - rect.height / 2;\n                this.selectedIndex = index;\n                item.classList.add(\"thm-bgSL\");\n            } else {\n                item.classList.remove(\"thm-bgSL\");\n            }\n            index++;\n        }\n    }\n\n    _handleKeyboard(event: React.KeyboardEvent) {\n        switch (event.key) {\n            case \"ArrowDown\":\n                this.selectedIndex++;\n                this.selectedKey = this.keys[this.selectedIndex % this.keys.length];\n                this._ensureSelectionVisible();\n                event.preventDefault();\n                event.stopPropagation();\n                return;\n            case \"ArrowUp\":\n                this.selectedIndex = (this.selectedIndex + this.keys.length - 1) % this.keys.length;\n                this.selectedKey = this.keys[this.selectedIndex];\n                this._ensureSelectionVisible();\n                event.preventDefault();\n                event.stopPropagation();\n                return;\n            case \"Enter\":\n            case \" \":\n                const slot = this.props.onChange;\n                if (typeof slot === 'function') {\n                    slot(this.selectedKey);\n                }\n                EscapeHandler.fire();\n                event.preventDefault();\n                event.stopPropagation();\n                return;\n        }\n        console.log(\">>\", event.key);\n    }\n\n    expand() {\n        if (this.keys.length < 3) {\n            this._swapItems();\n            return;\n        }\n\n        const list = this.list.current;\n        const button = this.button.current;\n        if (!list || !button) return;\n\n        const { left, top, width, height } = this._computeDimensions(list, button);\n        const { screen, bigList } = this._showList(list, button, left, top, width, height);\n        this.selectedKey = this.props.value || \"\";\n        window.setTimeout(() => this._ensureSelectionVisible(bigList), 10);\n\n        const handleKeyboard = this._handleKeyboard.bind(this);\n        document.addEventListener(\"keydown\", handleKeyboard, true);\n        EscapeHandler.add(() => {\n            document.body.removeChild(screen)\n            document.removeEventListener(\"keydown\", handleKeyboard, true);\n        });\n        Gesture(screen).on({ tap: () => {\n            console.log(\"EscapeHandler\");\n            EscapeHandler.fire()\n        }});\n        Gesture(bigList).on({\n            tap: evt => {\n                console.info(\"tap bigList =>\", evt);\n                if (!evt || typeof evt.y === 'undefined') return;\n                const scroll = bigList.scrollTop;\n                const index = Math.floor((evt.y + scroll) / 32);\n                const value = this.keys[index];\n                EscapeHandler.fire()\n                requestAnimationFrame(() => {\n                    if (typeof this.props.onChange === 'function') {\n                        this.props.onChange(value)\n                    }\n                });\n            }\n        });\n    }\n\n    componentDidMount() {\n        const element = this.ref.current;\n        if (!element) return;\n        this.touchable.element = element;\n    }\n\n    render() {\n        const p = this.props;\n        const children = p.children;\n        const label = castString(p.label, \"\").trim();\n        const wide = castBoolean(p.wide, false);\n        const keys = ensureGoodKeys(p.keys, children);\n        const value = castString(p.value, keys[0]);\n        const classes = [\"tfw-view-combo\", \"thm-bg3\", \"thm-ele-button\"];\n        const items = children.map(item => {\n            const key = item.key;\n            return (<div className=\"item\" key={key} > {item} </div>);\n        });\n\n        if (wide) classes.push(\"wide\");\n\n        this.keys = keys;\n\n        const index = getIndex(keys, value);\n\n        return (\n            <button ref={this.ref} className={classes.join(\" \")}>\n                {label.length > 0 ? <header className=\"thm-bgPD\">{label}</header> : null}\n                <div ref={this.button} className=\"button\">\n                    <div className=\"list-container\"\n                        style={{\n                            transform: `translateY(-${32 * index}px)`\n                        }}>\n                        <div ref={this.list} className=\"tfw-view-combo-list\" >{items}</div>\n                    </div>\n                    <div className=\"icon\" >\n                        <Icon size=\"24px\" content=\"down\" />\n                    </div>\n                </div>\n            </button>\n        );\n    }\n}\n\nfunction getIndex(keys: string[], value: string) {\n    const index = keys.indexOf(value);\n    return Math.max(0, index);\n}\n\n/**\n * Keys must be non empty strings. If a key is not defined, it will take its index (stringified) as value.\n * And if a \"key\" its defined on a child, it will take precedence on anything else.\n *\n* @param  {string[]} keys\n* @param  {ReactElement[]} children\n          *\n* @return {string[]}\n*/\nfunction ensureGoodKeys(keys: string[] | undefined, children: React.ReactElement<any>[]): string[] {\n    const goodKeys: string[] = castStringArray(keys, []);\n    const minimalLength: number = children.length;\n\n    while (goodKeys.length < minimalLength) {\n        goodKeys.push(`${goodKeys.length}`);\n    }\n    for (let k = 0; k < goodKeys.length; k++) {\n        if (goodKeys[k].trim().length === 0) {\n            goodKeys[k] = `${k}`;\n        }\n    }\n    children.forEach((child, index) => {\n        const key = child.key;\n        if (typeof key === \"string\") {\n            goodKeys[index] = key;\n        } else {\n            child.key = goodKeys[index];\n        }\n    });\n\n    return goodKeys;\n}\n\n\nfunction onTap(elem: HTMLElement, handler: () => void) {\n    const slot = (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        elem.removeEventListener(\"mousedown\", slot);\n        elem.removeEventListener(\"touchdown\", slot);\n        handler();\n    };\n    elem.addEventListener(\"mousedown\", slot, false);\n    elem.addEventListener(\"touchdown\", slot, false);\n}\n","import castString from \"./string\";\n\n/**\n * If `value` is not an array, return `defaultArray`.\n * Else if `defaultString` is undefined, return `value`.\n * Else return a copy of `value` with a castString on all its elements.\n *\n * @param   value         [description]\n * @param   defaultArray  [description]\n * @param   defaultString [description]\n * @returns               [description]\n */\nexport default function castStringArray(\n    value: any, defaultArray: string[] = [], defaultString: string = \"\"\n) {\n    if (!Array.isArray(value)) return defaultArray;\n    if (typeof defaultString === 'undefined') return value;\n    return value.map(item => castString(item, defaultString));\n}\n","type Action<T> = (arg: T) => void;\n\n/**\n * @param {function} action -  Action to call. Two consecutive actions cannot be  called if there is\n * less than `delay` ms between them.\n * @param {number} delay - Number of milliseconds.\n * @returns {function} The function to call as much as you want. It will perform the debouce for you.\n * Put in the same args as the `action` function.\n */\nexport default function <T>(action: Action<T>, delay: number): Action<T> {\n    let timer: number = 0;\n\n    return function(arg: T) {\n        if (timer) window.clearTimeout(timer);\n        timer = window.setTimeout(() => {\n            timer = 0;\n            action(arg);\n        }, delay) as number;\n    }\n}\n","import * as React from \"react\"\nimport \"./list.css\"\nimport Debouncer from \"../debouncer\";\nimport Button from \"./button\"\nimport castUnit from \"../converter/unit\"\nimport castBoolean from \"../converter/boolean\"\nimport castInteger from \"../converter/integer\"\nimport Gesture from \"../gesture\"\n\ninterface IListProps {\n    items: any[];\n    mapper: (item: any) => React.ReactElement;\n    itemHeight?: number;\n    width?: string;\n    height?: string;\n    animateRefresh?: boolean;\n    onRefreshAsked?: () => void;\n}\n\ninterface IListState {\n    items: any[];\n}\n\nexport default class List extends React.Component<IListProps, IListState> {\n    private readonly refMain: React.RefObject<HTMLDivElement>;\n    private readonly refHead: React.RefObject<HTMLDivElement>;\n    private readonly refBody: React.RefObject<HTMLDivElement>;\n    private readonly refTail: React.RefObject<HTMLDivElement>;\n    private lastFirstItemIndex: number;\n    private lastVisibleItemsCount: number;\n    private lastItemsArray: any[];\n    private itemHeight: number = 36;\n\n    constructor(props: IListProps) {\n        super(props);\n        this.refMain = React.createRef();\n        this.refHead = React.createRef();\n        this.refBody = React.createRef();\n        this.refTail = React.createRef();\n        this.onScroll = Debouncer(this.onScroll.bind(this), 30);\n        this.onPanDown = this.onPanDown.bind(this);\n        this.lastFirstItemIndex = -1;\n        this.lastVisibleItemsCount = -1;\n        this.lastItemsArray = [];\n        this.state = { items: [] };\n    }\n\n    onPanDown() {\n        const main = this.refMain.current;\n        if (!main) return;\n        if (main.scrollTop > 0) return;\n\n        const onRefresh = this.props.onRefreshAsked;\n        if (typeof onRefresh !== 'function') return;\n        onRefresh();\n    }\n\n    onScroll(evt: any = null): void {\n        const main = this.refMain.current;\n        const head = this.refHead.current;\n        const body = this.refBody.current;\n        const tail = this.refTail.current;\n        if (!main || !head || !body || !tail) return;\n\n        if (this.props.animateRefresh) main.scrollTop = 0;\n\n        const rect = main.getBoundingClientRect();\n        const top = Math.floor(main.scrollTop);\n        const height = Math.floor(rect.height);\n        const itemsCount = this.props.items.length;\n        const firstItemIndex = Math.min(\n            itemsCount, Math.floor(top / this.itemHeight));\n        const visibleItemsCount = Math.min(\n            itemsCount - firstItemIndex,\n            1 + Math.ceil(height / this.itemHeight)\n        );\n        const tailCount = this.props.items.length - firstItemIndex - visibleItemsCount;\n\n        head.style.height = `${this.itemHeight * firstItemIndex}px`;\n        body.style.height = `${this.itemHeight * visibleItemsCount}px`;\n        tail.style.height = `${this.itemHeight * tailCount}px`;\n\n        main.scrollTop = top;\n\n        if (this.lastFirstItemIndex !== firstItemIndex\n            || this.lastVisibleItemsCount !== visibleItemsCount) {\n            this.lastFirstItemIndex = firstItemIndex;\n            this.lastVisibleItemsCount = visibleItemsCount;\n            this.setState({\n                items: this.props.items.slice(firstItemIndex, firstItemIndex + visibleItemsCount)\n            });\n        }\n\n        // Resize background image for head and tail.\n        const backgroundSize = `${main.clientWidth}px ${this.itemHeight}px`;\n        head.style.backgroundSize = backgroundSize;\n        tail.style.backgroundSize = backgroundSize;\n    }\n\n    componentDidMount() {\n        window.addEventListener(\"resize\", this.onScroll, false);\n        const main = this.refMain.current;\n        if (!main) return;\n        Gesture(main).on({\n            pandown: evt => {\n                if (main.scrollTop > 0) return;\n                evt.clear();\n                main.classList.add(\"animate-refresh\");\n            },\n            swipedown: evt => {\n                if (main.scrollTop > 0) return;\n                evt.clear();\n                this.onPanDown();\n            },\n            up: () => main.classList.remove(\"animate-refresh\")\n        });\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"resize\", this.onScroll, false);\n    }\n\n    render() {\n        this.itemHeight = castInteger(this.props.itemHeight, 36);\n        if (this.lastItemsArray !== this.props.items) {\n            this.lastVisibleItemsCount = -1;\n            this.lastItemsArray = this.props.items;\n        }\n        this.onScroll();\n\n        if (typeof this.props.mapper !== 'function') {\n            console.error(\"props =\", this.props);\n            throw Error(`<List mapper=\"...\" ...> Attribute mapper must be a function which returns a ReactElement!`);\n        }\n        let children = null;\n        try {\n            children = this.state.items\n                .map(this.props.mapper)\n                .map(content => (\n                    <div className=\"item\" key={content.key}\n                        style={{\n                            height: `${this.itemHeight}px`,\n                            minHeight: `${this.itemHeight}px`,\n                            maxHeight: `${this.itemHeight}px`\n                        }}>{content}</div >\n                ));\n        }\n        catch (ex) {\n            throw Error(`<List mapper=\"...\" ...> Attribute mapper returns an exception:\\n${ex}`);\n        }\n\n        const width = castUnit(this.props.width, \"auto\");\n        const height = castUnit(this.props.height, \"auto\");\n        const animateRefresh = castBoolean(this.props.animateRefresh, false);\n        const classes = [\"tfw-view-list\", \"thm-bg2\"];\n        if (animateRefresh) classes.push(\"animate-refresh\", \"refreshing\");\n\n        return (\n            <div className={classes.join(\" \")}\n                style={{ width, height }}\n                onScroll={this.onScroll}\n                ref={this.refMain}>\n                <div className=\"space\" ref={this.refHead} />\n                <div className=\"body\" ref={this.refBody}>{\n                    children\n                }</div>\n                <div className=\"space\" ref={this.refTail} />\n                <div className=\"screen\">\n                    <Button icon=\"refresh\" wait={true} />\n                </div>\n            </div>\n        );\n    }\n}\n","import * as React from \"react\";\nimport Touchable from \"../behavior/touchable\"\nimport \"./checkbox.css\";\n\nimport castString from \"../converter/string\"\nimport castBoolean from \"../converter/boolean\"\n\n\ninterface IBooleanSlot {\n    (value: boolean): void;\n}\n\ninterface ICheckboxProps {\n    value?: boolean;\n    label?: string;\n    wide?: boolean;\n    reverse?: boolean;\n    onChange?: IBooleanSlot\n}\n\nexport default class Checkbox extends React.Component<ICheckboxProps, {}> {\n    readonly touchable: Touchable;\n    readonly ref;\n\n    constructor(props: ICheckboxProps) {\n        super(props);\n        this.handleChange = this.handleChange.bind(this);\n        this.touchable = new Touchable({ onTap: this.handleChange });\n        this.ref = React.createRef();\n    }\n\n    componentDidMount() {\n        const button = this.ref.current;\n        if (button) this.touchable.element = button;\n    }\n\n    private handleChange(): void {\n        const slot = this.props.onChange;\n        if (typeof slot === 'function') {\n            const value = castBoolean(this.props.value, false);\n            slot(!value);\n        }\n    }\n\n    render() {\n        const label = castString(this.props.label, \"\");\n        const value = castBoolean(this.props.value, false);\n        const wide = castBoolean(this.props.wide, false);\n        const reverse = castBoolean(this.props.reverse, false);\n        const classes = [\"tfw-view-checkbox\"];\n        if (value) classes.push(\"ok\");\n        if (wide) classes.push(\"wide\");\n        if (reverse) classes.push(\"reverse\");\n\n        return (<button ref={this.ref} className={classes.join(\" \")} >\n            <div className=\"pin\" >\n                <div className={`thm-ele-button bar ${value ? \"thm-bgSL\" : \"thm-bg1\"}`}> </div>\n                <div className={`thm-ele-button btn ${value ? \"thm-bgS\" : \"thm-bg0\"}`\r\n                }> </div>\n            </div>\n            <label >{label}</label>\n        </button>);\n    }\n}\n","import * as React from \"react\"\nimport \"./Fieldset.css\"\n\ninterface IFieldsetProps {\n    label: string;\n    children: React.ReactElement<any>[] | React.ReactElement<any>;\n}\n\nexport default class Fieldset extends React.Component<IFieldsetProps, {}> {\n    render() {\n        return (\n            <fieldset className=\"thm-bg2\">\n                <legend className=\"thm-bgPD\">{this.props.label}</legend>\n                {this.props.children}\n            </fieldset>\n        )\n    }\n}\n","import * as React from \"react\"\nimport castArray from \"../converter/array\"\nimport castFunction from \"../converter/function\"\nimport castBoolean from \"../converter/boolean\"\nimport TouchableBehavior from \"../behavior/touchable\"\nimport \"./touchable.css\"\n\ninterface ITouchableProps {\n    enabled?: boolean;\n    onClick?: ()=>void;\n    classes?: string[];\n    children?: React.ReactElement<any>|React.ReactElement<any>[];\n}\n\nexport default class Touchable extends React.Component<ITouchableProps, {}> {\n    readonly touchable: TouchableBehavior;\n    private ref = React.createRef();\n\n    constructor(props: ITouchableProps) {\n        super(props);\n        this.handleClick = this.handleClick.bind(this);\n        this.touchable = new TouchableBehavior({onTap: this.handleClick});\n    }\n\n    componentDidMount() {\n        const element = this.ref.current;\n        if (!element) return;\n        this.touchable.element = element;\n    }\n\n    handleClick() {\n        const handler = this.props.onClick;\n        if( typeof handler === 'function') {\n            handler();\n        }\n    }\n\n    render() {\n        const p = this.props;\n        const enabled = castBoolean(p.enabled, true);\n        const classes = [\"tfw-view-touchable\"].concat(castArray(p.classes));\n        if( enabled ) classes.push(\"enabled\");\n        return <div ref={this.ref} tabIndex={0} className={classes.join(\" \")}>{\n            p.children\n        }</div>\n    }\n}\n","import * as React from \"react\"\nimport \"./word.css\"\n\nimport Touchable from \"../../tfw/view/touchable\"\n\ninterface IWordProps {\n    name: string;\n    occurences: number;\n    types: string[];\n    onClick?: (name: string) => void;\n}\n\nconst TYPES = [\n    \"noun\", \"adjective\", \"verb\", \"conjunction\", \"preposition\", \"adverb\"  //, \"interjection\"\n]\nexport default class Word extends React.Component<IWordProps, {}> {\n    render() {\n        const { name, occurences, types } = this.props;\n        return (<Touchable classes=\"word\">\n            <div className=\"types\">{\n                TYPES.map(t => (<div key={t} className={types.indexOf(t) === -1 ? 'grey' : t}>{\n                    t.charAt(0).toUpperCase()\n                }</div>))\n            }</div>\n            <div className=\"name\">{name}</div>\n            <div className=\"occ\">{occurences}</div>\n        </Touchable>);\n    }\n}\n","import * as React from \"react\"\nimport Icon from \"../tfw/view/icon\"\nimport Flex from \"../tfw/layout/flex\"\nimport List from \"../tfw/view/list\"\nimport Button from \"../tfw/view/button\"\nimport Checkbox from \"../tfw/view/checkbox\"\nimport Fieldset from \"../tfw/view/Fieldset\"\n\nimport Word from \"./list/word\"\n\nimport wordsListURL from \"../data/words-list.txt\"\n\ninterface IListState {\n    items: any[];\n    animateRefresh: boolean;\n}\n\nexport default class PageButton extends React.Component<{}, IListState> {\n    constructor(props: {}) {\n        super(props);\n        this.state = { items: [], animateRefresh: false };\n        this.refresh = this.refresh.bind(this);\n        window.setTimeout(this.refresh, 500);\n    }\n\n    refresh() {\n        this.setState({ animateRefresh: true });\n        window.setTimeout(() => {\n            fetch(wordsListURL)\n                .then(response => response.json())\n                .then(wordsList => this.setState({ items: shuffle(wordsList.map(wordMapper)), animateRefresh: false }))\n                .catch(err => console.error(\"Unable to load words list!\", err));\n        }, 1600);\n    }\n\n    sortByName() {\n        return this.state.items.slice().sort((a, b) => {\n            const wa = a.name;\n            const wb = b.name;\n            if (wa < wb) return -1;\n            if (wa > wb) return +1;\n            return 0;\n        })\n    }\n\n    sortByOccurences() {\n        return this.state.items.slice().sort((a, b) => {\n            const oa = a.occurences;\n            const ob = b.occurences;\n            if (oa < ob) return +1;\n            if (oa > ob) return -1;\n            return 0;\n        })\n    }\n\n    render() {\n        return (\n            <div className=\"page\">\n                <Flex alignItems=\"flex-start\">\n                    <List items={this.state.items}\n                        onRefreshAsked={this.refresh}\n                        width=\"40vw\"\n                        height=\"90vh\"\n                        animateRefresh={this.state.animateRefresh}\n                        itemHeight={48}\n                        mapper={item => {\n                            const { name, occurences, types } = item;\n                            return <Word key={name} name={name} occurences={occurences} types={types} />\n                        }} />\n                    <div>\n                        <p>Number of elements: <b>{this.state.items.length}</b></p>\n                        <Button label=\"Sort by word\"\n                            onClick={() => this.setState({\n                                items: this.sortByName()\n                            })} />\n                        <Button label=\"Sort by occurences\"\n                            onClick={() => this.setState({\n                                items: this.sortByOccurences()\n                            })} />\n                        <Checkbox label=\"Animate refresh\"\n                            value={this.state.animateRefresh}\n                            onChange={animateRefresh => this.setState({ animateRefresh })} />\n                        <hr />\n                        <Fieldset label=\"List\">\n                            <ul>\n                                <li><code>items</code> (array): Data for the list.</li>\n                                <li><code>mapper</code> (function): Takes an item (element of items) and returns a React Element.</li>\n                                <li><code>animateRefresh</code> (boolean): Show an animation you can use when you want to refresh the list (<i>default = false</i>).</li>\n                            </ul>\n                        </Fieldset>\n                    </div>\n                </Flex>\n            </div>\n        )\n    }\n}\n\nexport default interface IWord {\n    name: string;\n    occurences: number;\n    types: string[];\n}\n\nfunction wordMapper(item: any): IWord {\n    const [name, occurences, types] = item;\n    return { name, occurences, types: types.split(\",\") };\n}\n\nfunction shuffle(arr) {\n    for (let k = 0; k < arr.length; k++) {\n        const j = Math.floor(Math.random() * arr.length);\n        if (k === j) continue;\n        const tmp = arr[j];\n        arr[j] = arr[k];\n        arr[k] = tmp;\n    }\n    return arr;\n}\n","interface ITranslations {\n    [language: string]: { [key: string]: string }\n}\n\nlet gCurrentLanguage: string =\n    localStorage.getItem(\"CurrentLanguage\") || navigator.language.split(\"-\")[0];\n\nexport default class Intl {\n    constructor(private translations: ITranslations) { }\n\n    static make(translations: ITranslations) {\n        const instance = new Intl(translations);\n        return instance.translate.bind(instance);\n    }\n\n    static get lang() { return gCurrentLanguage; }\n\n    static set lang(_value: string) {\n        if (typeof _value !== 'string') return;\n        const value = _value.split(\"-\")[0];\n        gCurrentLanguage = value;\n        localStorage.setItem(\"CurrentLanguage\", value);\n    }\n\n    translate(item: string, ...params: string[]) {\n        try {\n            if (this.translations[gCurrentLanguage]) {\n                const translation = this.translations[gCurrentLanguage][item];\n                if (translation) return addParams(translation, params);\n            }\n\n            // If we don't find a translation in the current language,\n            // we look in the other languages.\n            const languages = Object.keys(this.translations);\n            for (const lang of languages) {\n                const vocabulary = this.translations[lang];\n                const translation = vocabulary[item];\n                if (typeof translation !== 'string') continue;\n                return addParams(translation, params);\n            }\n\n            console.error(`Missing translation for item \"${item}\"!`, params);\n            return \"\";\n        }\n        catch (ex) {\n            throw Error(`Error while looking for a translation of \"${item}\":\\n${ex}`);\n        }\n    }\n}\n\n// Used for the states automate in order to parse a translation\n// with placeholders.\nenum Mode { Text, Escape, Placeholder }\n\n/**\n * In a translation, you can find placeholders for potential params.\n * They are marked with a dollar and a digit from 1 to 9.\n * For instance: \"Welcome mister $1!\".\n *\n * Order doesn't matter and you can have several occurences of the same\n * placeholder.\n * For instance: \"Hello $2! Welcome into $1. $1 is the best...\".\n *\n * @param   {string} translation - A string which can own placeholders.\n * @param   {string[]} params - Array of replacements for placeholders.\n * @returns The transformed string.\n */\nfunction addParams(translation: string, params: string[]): string {\n    let output = '';\n    let mark = 0;\n    let mode: Mode = Mode.Text;\n    let paramIndex = -1;\n    let paramValue = '';\n\n    for (let index = 0; index < translation.length; index++) {\n        const c = translation.charAt(index);\n        switch (mode) {\n            case Mode.Text:\n                if (c === '\\\\') {\n                    mode = Mode.Escape;\n                    output += translation.substr(mark, index - mark);\n                    mark = index + 1;\n                }\n                else if (c === '$') {\n                    mode = Mode.Placeholder;\n                    output += translation.substr(mark, index - mark);\n                    mark = index + 2;\n                }\n                break;\n            case Mode.Escape:\n                mode = Mode.Text;\n                break;\n            case Mode.Placeholder:\n                mode = Mode.Text;\n                paramIndex = parseInt(c, 10);\n                if (isNaN(paramIndex))\n                    throw Error(`Parsing error at position ${index} for translation \"${translation}\"!\nEscape \"$\" if you don't want to use a placeholder.`);\n                paramValue = params[paramIndex - 1] || \"\";\n                output += paramValue;\n                break;\n            default:\n                mode = Mode.Text;\n        }\n    }\n\n    return output + translation.substr(mark);\n}\n","import * as React from \"react\"\nimport \"../theme.css\"\nimport \"./input.css\"\nimport castInteger from \"../converter/integer\"\nimport castBoolean from \"../converter/boolean\"\nimport castString from \"../converter/string\"\nimport Debouncer from \"../debouncer\"\n\nimport Intl from \"../intl\"\nconst _ = Intl.make(require(\"./input.yaml\"));\n\ninterface IStringSlot {\n    (value: string): void;\n}\n\ninterface IInputProps {\n    label?: string;\n    value?: string;\n    delay?: number;\n    size?: number;\n    focus?: boolean;\n    type?: \"text\" | \"password\" | \"submit\" | \"color\" | \"date\"\n    | \"datetime-local\" | \"email\" | \"month\" | \"number\" | \"range\"\n    | \"search\" | \"tel\" | \"time\" | \"url\" | \"week\";\n    validator?: (value: string) => any;\n    onChange?: IStringSlot\n}\n\ninterface IInputState {\n    error?: string;\n}\n\nexport default class Input extends React.Component<IInputProps, IInputState> {\n    private timerId: number;\n    readonly input: React.RefObject<HTMLInputElement>;\n    value: string = \"\";\n\n    constructor(props: IInputProps) {\n        super(props);\n        this.state = {};\n        this.onFocus = this.onFocus.bind(this);\n        this.onBlur = this.onBlur.bind(this);\n        this.onChange = this.onChange.bind(this);\n        this.timerId = 0;\n        this.input = React.createRef();\n        this.setFocus = Debouncer(this.setFocus.bind(this), 100);\n    }\n\n    setFocus() {\n        const input = this.input ? this.input.current : null;\n        if (!input) return;\n        const focus = castBoolean(this.props.focus, false);\n        if (focus) {\n            console.log(\"focus =\", input);\n            input.focus();\n        }\n    }\n\n    onFocus(event: React.FocusEvent<HTMLInputElement>): void {\n        const input = this.input ? this.input.current : null;\n        if (!input) return;\n        if (!input.classList) return;\n        input.classList.remove(\"thm-bg3\");\n        input.classList.add(\"thm-bgSL\");\n        if (this.props.type !== 'number') {\n            // setSelectionRange fails for \"number\" input.\n            input.setSelectionRange(0, input.value.length);\n        }\n    }\n\n    onBlur(event: React.FocusEvent<HTMLInputElement>): void {\n        const input = this.input ? this.input.current : null;\n        if (!input) return;\n        if (!input.classList) return;\n        input.classList.add(\"thm-bg3\");\n        input.classList.remove(\"thm-bgSL\");\n    }\n\n    onChange(event: React.ChangeEvent<HTMLInputElement>): void {\n        if (!this.checkValidity(event.target.value)) return;\n\n        const\n            p = this.props,\n            slot = p.onChange,\n            delay = castInteger(p.delay, 300);\n\n        event.preventDefault();\n        this.value = event.target.value;\n\n        if (typeof slot === 'function') {\n            if (this.timerId !== 0) window.clearTimeout(this.timerId);\n            this.timerId = window.setTimeout(() => {\n                const value = this.value;\n                if (this.props.type === 'number') {\n                    const num = parseFloat(value);\n                    console.log(\"This is a number:\", num, typeof num);\n                    slot(num)\n                } else {\n                    slot(value)\n                }\n            }, delay);\n        }\n    }\n\n    checkValidity(value: string) {\n        let validator = this.props.validator;\n        this.setState({ error: null });\n        if (typeof validator !== 'function') {\n            if (this.props.type !== 'number') return true;\n            validator = NUMBER_VALIDATOR;\n        }\n        console.log(\"validator =\", validator);\n\n        try {\n            const result = validator(value);\n            console.log(\"result =\", result);\n\n            if (result === true) return true;\n            if (typeof result === \"string\") {\n                this.setState({ error: result });\n            }\n        } catch (ex) {\n            console.error(`<Input> Unable to validate \"${value}\"!`, ex);\n        }\n        return false;\n    }\n\n    componentDidMount() {\n        console.log(\"MOUNT\");\n        this.setFocus();\n    }\n\n    componentDidUpdate(oldProps: IInputProps) {\n        console.log(\"UPDATE\");\n        const\n            newProps = this.props,\n            input = this.input ? this.input.current : null;\n\n        //if (input) input.value = castString(newProps.value, \"\");\n        if (castBoolean(this.props.focus, false)) {\n            this.setFocus();\n        }\n    }\n\n    render() {\n        const\n            p = this.props,\n            type = castString(p.type, \"text\"),\n            label = castString(p.label, \"\"),\n            value = castString(p.value, \"\"),\n            size = Math.max(1, castInteger(p.size, 8)),\n            error = this.state.error,\n            id = nextId();\n        const header = (error ? <div className=\"thm-bgSD error\">{error}</div> :\n            (label ? (<label htmlFor={id} className=\"thm-bgPD\">{label}</label>) : null));\n        return (<div className=\"tfw-view-input thm-ele-button\" >\n            {header}\n            <input\n                ref={this.input}\n                className=\"thm-bg3\"\n                type={type}\n                id={id}\n                size={size}\n                onFocus={this.onFocus}\n                onBlur={this.onBlur}\n                onChange={this.onChange}\n                defaultValue={value} />\n        </div>);\n    }\n}\n\n\nlet globalId = 0;\nfunction nextId() {\n    return `tfw-view-input-${globalId++}`;\n}\n\n\nconst NUMBER_VALIDATOR = (value: string) => isNaN(parseFloat(value)) ? _('nan') : true;\n","export default {\n    /**\n     * @param {string|React.ReactElement<any>} message\n     * @param {()=>void|null} onClose\n     */\n    alert,\n    show\n};\n\nimport * as React from \"react\"\nimport ReactDOM from 'react-dom'\nimport Icon from \"../view/icon\"\nimport EscapeHandler from \"../escape-handler\"\nimport castString from \"../converter/string\"\nimport castBoolean from \"../converter/boolean\"\nimport \"./dialog.css\"\n\nimport Button from \"../view/button\"\n\nimport Intl from \"../intl\";\nconst _ = Intl.make(require(\"./dialog.yaml\"));\n\ninterface IOptions {\n    onClose?: () => void;\n    closeOnEscape?: boolean;\n    icon?: string;\n    title?: string;\n    content?: React.ReactElement<any>;\n    footer?: React.ReactElement<any>[] | React.ReactElement<any>;\n}\n\nclass Dialog {\n    _screen: HTMLElement;\n    _options: IOptions;\n    footer: React.ReactElement<any>[] | React.ReactElement<any> | null = null;\n\n    constructor(options: IOptions = {}) {\n        this._options = Object.assign({\n            closeOnEscape: true,\n            footer: <Button\n                icon=\"close\"\n                label={_('close')}\n                flat={true}\n                onClick={() => this.hide()} />\n        }, options);\n        this._options.closeOnEscape = castBoolean(this._options.closeOnEscape, true);\n        this.footer = this._options.footer;\n        const screen = document.createElement(\"div\");\n        screen.className = \"tfw-factory-dialog\";\n        document.body.appendChild(screen);\n        this._screen = screen;\n        this.hide = this.hide.bind(this);\n        if (this._options.closeOnEscape) {\n            EscapeHandler.add(() => this._hide());\n        }\n    }\n\n    show() {\n        const opt = this._options;\n        const title = castString(opt.title, \"\").trim();\n        const icon = castString(opt.icon, \"\").trim();\n        let footer: React.ReactElement<any> | null =\n            this.footer ? (<footer className=\"thm-bg1\" >{this.footer}</footer>) : null;\n        let header = null;\n        if (title.length > 0) {\n            header = (<header className=\"thm-bgPD\">\n                {icon.length > 0 ? <Icon content={icon} /> : null}\n                <div>{title}</div>\n            </header>)\n        }\n\n        ReactDOM.render((\n            <div className=\"thm-ele-dialog thm-bg2\" >\n                {header}\n                <div>{opt.content}</div>\n                {footer}\n            </div>\n        ), this._screen);\n        setTimeout(() => this._screen.classList.add(\"show\"), 10);\n    }\n\n    hide() {\n        EscapeHandler.fire();\n    }\n\n    _hide() {\n        const screen = this._screen;\n        screen.classList.remove(\"show\");\n        setTimeout(() => {\n            document.body.removeChild(screen);\n        }, 200);\n        const onClose = this._options.onClose;\n        if (typeof onClose === 'function') {\n            requestAnimationFrame(onClose);\n        }\n    }\n}\n\nfunction alert(content: string | React.ReactElement<any>, onClose: () => void | null = null): Dialog {\n    const dialog = new Dialog({ onClose, content });\n    dialog.footer = (<Button\n        icon=\"close\"\n        label={_('close')}\n        flat={true}\n        onClick={dialog.hide} />);\n    dialog.show();\n    return dialog;\n}\n\nfunction show(options: IOptions): Dialog {\n    const dialog = new Dialog(options);\n    dialog.show();\n    return dialog;\n}\n","import * as React from \"react\"\nimport Icon from \"../tfw/view/icon\"\nimport Combo from \"../tfw/view/combo\"\nimport Input from \"../tfw/view/input\"\nimport Checkbox from \"../tfw/view/checkbox\"\nimport Fieldset from \"../tfw/view/Fieldset\"\n\nimport Dialog from \"../tfw/factory/dialog\"\n\nimport Flex from \"../tfw/layout/flex\"\n\nimport { iconsBook } from \"../tfw/icons\";\n\ninterface IIconState {\n    content: string;\n    size: string;\n    flipH: boolean;\n    flipV: boolean;\n    animate: boolean;\n    rotate: number;\n}\n\nexport default class PageButton extends React.Component<{}, IIconState> {\n    constructor(props: {}) {\n        super(props);\n        this.state = {\n            content: \"counter\",\n            size: \"28px\",\n            flipH: false,\n            flipV: false,\n            animate: false,\n            rotate: 0\n        };\n    }\n\n    render() {\n        const s = this.state;\n        return (\n            <div className=\"page\">\n                <Fieldset label=\"Icon\">\n                    <ul>\n                        <li><code>onClick()</code></li>\n                        <li><code>content</code> (string|object)</li>\n                        <li><code>size</code> (string|number): Default \"28px\".</li>\n                        <li><code>animate</code> (boolean): Default false.</li>\n                    </ul>\n                </Fieldset>\n                <hr />\n                <div>\n                    <Flex justifyContent=\"flex-start\">\n                        <div className=\"thm-bg0\"><Icon /></div>\n                        <div className=\"thm-bg1\"><Icon /></div>\n                        <div className=\"thm-bg2\"><Icon /></div>\n                        <div className=\"thm-bg3\"><Icon /></div>\n                        <div className=\"thm-bgPD\"><Icon /></div>\n                        <div className=\"thm-bgP\"><Icon /></div>\n                        <div className=\"thm-bgPL\"><Icon /></div>\n                        <div className=\"thm-bgSD\"><Icon /></div>\n                        <div className=\"thm-bgS\"><Icon /></div>\n                        <div className=\"thm-bgSL\"><Icon /></div>\n                    </Flex>\n                    <pre className=\"thm-bgPL\">{`<Icon/>`}</pre>\n                </div>\n                <hr />\n                <div>\n                    <Flex justifyContent=\"flex-start\">\n                        <Icon content=\"flag-en\" />\n                        <Icon content=\"flag-en\" flipH={true} />\n                        <Icon content=\"flag-en\" flipV={true} />\n                        <Icon content=\"flag-en\" flipV={true} flipH={true} />\n                        <Icon content=\"flag-en\" rotate={15} />\n                        <Icon content=\"flag-en\" rotate={40} flipH={true} />\n                        <Icon content=\"flag-en\" rotate={65} flipV={true} />\n                        <Icon content=\"flag-en\" rotate={90} flipV={true} flipH={true} />\n                    </Flex>\n                    <pre className=\"thm-bgPL\">{`<Icon content=\"flag-en\"/>\n<Icon content=\"flag-en\" flipH={true} />\n<Icon content=\"flag-en\" flipV={true} />\n<Icon content=\"flag-en\" flipV={true} flipH={true} />\n<Icon content=\"flag-en\" rotate={15} />\n<Icon content=\"flag-en\" rotate={40} flipH={true} />\n<Icon content=\"flag-en\" rotate={65} flipV={true} />\n<Icon content=\"flag-en\" rotate={90} flipV={true} flipH={true} />`}</pre>\n                </div>\n                <hr />\n                <div>\n                    <Flex justifyContent=\"center\">\n                        <Icon content={s.content}\n                            size={s.size}\n                            animate={s.animate}\n                            flipH={s.flipH}\n                            flipV={s.flipV}\n                            rotate={s.rotate} />\n                    </Flex>\n                    <Flex justifyContent=\"space-around\">\n                        <Combo label=\"content\"\n                            value={s.content}\n                            onChange={content => this.setState({ content })}>{\n                                Object.keys(iconsBook).map(name => (\n                                    <Flex justifyContent=\"space-between\" key={name}>\n                                        <Icon size=\"24px\" content={name} />\n                                        <div>{name}</div>\n                                    </Flex>\n                                ))\n                            }</Combo>\n                        <Combo label=\"size\" value={s.size}\n                            onChange={size => this.setState({ size })}>\n                            <div key=\"14px\">14px</div>\n                            <div key=\"28px\">28px</div>\n                            <div key=\"56px\">56px</div>\n                            <div key=\"4rem\">4rem</div>\n                            <div key=\"50%\">50%</div>\n                            <div key=\"40vmin\">40vmin</div>\n                        </Combo>\n                        <Checkbox label=\"flipH\" value={s.flipH}\n                            onChange={flipH => this.setState({ flipH })} />\n                        <Checkbox label=\"flipV\" value={s.flipV}\n                            onChange={flipV => this.setState({ flipV })} />\n                        <Checkbox label=\"animate\" value={s.animate}\n                            onChange={animate => this.setState({ animate })} />\n                        <Input label=\"rotate\" value={s.rotate} type=\"number\"\n                            onChange={rotate => this.setState({ rotate })} />\n                    </Flex>\n                </div>\n                <hr />\n                <p>Here is the list of all dfault icons. Click on the one you want details for.</p>\n                <Flex justifyContent=\"center\">{\n                    Object.keys(iconsBook).map(name => (\n                        <Icon key={name} content={name} size=\"32px\" onClick={() => showDetails(name)} />\n                    ))\n                }</Flex>\n                <hr />\n                <p>You can find more icons here: <a href=\"https://materialdesignicons.com/\">Material Design Icons</a>.</p>\n            </div >\n        )\n    }\n}\n\n\nfunction showDetails(name: string) {\n    Dialog.show({\n        title: name,\n        icon: name,\n        content: (<div>\n            <Flex>\n                <Icon size=\"16px\" content={name} />\n                <Icon size=\"28px\" content={name} />\n                <Icon size=\"32px\" content={name} />\n                <Icon size=\"64px\" content={name} />\n                <Icon size=\"128px\" content={name} />\n            </Flex>\n            <hr />\n            {\n                JSON.stringify(iconsBook[name], null, \"  \").split(\"\\n\").map((line, index) => (\n                    <div key={`L${index}`}>\n                        <code style={{\n                            paddingLeft: `${countLeadingSpaces(line)}em`\n                        }}>{line}</code>\n                    </div>\n                ))\n            }\n        </div>)\n    })\n}\n\n\nfunction countLeadingSpaces(line: string) {\n    let i = 0;\n    for (; i < line.length; i++) {\n        if (line.charAt(i) !== ' ' && line.charAt(i) !== '\\t') break;\n    }\n    return i;\n}\n","import * as React from \"react\"\nimport { iconsBook } from \"../tfw/icons\"\nimport Icon from \"../tfw/view/icon\"\nimport Flex from \"../tfw/layout/flex\"\nimport Combo from \"../tfw/view/combo\"\nimport Button from \"../tfw/view/button\"\nimport Fieldset from \"../tfw/view/Fieldset\"\n\ninterface IComboState {\n    [key: string]: string;\n}\n\nexport default class PageButton extends React.Component<{}, IComboState> {\n    constructor(props: {}) {\n        super(props);\n        this.state = { month: \"nov\", icon: \"star\", two: \"Y\" };\n\n    }\n\n    render() {\n        return (\n            <div className=\"page\">\n                <Fieldset label=\"Combo\">\n                    <ul>\n                        <li><code>onChange(value: string)</code></li>\n                        <li><code>label</code> (string)</li>\n                        <li><code>value</code> (string)</li>\n                        <li><code>wide</code> (boolean): Default false.</li>\n                    </ul>\n                </Fieldset>\n                <hr />\n                <div>\n                    <Flex>\n                        <Combo label=\"Select a month\"\n                            value={this.state.month}\n                            onChange={(month) => this.setState({ month })}>\n                            <div key=\"jan\">January</div>\n                            <div key=\"feb\">Fabruary</div>\n                            <div key=\"mar\">March</div>\n                            <div key=\"apr\">April</div>\n                            <div key=\"may\">May</div>\n                            <div key=\"jun\">June</div>\n                            <div key=\"jul\">July</div>\n                            <div key=\"aug\">August</div>\n                            <div key=\"sep\">September</div>\n                            <div key=\"oct\">October</div>\n                            <div key=\"nov\">November</div>\n                            <div key=\"dec\">December</div>\n                        </Combo>\n                        <span>Selected value: <b>{this.state.month}</b></span>\n                        <Button label=\"July\" icon=\"star\" onClick={() => this.setState({ month: \"jul\" })} />\n                    </Flex>\n                    <pre className=\"thm-bgPL\">{`<Combo label=\"Select a month\" value=\"nov\">\n    <div key=\"jan\">January</div>\n    <div key=\"feb\">Fabruary</div>\n    ...\n    <div key=\"dec\">December</div>\n</Combo>`}</pre>\n                </div>\n                <hr />\n                <div>\n                    <Flex>\n                        <Combo label=\"List of icons\"\n                            value={this.state.icon}\n                            onChange={(icon) => this.setState({ icon })}>{\n                                Object.keys(iconsBook).map(name => (\n                                    <Flex justifyContent=\"space-between\" key={name}>\n                                        <Icon size=\"24px\" content={name} />\n                                        <div>{name}</div>\n                                    </Flex>\n                                ))\n                            }</Combo>\n                        <Icon size=\"64px\" content={this.state.icon} />\n                        <Icon size=\"48px\" animate={true} content={this.state.icon} />\n                    </Flex>\n                    <p>The above example shows that you can put any element as children of a Combo,\n                        provided it does not exceed 32px height.</p>\n                </div>\n                <hr />\n                <Flex>\n                    <Combo label=\"How are you?\" value={this.state.two} onChange={two => this.setState({ two })}>\n                        <div key=\"Y\">Never better!</div>\n                        <div key=\"N\">I fell dizzy...</div>\n                    </Combo>\n                    <p>With only two items, we don't need to show the list.</p>\n                </Flex>\n            </div>\n        )\n    }\n}\n","import * as React from \"react\"\nimport Button from \"../tfw/view/button\"\nimport Dialog from \"../tfw/factory/dialog\"\nimport Fieldset from \"../tfw/view/Fieldset\"\n\nexport default class PageButton extends React.Component<{}, {}> {\n    handleClick() {\n        Dialog.alert(\"The button has been clicked!\");\n    }\n\n    render() {\n        return (\n            <div className=\"page\" >\n                <Fieldset label=\"Button\" >\n                    <ul>\n                        <li>\n                            <code>onClick(tag: any) </code>: emitted only if the button is enabled, on click and on\n                            <em>Enter</em> or <em>Space</em>.\n                        </li>\n                        < li ><code>label</code> (string)</li>\n                        <li><code>icon</code> (string)</li>\n                        <li><code>wide</code> (boolean)</li>\n                        <li><code>wait</code> (boolean)</li>\n                        <li><code>flat</code> (boolean)</li>\n                        <li><code>small</code> (boolean)</li>\n                        <li><code>warning</code> (boolean)</li>\n                        <li><code>enabled</code> (boolean)</li>\n                        <li><code>classes</code> (string[]): CSS classes you want to add to this element. For exemple <code>\"thm-flex-grow-1\"</code></li>\n                        <li><code>tag</code> (any): Any data which will be used as argument for the onClick handler.</li>\n                    </ul>\n                </Fieldset>\n                <div>\n                    <Button onClick={this.handleClick} label=\"Click me!\" />\n                    <Button label=\"warning\" warning={true} />\n                    <Button label=\"icon\" icon=\"gear\" />\n                    <Button label=\"warning\" enabled={false} warning={true} />\n                    <Button label=\"Disabled\" icon=\"gear\" enabled={false} />\n                    <pre className=\"thm-bgPL\">{`<Button label=\"Click me!\" onClick={this.handleClick}/>\n<Button label=\"warning\" warning={true}/>\n<Button label=\"icon\" icon=\"gear\"/>\n<Button label=\"warning\" enabled={false} warning={true}/>\n<Button label=\"Disabled\" icon=\"gear\" enabled={false}/>`}</pre>\n                </div>\n                <div>\n                    <Button icon=\"refresh\" />\n                    <Button icon=\"refresh\" wait={true} />\n                    <Button icon=\"refresh\" warning={true} />\n                    <Button icon=\"refresh\" flat={true} />\n                    <Button icon=\"refresh\" small={true} />\n                    <pre className=\"thm-bgPL\">{`<Button icon=\"refresh\" />\n<Button icon=\"refresh\" wait={true} />\n<Button icon=\"refresh\" warning={true} />\n<Button icon=\"refresh\" flat={true}/>\n<Button icon=\"refresh\" small={true}/>`}</pre>\n                </div>\n                < hr />\n                <div>\n                    <Button label=\"flat\" flat={true} />\n                    <Button label=\"confirm\" icon=\"ok\" flat={true} /> `\n                    <Button label=\"Delete\" flat={true} warning={true} icon=\"delete\" />\n                    <Button label=\"confirm\" enabled={false} icon=\"ok\" flat={true} />\n                    <Button label=\"Delete\" enabled={false} flat={true} warning={true} icon=\"delete\" />\n                    <pre className=\"thm-bgPL\">{`<Button label=\"flat\" flat={true}/>\n<Button label=\"confirm\" icon=\"ok\" flat={true}/>\n<Button label=\"Warning!\" flat={true} warning={true}/>\n<Button label=\"Delete\" flat={true} warning={true} icon=\"delete\"/>\n<Button label=\"confirm\" enabled={false} icon=\"ok\" flat={true}/>\n<Button label=\"Delete\" enabled={false} flat={true} warning={true} icon=\"delete\"/>`}</pre>\n                </div>\n                < hr />\n                <div>\n                    <Button label=\"small\" small={true} />\n                    <Button label=\"small & flat\" small={true} flat={true} />\n                    <Button label=\"small\" icon=\"wait\" small={true} />\n                    <Button label=\"small\" icon=\"wait\" small={true} wait={true} />\n                    <Button label=\"small\" warning={true} small={true} />\n                    <pre className=\"thm-bgPL\">{`<Button label=\"small\" small={true}/>\n<Button label=\"small & flat\" small={true} flat={true}/>\n<Button label=\"small\" icon=\"wait\" small={true}/>\n<Button label=\"small\" icon=\"wait\" small={true} wait={true}/>\n<Button label=\"small\" warning={true} small={true} />`}</pre>\n                </div>\n                < hr />\n                <div>\n                    <Button label=\"Wide Button\" icon=\"link\" wide={true} />\n                    <pre className=\"thm-bgPL\">{`<Button label=\"Wide Button\" icon=\"link\" wide={true} />`}</pre>\n                </div>\n            </div >\n        )\n    }\n}\n","import * as React from \"react\"\nimport Checkbox from \"../tfw/view/checkbox\"\nimport Dialog from \"../tfw/factory/dialog\"\nimport Fieldset from \"../tfw/view/Fieldset\"\n\ninterface ICheckboxState {\n    [key: string]: boolean;\n}\n\nexport default class PageButton extends React.Component<{}, ICheckboxState> {\n    constructor(props: {}) {\n        super(props);\n        this.state = { v1: false, v2: true };\n    }\n\n    render() {\n        return (\n            <div className=\"page\">\n                <Fieldset label=\"Checkbox\">\n                    <ul>\n                        <li><code>onChange(value: boolean)</code></li>\n                        <li><code>label</code> (string)</li>\n                        <li><code>value</code> (boolean): Default false.</li>\n                        <li><code>wide</code> (boolean): Default false.</li>\n                        <li><code>reverse</code> (boolean): If true, the button is at the right. Default false.</li>\n                    </ul>\n                </Fieldset>\n                <hr />\n                <div>\n                    <Checkbox label=\"Nuclear attack activated\"\n                        value={this.state.v1}\n                        onChange={() => this.setState({ v1: !this.state.v1 })} />\n                    <Checkbox label=\"Viral attack activated\"\n                        value={this.state.v2}\n                        onChange={() => this.setState({ v2: !this.state.v2 })} />\n                    <pre className=\"thm-bgPL\">{`<Button label=\"Nuclear attack activated\"/>\n<Button label=\"Viral attack activated\"/>`}</pre>\n                </div>\n                <hr />\n                <div>\n                    <Checkbox label=\"Nuclear attack activated\"\n                        wide={true} reverse={true}\n                        value={this.state.v1}\n                        onChange={() => this.setState({ v1: !this.state.v1 })} />\n                    <Checkbox label=\"Viral attack activated\"\n                        wide={true} reverse={true}\n                        value={this.state.v2}\n                        onChange={() => this.setState({ v2: !this.state.v2 })} />\n                    <pre className=\"thm-bgPL\">{`<Button wide={true} reverse={true} label=\"Nuclear attack activated\"/>\n<Button wide={true} reverse={true} label=\"Viral attack activated\"/>`}</pre>\n                </div>\n            </div >\n        )\n    }\n}\n","/**\n * @example\n * import Storage from \"./tfw/storage\";\n * Storage.local.set(\"state\", {lang:\"jp\", currentPage: \"checkpoint-list\"});\n * const state = Storage.local.get(\"state\", {lang:\"jp\", currentPage: \"checkpoint-list\"});\n * Storage.local.del(\"state\");\n */\n\nexport default {\n    local: makeStorage(window.localStorage),\n    session: makeStorage(window.sessionStorage)\n};\n\ninterface IStorage {\n    getItem: (key: string)=>any;\n    setItem: (key: string, val: any)=>void;\n    removeItem: (key: string)=>void;\n}\n\nfunction makeStorage(storage:IStorage) {\n    return {\n        get(key: string, defaultValue: any): any {\n            const value = storage.getItem(key);\n            if( value === null) return defaultValue;\n            try {\n                return JSON.parse(value);\n            }\n            catch( ex ) {\n                console.error(`storage[\"${key}\"] is not parsable as a JSON object!\\n`\n                + `Its value is: \"${value}\".\\nThis item will be deleted.`);\n                storage.removeItem(key);\n                return defaultValue;\n            }\n        },\n\n        set(key: string, value: any) {\n            storage.setItem(key, JSON.stringify(value));\n        },\n\n        del(key: string) {\n            storage.removeItem(key);\n        }\n    }\n}\n","import React from \"react\"\nimport Theme from \"./tfw/theme\"\nimport Flex from \"./tfw/layout/flex\"\nimport Stack from \"./tfw/layout/stack\"\nimport Sidemenu from \"./tfw/layout/sidemenu\"\nimport Combo from \"./tfw/view/combo\"\nimport Button from \"./tfw/view/button\"\nimport PageList from \"./page/list\"\nimport PageIcon from \"./page/icon\"\r\nimport PageCombo from \"./page/combo\"\r\nimport PageButton from \"./page/button\"\nimport PageCheckbox from \"./page/checkbox\"\r\n\r\nimport Storage from \"./tfw/storage\"\r\n\nimport \"./tfw/font/josefin.css\"\nimport \"./App.css\";\n\ninterface IAppState {\n    page: string;\r\n    theme: string;\n    showmenu: boolean;\n}\n\nexport default class App extends React.Component<{}, IAppState> {\n    constructor(props: {}) {\n        super(props);\n        this.handleThemeChange = this.handleThemeChange.bind(this);\n        this.state = Storage.local.get(\"state\", { page: \"button\", theme: \"default\", showmenu: true });\n        Theme.apply(this.state.theme);\n    }\r\n\r\n    componentDidUpdate() {\r\n        Storage.local.set(\"state\", this.state);\r\n    }\n\n    handleThemeChange(name: string) {\n        this.setState({ theme: name });\n        Theme.apply(name);\n    }\n\n    link(id: string) {\n        return (\n            <Button key={id} label={id}\n                classes={\"thm-flex-grow-1\"}\n                enabled={id !== this.state.page}\n                onClick={() => this.setState({ page: id })} />\n        )\n    }\n\n    render() {\n        return (\n            <Sidemenu\n                show={this.state.showmenu}\n                onShowChange={() => this.setState({ showmenu: !this.state.showmenu })}\n                head=\"Tolokoban's components\"\n                menu={(\n                    <div>\n                        <Combo label=\"Current theme\"\n                            wide={true}\n                            value={this.state.theme}\n                            onChange={this.handleThemeChange}>\n                            <div key=\"default\">Default</div>\n                            <div key=\"ebony\">Ebony</div>\n                            <div key=\"fruity\">Fruity</div>\n                            <div key=\"dark\">Dark</div>\n                        </Combo>\n                        <hr />\n                        <Flex >{[\n                            this.link(\"button\"),\n                            this.link(\"checkbox\"),/*\n                            this.link(\"color-button-list\"),\n                            this.link(\"color-button\"),*/\n                            this.link(\"combo\"),\n                            this.link(\"icon\"),\n                            this.link(\"input\"),\n                            this.link(\"list\"),\n                            this.link(\"pane\")\n                        ]}</Flex>\n                    </div>\n                )}\n                body={(\n                    <div className=\"App\">\n                        <Stack value={this.state.page} scrollable={true}>\n                            <PageCombo key=\"combo\" />\r\n                            <PageButton key=\"button\" />\n                            <PageCheckbox key=\"checkbox\" />\r\n                            <PageIcon key=\"icon\" />\r\n                            <PageList key=\"list\" />\n                        </Stack>\n                    </div>\n                )} />\n        )\n    }\n}\n\n\nTheme.register(\"default\", { bgP: \"#1e90ff\", bgS: \"#ff8d1e\", bg3: \"#fff\" });\nTheme.register(\"ebony\", {\n    white: \"#fda\", black: \"#420\",\n    bg0: \"#febb77\", bg3: \"#fee3c7\",\n    bgP: \"#630\", bgS: \"#d36900\"\n});\nTheme.register(\"fruity\", { bgP: \"#900\", bgS: \"#faa\", bg3: \"#daa\", white: \"#fed\" });\nTheme.register(\"dark\", { bgP: \"#059335\", bg0: \"#000\", white: \"#ccc\" });\n","import React from \"react\";\nimport ReactDOM from 'react-dom'\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n/*\nimport BasicHandler from \"./tfw/gesture/basic-handler\"\n\nconst basicHandler = new BasicHandler(\n    document.body,\n    evt => {\n        console.info(\"[DOWN]\", evt);\n    },\n    evt => {\n        console.info(\"[UP]\", evt);\n    },\n    evt => {\n        console.info(\"[MOVE]\", evt);\n    });\n*/\n"],"sourceRoot":""}